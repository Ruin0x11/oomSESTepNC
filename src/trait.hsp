// Allocate trait-related variables.
*label_0095
	dim traitref, 10, 300
	sdim traitrefn, 80, 9
	sdim traitrefn2, 20, 6
	return



*label_0097
	dup roopbuf, cLevel(r1)
	if (tid == 24) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("短距離走者", "Short Distance Runner"), lang("中距離走者", "Middle Distance Runner"), lang("長距離走者", "Long Distance Runner")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("長年の特訓の成果がスタミナを高める", "Years of training strengthens your stamina."), lang("あなたは持久力がある[スタミナ+]", "You have good stamina. [Stamina+]"), lang("あなたはかなり持久力がある[スタミナ++]", "You have very good stamina. [Stamina++]"), lang("あなたの持久力は恐ろしい[スタミナ上昇]", "You have outstanding stamina. [Stamina+++]")
			}
			if (r1 != 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 3) {
		if (traitmode == 0) {
			traitref = 0, 0, 1, 1, 0, 100, -1
			traitrefn2 = lang("吸血鬼", "Vampiric Ability")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("吸血鬼の友人から血の吸い方を学ぶ", "Your vampire friend teaches you how to suck blood."), lang("あなたは血を吸うことができる", "You can suck blood now.")
			}
			if (r1 != 0) {
				return -1
			}
			return 1
		}
		spact(601 - 600) = 1
		return 1
	}
	if (tid == 40) {
		if (traitmode == 0) {
			traitref = 0, 0, 1, 1, 0, 100, -1
			traitrefn2 = lang("指導者", "Natural Leader")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("指導を続けるうちに、仲間を一時的に強くする方法を見つける", "You find how to strengthen your allies for a short time."), lang("あなたは仲間を一時的に強くできる", "You can temporally strengthen your allies.")
			}
			if (r1 != 0) {
				return -1
			}
			return 1
		}
		spact(656 - 600) = 1
		return 1
	}
	if (tid == 13) {
		if (traitmode == 0) {
			traitref = 0, 0, 1, 1, 0, 100, -1
			traitrefn2 = lang("空間歪曲", "Dimensional Move")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("夢の中で近くへの瞬間移動を思いつく", "You hit upon an idea of insta-teleport from a dream."), lang("あなたは空間を曲げられる", "You can insta-teleport to nearby tiles.")
			}
			if (r1 != 0) {
				return -1
			}
			return 1
		}
		spact(627 - 600) = 1
		return 1
	}
	if (tid == 14) {
		if (traitmode == 0) {
			traitref = 0, 0, 1, 1, 0, 100, -1
			traitrefn2 = lang("火炎芸", "Fire Breath")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("酒を飲んでいるうちに火を噴けるようになる", "Too much drinking makes you want to breath fire."), lang("あなたは口から火を噴ける", "You can breath fire.")
			}
			if (r1 != 0) {
				return -1
			}
			return 1
		}
		spact(602 - 600) = 1
		return 1
	}
	if (tid == 22) {
		if (traitmode == 0) {
			traitref = 0, 0, 1, 1, 0, 100, -1
			traitrefn2 = lang("催眠術師", "Hypnotism")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("突如として眠りの手を覚える", "Suddenly, you know how to make everyone sleep."), lang("あなたは催眠をかけることができる", "You can hypnotize single target.")
			}
			if (r1 != 0) {
				return -1
			}
			return 1
		}
		spact(618 - 600) = 1
		return 1
	}
	if (tid == 23) {
		if (traitmode == 0) {
			traitref = 0, 0, 1, 1, 0, 100, -1
			traitrefn2 = lang("毒の知恵", "Poison Nail")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("毒の研究の結果、毒の手を覚える", "Researching poisons leads you to a method to poison others."), lang("あなたは毒を盛ることができる", "You can poison a creature.")
			}
			if (r1 != 0) {
				return -1
			}
			return 1
		}
		spact(615 - 600) = 1
		return 1
	}
	if (tid == 21) {
		if (traitmode == 0) {
			traitref = 0, 0, 2, 1, 0, 100, -1
			traitrefn2 = lang("セクシー", "Sexy"), lang("色魔", "Lady Killer")
			if (gettrait(r1, tid) >= 0) {
				if (trophycheck(1) == 2) {
					p@trait = 5 + roopbuf / 5
				} else {
					p@trait = 5 + roopbuf / 10
				}
				traitrefn(2) = lang("セクシーなポーズを学ぶ", "You learn sexy poses."), lang("あなたはセクシーだ[魅力+" + p@trait + "]", "You are sexy. [CHR+" + p@trait + "]"), lang("あなたはとんでもない色魔だ[魅力+" + 2 * p@trait + "] ", "You are a lady killer. [CHR+" + 2 * p@trait + "]")
			}
			return 1
		}
		if (trophycheck(1) == 2) {
			sdata(17, r1) = limit(sdata(17, r1) + gettrait(r1, tid) * (5 + roopbuf / 5), sdata(17, r1) > 0, 2000000000)
		} else {
			sdata(17, r1) = limit(sdata(17, r1) + gettrait(r1, tid) * (5 + roopbuf / 10), sdata(17, r1) > 0, 2000000000)
		}
		return 1
	}
	if (tid == 5) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("腕相撲", "Arm Wrestler"), lang("腕相撲の達人", "Adept Arm Wrestler"), lang("腕相撲のチャンピオン", "Master Arm Wrestler")
			if (gettrait(r1, tid) >= 0) {
				if (trophycheck(1) == 2) {
					p@trait = 3 + roopbuf / 5
				} else {
					p@trait = 3 + roopbuf / 10
				}
				traitrefn(2) = lang("腕相撲の特訓で筋力を高める", "Training arm wrestling increases your strength."), lang("あなたは腕相撲が強い[筋力+" + p@trait + "]", "You are an arm wrestler. [STR+" + p@trait + "]"), lang("あなたは腕相撲の達人だ[筋力+" + 2 * p@trait + "]", "You are a good arm wrestler. [STR+" + 2 * p@trait + "]"), lang("あなたは腕相撲のチャンピオンだ[筋力+" + 3 * p@trait + "]", "You are a master of arm wrestling. [STR+" + 3 * p@trait + "]")
			}
			return 1
		}
		if (trophycheck(1) == 2) {
			sdata(10, r1) = limit(sdata(10, r1) + gettrait(r1, tid) * (3 + roopbuf / 5), sdata(10, r1) > 0, 2000000000)
		} else {
			sdata(10, r1) = limit(sdata(10, r1) + gettrait(r1, tid) * (3 + roopbuf / 10), sdata(10, r1) > 0, 2000000000)
		}
		return 1
	}
	if (tid == 38) {
		if (traitmode == 0) {
			traitref = 0, 0, 2, 1, 0, 100, -1
			traitrefn2 = lang("見習い会計士", "Apprentice Accountant"), lang("熟練会計士", "Expert Accountant")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("会計の技能を磨き税金を減らす", "Working as an accountant reduces your tax payment."), lang("あなたは税金の計算に強い[税金7%減]", "You can set expenses off against tax. [TAX-7%]"), lang("あなたは税金の計算にとても強い[税金15%減]", "You are good at setting expenses off against tax. [TAX-15%]")
			}
			if (r1 != 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 39) {
		if (traitmode == 0) {
			traitref = 0, 0, 2, 1, 0, 100, -1
			traitrefn2 = lang("見習い補給係", "Apprentice Quartermaster"), lang("熟練補給係", "Expert Quartermaster")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("補給係としての経験が、給料物資の品質を上げる", "Working as a quartermaster gives you better payoff."), lang("あなたはたまに質の高い補給品を受け取る", "You sometimes receive quality supplies."), lang("あなたは頻繁に質の高い補給品を受け取る", "You frequently receive quality supplies.")
			}
			if (r1 != 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 42) {
		if (traitmode == 0) {
			traitref = 0, 0, 1, 1, 0, 100, -1
			traitrefn2 = lang("祈祷師", "Exorcist")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("祈祷を捧げることで、呪いの言葉の効力を弱める", "Your prayer weakens the power of cursed whisperings."), lang("あなたの祈りは呪いの言葉を掻き消す", "Your prayer nullifies cursed whisperings.")
			}
			if (r1 != 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 9) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("我慢強い", "Tough"), lang("とても我慢強い", "Pretty Tough"), lang("恐ろしく我慢強い", "Awfully Tough")
			if (gettrait(r1, tid) >= 0) {
				if (trophycheck(1) == 2) {
					p@trait = 4 + roopbuf / 5
				} else {
					p@trait = 4 + roopbuf / 10
				}
				traitrefn(2) = lang("頭を壁にぶつけて耐久力を高める", "Pushing your head against a wall makes you tougher."), lang("あなたは我慢強い[耐久+" + p@trait + "]", "You are tough. [CON+" + p@trait + "]"), lang("あなたはとても我慢強い[耐久+" + 2 * p@trait + "]", "You are pretty tough. [CON+" + 2 * p@trait + "]"), lang("あなたは恐ろしく我慢強い[耐久+" + 3 * p@trait + "]", "You are awfully tough. [CON+" + 3 * p@trait + "]")
			}
			return 1
		}
		if (trophycheck(1) == 2) {
			sdata(11, r1) = limit(sdata(11, r1) + gettrait(r1, tid) * (4 + roopbuf / 5), sdata(11, r1) > 0, 2000000000)
		} else {
			sdata(11, r1) = limit(sdata(11, r1) + gettrait(r1, tid) * (4 + roopbuf / 10), sdata(11, r1) > 0, 2000000000)
		}
		return 1
	}
	if (tid == 20) {
		if (traitmode == 0) {
			traitref = 0, 0, 5, 1, 0, 100, -1
			traitrefn2 = lang("腕自慢", "Well Toned Arm"), lang("喧嘩上手", "Street Fighter"), lang("格闘家", "Martial Artist"), lang("格闘の達人", "Martial Arts Expert"), lang("拳聖", "Holy Fist")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("ストリートファイトに興じ格闘技の技を得る", "You learn to fight with your bare hands by street fighting."), lang("あなたは腕っぷしが強い[格闘の攻撃倍率+5%]", "You have a powerful arm. [Unarmed Dmg +5%]"), lang("あなたは喧嘩に負けない[格闘の攻撃倍率+15%]", "You don't lose your fights. [Unarmed Dmg +15%]"), lang("あなたは格闘技を会得している[格闘の攻撃倍率+35%]", "You have refined your technique with bare hands. [Unarmed Dmg +35%]"), lang("あなたは格闘技の達人だ[格闘の攻撃倍率+70%]", "You have mastered the art of close combat. [Unarmed Dmg +70%]"), lang("あなたは拳聖だ[格闘の攻撃倍率+100%]", "Your skills with bare fists are legendary. [Unarmed Dmg +100%]")
			}
			return 1
		}
		return 1
	}
	if (tid == 12) {
		if (traitmode == 0) {
			traitref = 0, 0, 2, 1, 0, 100, -1
			traitrefn2 = lang("集中", "Concentration"), lang("高い集中", "More Concentration")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("日々瞑想し詠唱技術を高める", "Daily meditation increases your casting skill."), lang("あなたの集中力は高い[詠唱の潜在能力上昇+40%]", "You are very focused. [Casting potential +40%]"), lang("あなたは極度に集中できる[詠唱の潜在能力上昇+80%]", "You do not break focus while concentrating. [Casting potential +80%]")
			}
			if (sorg(172, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 43) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("盾殴り", "Shield Bash"), lang("シールドアタック", "Shield Attack"), lang("シールドラッシュ", "Shield Rush")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("盾の扱いを身につけ、盾での攻撃機会を増やす", "Mastery with shields improves your chances to shield bash."), lang("あなたは盾で攻撃する機会を多く得る", "You bash with your shield more frequently."), lang("あなたは盾で追加攻撃する機会を得る", "You have a chance to make an extra shield bash."), lang("あなたは盾で追加攻撃する機会を多く得る", "You have even more chance to make an extra shield bash.")
			}
			if (sorg(168, r1) == 0) {
				return -1
			}
			return 1
		}
		cbitmod 30, r1, 1
		return 1
	}
	if (tid == 44) {
		if (traitmode == 0) {
			traitref = 0, 0, 1, 1, 0, 100, -1
			traitrefn2 = lang("優しい笑顔", "Gentle Face")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("優しい笑顔を習得し、敵が逃げ出すのを防ぐ", "Your gentle face prevents your enemies from escaping."), lang("あなたの攻撃は敵を恐怖させない", "Your attacks don't cause enemies to run.")
			}
			return 1
		}
		return 1
	}
	if (tid == 19) {
		if (traitmode == 0) {
			traitref = 0, 0, 5, 1, 0, 100, -1
			traitrefn2 = lang("二刀流の見習い", "Duel Wield Apprentice"), lang("二刀流の習熟", "Ambidextrous"), lang("二刀流の使い手", "Skilled Ambidextrous"), lang("二刀流の達人", "Improved Ambidextrous"), lang("真・二刀龍", "Amphisbaena")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("長年の修行により二刀流の技術を磨く", "Years of training hones your two weapons fighting skill."), lang("あなたは2.0sまでの武器を片手で扱える", "You can wield a weapon up to 2.0s with one hand."), lang("あなたは2.5sまでの武器を片手で扱える", "You can wield a weapon up to 2.5s with one hand."), lang("あなたは3.0sまでの武器を片手で扱える", "You can wield a weapon up to 3.0s with one hand."), lang("あなたは3.5sまでの武器を片手で扱える", "You can wield a weapon up to 3.5s with one hand."), lang("あなたは4.0sまでの武器を片手で扱える", "You can wield a weapon up to 4.0s with one hand.")

			}
			if (sorg(166, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 15) {
		if (traitmode == 0) {
			traitref = 0, 0, 2, 1, 0, 100, -1
			traitrefn2 = lang("暗闇への適正", "Conquer Darkness"), lang("暗闇への強い適正", "Conquer Deep Darkness")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("地底での生活が暗黒への耐性を高める", "Living in darkness makes you resistant to darkness."), lang("あなたは暗闇に慣れている[暗黒耐性強化]", "You don't fear darkness. [RES Darkness+]"), lang("あなたは闇の中で生活できる[暗黒耐性強化]", "You can dance in darkness. [RES Darkness++]")
			}
			return 1
		}
		sdata(53, r1) = limit(sdata(53, r1) + gettrait(r1, tid) * 50 / 2, sdata(53, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 18) {
		if (traitmode == 0) {
			traitref = 0, 0, 2, 1, 0, 100, -1
			traitrefn2 = lang("免疫", "Poison Tolerance"), lang("強い免疫", "More Poison Tolerance")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("貴族の毒見係のおかげで毒への耐性を得る", "Being a taster for a noble grants you resistance to poison."), lang("あなたは毒に免疫がある[毒耐性強化]", "You have a tolerance to poison. [RES Poison+]"), lang("あなたには毒に強い免疫がある[毒耐性強化]", "You have a strong tolerance to poison. [RES Poison++]")
			}
			return 1
		}
		sdata(55, r1) = limit(sdata(55, r1) + gettrait(r1, tid) * 50 / 2, sdata(55, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 16) {
		if (traitmode == 0) {
			traitref = 0, 0, 2, 1, 0, 100, -1
			traitrefn2 = lang("交渉上手", "Negotiator"), lang("交渉の神", "Great Negotiator")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("行商人の元で働き交渉の技術を学ぶ", "Working under a trader improves your negotiation skill."), lang("あなたは交渉が上手い[交渉の潜在能力上昇+40%]", "You are a good negotiator. [Negotiation potential +40%]"), lang("あなたの交渉は神ががっている[交渉の潜在能力上昇+80%]", "You are silver tongued. [Negotiation potential +80%]")
			}
			if (sorg(156, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 17) {
		if (traitmode == 0) {
			traitref = 0, 0, 2, 1, 0, 100, -1
			traitrefn2 = lang("信者", "Believer"), lang("狂信者", "Zealot")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("神官の下で修行し信仰を深める", "Training under a priest deepens your faith."), lang("あなたは信仰に篤い[信仰の潜在能力上昇+40%]", "Your faith is unshakable. [Faith potential +40%]"), lang("あなたは猛烈な信者だ[信仰の潜在能力上昇+80%]", "You are a zealot. [Faith potential +80%]")
			}
			return 1
		}
		return 1
	}
	if (tid == 1) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("幸運の持ち主", "Lucky"), lang("類稀な幸運", "Incredibly Lucky"), lang("幸運の女神の寵愛", "Goddess of Luck")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("流れ星を見て幸運を手にする", "Sighting a falling star brings you luck."), lang("あなたは幸運の持ち主だ", "You are lucky"), lang("あなたは類稀な幸運の持ち主だ", "You can rely on a good dose of luck."), lang("あなたは幸運の女神の寵愛を受けている", "The goddess of luck smiles on you.")
			}
			if (r1 != 0) {
				return -1
			}
			return 1
		}
		if (trophycheck(1) == 2) {
			sdata(19, r1) = limit(sdata(19, r1) + gettrait(r1, tid) * 10, sdata(19, r1) > 0, 2000000000)
		} else {
			sdata(19, r1) = limit(sdata(19, r1) + gettrait(r1, tid) * 5, sdata(19, r1) > 0, 2000000000)
		}
		return 1
	}
	if (tid == 2) {
		if (traitmode == 0) {
			traitref = 0, 0, 5, 1, 0, 100, -1
			traitrefn2 = lang("苦行者見習い", "Apprentice Ascetic"), lang("苦行者", "Journeyman Ascetic"), lang("熟練の苦行者", "Expert Ascetic"), lang("苦行の達人", "Master Ascetic"), lang("伝説的苦行者", "Legendary Ascetic")
			if (gettrait(r1, tid) >= 0) {
				if (trophycheck(1) == 2) {
					traitrefn(2) = lang("苦行を通じてHPを増やす", "Being an ascetic increases your HP."), lang("あなたは苦行者の見習いだ[生命力+10]", "You are an apprentice of an ascetic. [Life+10]"), lang("あなたは立派な苦行者だ[生命力+20]", "You are a journeyman of an ascetic. [Life+20]"), lang("あなたは熟練した苦行者だ[生命力+30]", "You are an expert of an ascetic. [Life+30]"), lang("あなたは苦行の達人だ[生命力+40]", "You are a master of an ascetic. [Life+40]"), lang("あなたは伝説的名苦行者だ[生命力+50]", "You are an legendary ascetic. [Life+50]")
				} else {
					traitrefn(2) = lang("苦行を通じてHPを増やす", "Being an ascetic increases your HP."), lang("あなたは苦行者の見習いだ[生命力+5]", "You are an apprentice of an ascetic. [Life+5]"), lang("あなたは立派な苦行者だ[生命力+10]", "You are a journeyman of an ascetic. [Life+10]"), lang("あなたは熟練した苦行者だ[生命力+15]", "You are an expert of an ascetic. [Life+15]"), lang("あなたは苦行の達人だ[生命力+20]", "You are a master of an ascetic. [Life+20]"), lang("あなたは伝説的名苦行者だ[生命力+25]", "You are an legendary ascetic. [Life+25]")
				}
			}
			return 1
		}
		if (trophycheck(1) == 2) {
			sdata(2, r1) = limit(sdata(2, r1) + gettrait(r1, tid) * 10, sdata(2, r1) > 0, 2000000000)
		} else {
			sdata(2, r1) = limit(sdata(2, r1) + gettrait(r1, tid) * 5, sdata(2, r1) > 0, 2000000000)
		}
		return 1
	}
	if (tid == 11) {
		if (traitmode == 0) {
			traitref = 0, 0, 5, 1, 0, 100, -1
			traitrefn2 = lang("魔力の遺伝子", "Magical Gene"), lang("魔力の細胞", "Magical Cell"), lang("魔力の血液", "Magical Blood"), lang("魔力の肉体", "Magic Body"), lang("魔力の支配", "Magic Being")
			if (gettrait(r1, tid) >= 0) {
				if (trophycheck(1) == 2) {
					traitrefn(2) = lang("遺伝子組み換えを行いMPを増やす", "You gain MP by using gene manipulation."), lang("あなたは魔力の遺伝子を持っている[マナ+10]", "Your genes contain magic. [Mana+10]"), lang("あなたは魔力の細胞を持っている[マナ+20]", "Your cells contain magica [Mana+20]"), lang("あなたには魔力の血液が流れている[マナ+30]", "Your blood contain magic [Mana+30]"), lang("あなたの肉体は魔力を帯びている[マナ+40]", "Your body is made of magic. [Mana+40]"), lang("あなたは魔力を支配している[マナ+50]", "Magic dominats your entire body. [Mana+50]")
				} else {
					traitrefn(2) = lang("遺伝子組み換えを行いMPを増やす", "You gain MP by using gene manipulation."), lang("あなたは魔力の遺伝子を持っている[マナ+5]", "Your genes contain magic. [Mana+5]"), lang("あなたは魔力の細胞を持っている[マナ+10]", "Your cells contain magica [Mana+10]"), lang("あなたには魔力の血液が流れている[マナ+15]", "Your blood contain magic [Mana+15]"), lang("あなたの肉体は魔力を帯びている[マナ+20]", "Your body is made of magic. [Mana+20]"), lang("あなたは魔力を支配している[マナ+25]", "Magic dominats your entire body. [Mana+25")
				}
			}
			return 1
		}
		if (trophycheck(1) == 2) {
			sdata(3, r1) = limit(sdata(3, r1) + gettrait(r1, tid) * 10, sdata(3, r1) > 0, 2000000000)
		} else {
			sdata(3, r1) = limit(sdata(3, r1) + gettrait(r1, tid) * 5, sdata(3, r1) > 0, 2000000000)
		}
		return 1
	}
	if (tid == 6) {
		if (traitmode == 0) {
			traitref = 0, 0, 2, 1, 0, 100, -1
			traitrefn2 = lang("罠への注意", "Careful"), lang("罠への警戒", "Very Careful")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("周りを注意深く観察し、罠の発見を容易にする", "You tread carefully, making it easier to spot traps."), lang("あなたは罠に注意している[探知の潜在能力上昇+30%]", "You are cautious about traps. [Detection potential +30%]"), lang("あなたは罠に警戒している[探知の潜在能力上昇+60%]", "You are constantly vigilant about traps. [Detection potential +60%]")
			}
			if (sorg(159, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 4) {
		if (traitmode == 0) {
			traitref = 0, 0, 2, 1, 0, 100, -1
			traitrefn2 = lang("俊足", "Agile"), lang("韋駄天", "Very Agile")
			if (gettrait(r1, tid) >= 0) {
				if (trophycheck(1) == 2) {
          traitrefn(2) = lang("猫を追いかけて速くなる", "Chasing cats increases your speed."), lang("あなたは速く走ることができる[速度+10]", "You can run fast. [SPD+10]"), lang("あなたは猫よりも速い[速度+20]", "You can run faster than a cat. [SPD+20]")
        } else {
          traitrefn(2) = lang("猫を追いかけて速くなる", "Chasing cats increases your speed."), lang("あなたは速く走ることができる[速度+5]", "You can run fast. [SPD+5]"), lang("あなたは猫よりも速い[速度+10]", "You can run faster than a cat. [SPD+10]")
			  }
			}
			if (gettrait(r1, tid) == 1) {
				if (roopbuf < 5) {
					return -1
				}
			}
			return 1
		}
		if (trophycheck(1) == 2) {
			sdata(18, r1) = limit(sdata(18, r1) + gettrait(r1, tid) * 10, sdata(18, r1) > 0, 2000000000)
		} else {
			sdata(18, r1) = limit(sdata(18, r1) + gettrait(r1, tid) * 5, sdata(18, r1) > 0, 2000000000)
		}
		return 1
	}
	if (tid == 7) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("石の守備", "Stone Defense"), lang("鉄の守備", "Iron Defense"), lang("鋼の守備", "Steel Defense")
			if (gettrait(r1, tid) >= 0) {
				p@trait = 5 + roopbuf / 5
				traitrefn(2) = lang("受身を会得しPVを上昇させる", "You establish your own defensive style."), lang("あなたの防御は石のように硬い[PV+" + p@trait + "]", "Your defense is as hard as stone. [PV+" + p@trait + "]"), lang("あなたの守備は鉄壁だ[PV+" + 2 * p@trait + "]", "Your defense is as hard as iron. [PV+" + 2 * p@trait + "]"), lang("あなたの防御は鋼のように固い[PV+" + 3 * p@trait + "]", "Your defense is as hard as steel. [PV+" + 3 * p@trait + "]")
			}
			if (gettrait(r1, tid) == 1) {
				if (roopbuf < 5) {
					return -1
				}
			}
			return 1
		}
		cPv(r1) = limit(cPv(r1) + gettrait(r1, tid) * (5 + roopbuf / 5), cPv(r1) > 0, 2000000000)
		return 1
	}
	if (tid == 8) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("見極め", "Dodge"), lang("見極めの熟練者", "Improved Dodge"), lang("見極めの達人", "Greater Dodge")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("敵の動きを見極め華麗に回避する", "You carefully dodge attacks by observing incoming blows."), lang("あなたは見切れる[見切りの潜在能力上昇+40%]", "You can dodge enemy attacks. [Greater Evasion potential +40%]"), lang("あなたはかなり見切れる[見切りの潜在能力上昇+80%]", "You can really dodge enemy attacks. [Greater Evasion potential +80%]"), lang("あなたの見切りは伝説的だ[見切りの潜在能力上昇+120%]", "You sense incoming blows. [Greater Evasion potential +120%]")
			}
			if (sorg(187, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 10) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("回避の修練者", "Evade"), lang("回避の熟練者", "Improved Evade"), lang("回避の達人", "Greater Evade")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("回避の技術に磨きをかける", "You improve your evasion skill."), lang("あなたは回避に長けている[回避の潜在能力上昇+20%]", "You can somewhat evade enemy attacks. [Evasion potential +20%]"), lang("あなたは華麗に回避する[回避の潜在能力上昇+40%]", "You can evade enemy attacks. [Evasion potential +40%]"), lang("あなたは回避の達人だ[回避の潜在能力上昇+60%]", "You can really evade enemy attacks. [Evasion potential +60%]")
			}
			if (sorg(173, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 41) {
		if (traitmode == 0) {
			traitref = 1, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("カンニバリズム", "Cannibalism"), lang("あなたは人肉を食べることに抵抗がない", "You have no trouble eating human flesh.")
			}
			traitrefn = lang("あなたは人肉の味の虜になった。", "You are charmed by the flavor of human flesh."), lang("あなたは人肉の味に飽きた。", "You can no longer accept human flesh.")
			return 1
		}
		return 1
	}
	if (tid == 25) {
		if (traitmode == 0) {
			traitref = 1, -3, 3, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("鉄の皮膚", "Iron Skin"), lang("あなたの皮膚は硬い[PV+3]", "Your skin is hard. [PV+3]"), lang("あなたの皮膚はとても硬い[PV+6]", "Your skin is very hard. [PV+6]"), lang("あなたは鉄のような皮膚を持っている[PV+9]", "Your skin is as hard as iron. [PV+9]")
			}
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = lang("アルビノ", "Albino"), lang("あなたの皮膚は白い[PV-3]", "Your skin is white. [PV-3]"), lang("あなたの皮膚は脆い[PV-6]", "Your skin is fragile. [PV-6]"), lang("あなたの皮膚は崩れている[PV-9]", "Your skin is collapsing. [PV-9]")
			}
			traitrefn = lang("あなたの皮膚は硬くなった。", "Your skin becomes harder."), lang("あなたの皮膚は薄くなった。", "Your skin becomes pale.")
			return 1
		}
		cPv(r1) += gettrait(r1, tid) * 3
		return 1
	}
	if (tid == 26) {
		if (traitmode == 0) {
			traitref = 1, -3, 3, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("しなやかな関節", "Flexible Joint"), lang("あなたの関節はしなやかだ[器用+3]", "Your joints are flexible. [DEX+3]"), lang("あなたの関節はとてもしなやかだ[器用+6]", "Your joints are very flexible. [DEX+6]"), lang("あなたの関節は驚くほどしなやかだ[器用+9]", "Your joints are incredibly flexible. [DEX+9]")
			}
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = lang("きしむ関節", "Creaking Joint"), lang("あなたの関節はきしむ[器用-3]", "Your joints creak. [DEX-3]"), lang("あなたは関節痛に悩んでいる[器用-6]", "You are worrying about your joint creakings. [DEX-6]"), lang("あなたはひどい関節痛を抱えている[器用-9]", "You have terrible joint creakings. [DEX-9]")
			}
			traitrefn = lang("あなたの関節はしなやかになった。", "Your joints become flexible."), lang("あなたの関節は痛み出した。", "Your joints creak.")
			return 1
		}
		sdata(12, r1) = limit(sdata(12, r1) + gettrait(r1, tid) * 3, sdata(12, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 27) {
		if (traitmode == 0) {
			traitref = 1, -2, 2, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("トロールの血", "Troll Blood"), lang("あなたの傷跡は再生する[自然治癒強化]", "Your wounds regenerate rapidly. [Regeneration+]"), lang("あなたの傷は瞬く間にふさがる[自然治癒強化]", "Your wounds regenerate instantly. [Regeneration++]")
			}
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = lang("貧血", "Anemia"), lang("あなたは血の気が少ない[自然治癒弱化]", "You suffer from anemia. [Regeneration-]"), lang("あなたの顔には血の気が全くない[自然治癒弱化]", "You constantly have an attack of anemia. [Regeneration--]")
			}
			traitrefn = lang("あなたの血液は緑っぽくなった。", "Suddenly your blood become greenish!"), lang("あなたの血液は薄れた。", "Your metabolism slows down.")
			return 1
		}
		sdata(154, r1) = limit(sdata(154, r1) + gettrait(r1, tid) * 4, sdata(154, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 28) {
		if (traitmode == 0) {
			traitref = 1, -3, 3, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("しなやかな脚", "Lithe Leg"), lang("あなたの脚はしなやかだ[速度上昇]", "You have lithe legs. [SPD+5]"), lang("あなたの脚はとてもしなやかだ[速度上昇]", "You have very lithe legs. [SPD+10]"), lang("あなたの脚は理想的な形をしている[速度上昇]", "You have ideal legs. [SPD+15]")
			}
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = lang("ねじれた脚", "Twisted Leg"), lang("あなたの脚はねじれている[速度下降]", "Your legs are twisted. [SPD-5]"), lang("あなたの脚はとてもねじれている[速度下降]", "Your legs are very twisted. [SPD-10]"), lang("あなたの脚は折れている[速度下降]", "Your legs are broken. [SPD-15]")
			}
			traitrefn = lang("あなたの脚はしなやかになった。", "Your legs become lithe."), lang("あなたの脚はねじれた。", "Your legs are twisted!")
			return 1
		}
		sdata(18, r1) = limit(sdata(18, r1) + gettrait(r1, tid) * 5, sdata(18, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 29) {
		if (traitmode == 0) {
			traitref = 1, -3, 3, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("強い腕", "Strong Arm"), lang("あなたの腕はひきしまっている[筋力+3]", "You have well-knit arms. [STR+3]"), lang("あなたの腕は強力だ[筋力+6]", "You have well-muscled arms. [STR+6]"), lang("あなたの腕は筋肉の塊だ[筋力+9]", "You have ideal arms. [STR+9]")
			}
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = lang("弱い腕", "Weak Arm"), lang("あなたの腕はたるんでいる[筋力-3]", "Your arms are thin. [STR-3]"), lang("あなたの腕はとてもたるんでいる[筋力-6]", "Your arms are very thin. [STR-6]"), lang("あなたの腕には筋肉がない[筋力-9]", "Your arms are just decorative. [STR-9]")
			}
			traitrefn = lang("あなたの腕の筋肉が増えた。", "Your arms grow stronger."), lang("あなたの腕の贅肉が増えた。", "Your arms become thin.")
			return 1
		}
		sdata(10, r1) = limit(sdata(10, r1) + gettrait(r1, tid) * 3, sdata(10, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 30) {
		if (traitmode == 0) {
			traitref = 1, -2, 2, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("美声", "Sweet Voice"), lang("あなたは美声を持っている[魅力+5]", "Your voice is sweet.[CHR+5]"), lang("あなたの声は全てを魅了する[魅力+10]", "Your voice charms everyone.[CHR+10]")
			}
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = lang("かれた声", "Husky Voice"), lang("あなたの声はかれている[魅力-5]", "Your voice is hasky.[CHR-5]"), lang("あなたが喋ると皆逃げる[魅力-10]", "Everyone is frightened when you talk.[CHR-10]")
			}
			traitrefn = lang("あなたの声はよく通る。", "Your voice becomes lovely."), lang("あなたの声はかれた。", "Your voice becomes scary.")
			return 1
		}
		sdata(17, r1) = limit(sdata(17, r1) + gettrait(r1, tid) * 5, sdata(17, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 31) {
		if (traitmode == 0) {
			traitref = 1, -2, 2, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("脳内コンピュータ", "Brain Computer"), lang("あなたの脳は機械化している[暗記+4]", "Your brain is mechanized.[Memorization+4]"), lang("あなたの脳は完璧な機械だ[暗記+8]", "Your brain is fully mechanized.[Memorization+8]")
			}
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = lang("痴呆", "Stupid"), lang("あなたは少しぼけている[暗記-4]", "You are stupid.[Memorization-4]"), lang("あなたは痴呆だ[暗記-8]", "You are really stupid.[Memorization-8]")
			}
			traitrefn = lang("あなたの脳は機械化した。", "Your brain is mechanized!"), lang("あなたの脳は原始化した。", "Your brain degenerates.")
			return 1
		}
		if (sorg(165) != 0) {
			sdata(165, r1) = limit(sdata(165, r1) + gettrait(r1, tid) * 4, sdata(165, r1) > 0, 2000000000)
		}
		return 1
	}
	if (tid == 32) {
		if (traitmode == 0) {
			traitref = 1, -1, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("魔法への耐性", "Magic Res+"), lang("あなたは魔法に耐性がある[魔法耐性強化]", "You have resistance to magic.[RES Magic+]")
			}
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = lang("魔法の弱点", "Magic Res-"), lang("あなたは魔法に弱い[魔法耐性弱化]", "You have weakness to magic.[RES Magic-]")
			}
			traitrefn = lang("あなたは魔法の耐性を得た。", "You gain resistance to magic."), lang("あなたは魔法の耐性を失った。", "You lose resistance to magic.")
			return 1
		}
		sdata(60, r1) = limit(sdata(60, r1) + gettrait(r1, tid) * 50, sdata(60, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 33) {
		if (traitmode == 0) {
			traitref = 1, -1, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("強い鼓膜", "Sound Res+"), lang("あなたの鼓膜は厚い[音耐性強化]", "Your eardrums are thick.[RES Sound+]")
			}
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = lang("弱い鼓膜", "Sound Res-"), lang("あなたの鼓膜は薄い[音耐性弱化]", "Your eardrums are thin.[RES Sound-]")
			}
			traitrefn = lang("あなたの鼓膜は厚くなった。", "Your eardrums become thick."), lang("あなたの鼓膜は薄くなった。", "Your eardrums become thin.")
			return 1
		}
		sdata(57, r1) = limit(sdata(57, r1) + gettrait(r1, tid) * 50, sdata(57, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 34) {
		if (traitmode == 0) {
			traitref = 1, -1, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("火炎耐性", "Fire Res+"), lang("あなたの血は滾っている[火炎耐性強化]", "Your blood is boiling. [RES Fire+]")
			}
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = lang("火炎弱点", "Fire Res-"), lang("あなたの腕には鳥肌がたっている[火炎耐性弱化]", "Your skin gets gooseflesh.[RES Fire-]")
			}
			traitrefn = lang("あなたの血は滾りだした。", "Your blood starts to boil."), lang("あなたの腕に鳥肌がたった。", "Your skin gets gooseflesh.")
			return 1
		}
		sdata(50, r1) = limit(sdata(50, r1) + gettrait(r1, tid) * 50, sdata(50, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 35) {
		if (traitmode == 0) {
			traitref = 1, -1, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("冷気耐性", "Cold Res+"), lang("あなたの皮膚には霜が付いている[冷気耐性強化]", "Your skin is covered by frost.[RES Cold+]")
			}
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = lang("冷気弱点", "Cold Res-"), lang("あなたの皮膚は寒さに弱い[冷気耐性弱化]", "Your skin is sheer.[RES Cold-]")
			}
			traitrefn = lang("あなたの皮膚は冷たくなった。", "You feel hot-headed."), lang("あなたは汗をかきはじめた。", "You shiver.")
			return 1
		}
		sdata(51, r1) = limit(sdata(51, r1) + gettrait(r1, tid) * 50, sdata(51, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 36) {
		if (traitmode == 0) {
			traitref = 1, -1, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("電撃耐性", "Lightning Res+"), lang("あなたは非電導体だ[電撃耐性強化]", "You have resistance to lightning.[RES Lightning+]")
			}
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = lang("電撃弱点", "Lightning Res-"), lang("あなたの身体は電気を良く通す[電撃耐性弱化]", "You have weakness to lightning.[RES Lightning-]")
			}
			traitrefn = lang("あなたは非電導体になった。", "You gain resistance to lightning."), lang("あなたの身体は電気を良く通す。", "You lose resistance to lightning.")
			return 1
		}
		sdata(52, r1) = limit(sdata(52, r1) + gettrait(r1, tid) * 50, sdata(52, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 37) {
		if (traitmode == 0) {
			traitref = 1, -2, 2, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("鷹の目", "Hawk Eye"), lang("あなたは猫の目をしている[感覚+5]", "You have the eyes of a cat. [PER+5]"), lang("あなたは鷹の目をしている[感覚+10]", "You have the eyes of a hawk. [PER+10]")
			}
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = lang("色弱", "Color Blind"), lang("あなたは色弱だ[感覚-5]", "You are partially color-blind. [PER-5]"), lang("あなたは片目がない[感覚-10]", "You are blind in one eye. [PER-10]")
			}
			traitrefn = lang("あなたの目は細くなった。", "Your eyes glow."), lang("あなたの視力は低下した。", "Your sight is weakened.")
			return 1
		}
		sdata(13, r1) = limit(sdata(13, r1) + gettrait(r1, tid) * 5, sdata(13, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 150) {
		if (traitmode == 0) {
			traitref = 2, -2, 2, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたは火炎に耐性がある", "You have resistance to fire."), lang("あなたは火炎にかなりの耐性がある", "You have strong resistance to fire.")
			}
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは火炎に弱い", "You have weakness to fire."), lang("あなたはかなり火炎に弱い", "You have strong weakness to fire.")
			}
			return 1
		}
		sdata(50, r1) = limit(sdata(50, r1) + gettrait(r1, tid) * 50, sdata(50, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 151) {
		if (traitmode == 0) {
			traitref = 2, -2, 2, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたは冷気に耐性がある", "You have resistance to cold."), lang("あなたは冷気にかなりの耐性がある", "You have strong resistance to cold.")
			}
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは冷気に弱い", "You have weakness to cold."), lang("あなたはかなり冷気に弱い", "You have strong weakness to cold.")
			}
			return 1
		}
		sdata(51, r1) = limit(sdata(51, r1) + gettrait(r1, tid) * 50, sdata(51, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 152) {
		if (traitmode == 0) {
			traitref = 2, -2, 2, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたは毒に耐性がある", "You have resistance to poison."), lang("あなたは毒にかなりの耐性がある", "You have strong resistance to poison.")
			}
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは毒に弱い", "You have weakness to poison."), lang("あなたはかなり毒に弱い", "You have strong weakness to poison.")
			}
			return 1
		}
		sdata(55, r1) = limit(sdata(55, r1) + gettrait(r1, tid) * 50, sdata(55, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 155) {
		if (traitmode == 0) {
			traitref = 2, -2, 2, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたは暗黒に耐性がある", "You have resistance to darkness."), lang("あなたは暗黒にかなりの耐性がある", "You have strong resistance to darkness.")
			}
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは暗黒に弱い", "You have weakness to darkness."), lang("あなたはかなり暗黒に弱い", "You have strong weakness to darkness.")
			}
			return 1
		}
		sdata(53, r1) = limit(sdata(53, r1) + gettrait(r1, tid) * 50, sdata(53, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 156) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたはマナの反動を軽減できる", "You take less damages from the mana reaction.")
			}
			return 1
		}
		return 1
	}
	if (tid == 160) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたは高い耐性をもっている", "You have outstanding resistances.")
			}
			return 1
		}
		sdata(60, r1) = limit(sdata(60, r1) + 3 * 50, sdata(60, r1) > 0, 2000000000)
		sdata(52, r1) = limit(sdata(52, r1) + 2 * 50, sdata(52, r1) > 0, 2000000000)
		sdata(53, r1) = limit(sdata(53, r1) + 4 * 50, sdata(53, r1) > 0, 2000000000)
		sdata(57, r1) = limit(sdata(57, r1) + 1 * 50, sdata(57, r1) > 0, 2000000000)
		sdata(59, r1) = limit(sdata(59, r1) + 2 * 50, sdata(59, r1) > 0, 2000000000)
		sdata(54, r1) = limit(sdata(54, r1) + 4 * 50, sdata(54, r1) > 0, 2000000000)
		sdata(58, r1) = limit(sdata(58, r1) + 2 * 50, sdata(58, r1) > 0, 2000000000)
		sdata(51, r1) = limit(sdata(51, r1) + 2 * 50, sdata(51, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 161) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたは1s以上の物を装備できない[DV上昇]", "You can't wear equipment weight more than 1s. [DV++]")
			}
			return 1
		}
		if (cDv(r1) > 0) {
			cDv(r1) = cDv(r1) * 125 / 100 + 50
		}
		return 1
	}
	if (tid == 162) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたは罪悪感を感じない[カルマ上限-20]", "You don't feel guilty. [Karma limit -20]")
			}
			return 1
		}
		return 1
	}
	if (tid == 169) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたは良い心を持っている[カルマ上限+20]", "You are a good man. [Karma limit +20]")
			}
			return 1
		}
		return 1
	}
	if (tid == 163) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたの周りでは質の高いエンチャントが生成される", "Quality stuff is generated around you.")
			}
			return 1
		}
		return 1
	}
	if (tid == 164) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたが受ける物理ダメージは軽減される", "You are given physical damage reduction.")
			}
			return 1
		}
		return 1
	}
	if (tid == 165) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたの元素魔法は強化されている", "Elemental spells you cast are empowered.")
			}
			return 1
		}
		return 1
	}
	if (tid == 166) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたは周囲の狂気を緩和する", "You are surrounded by an aura that cures sanity.")
			}
			return 1
		}
		return 1
	}
	if (tid == 167) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたは萌える", "You are cute.")
			}
			return 1
		}
		return 1
	}
	if (tid == 157) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたは朦朧状態にならない", "You won't be dimmed.")
			}
			return 1
		}
		return 1
	}
	if (tid == 158) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたの食料の消化は遅い", "Your digestion is slow.")
			}
			return 1
		}
		return 1
	}
	if (tid == 159) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたはより多く採取できる", "You can gather more materials.")
			}
			return 1
		}
		return 1
	}
	if (tid == 154) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたには追加の成長ボーナスが与えられる", "You receive extra bonus points.")
			}
			return 1
		}
		return 1
	}
	if (tid == 153) {
		if (traitmode == 0) {
			traitref = 2, -2, 2, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたは魔法に耐性がある", "You have resistance to magic."), lang("あなたは魔法にかなりの耐性がある", "You have strong resistance to magic.")
			}
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは魔法に弱い", "You have weakness to magic."), lang("あなたはかなり魔法に弱い", "You have strong weakness to magic.")
			}
			return 1
		}
		sdata(60, r1) = limit(sdata(60, r1) + gettrait(r1, tid) * 50, sdata(60, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 0) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたの肉体は刻々と変化する", "Your body is changing every moment.")
			}
			return 1
		}
		return 1
	}
	if (tid == 168) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたのエーテル病の進行は遅い", "Your body slows the Ether Disease progress.")
			}
			return 1
		}
		return 1
	}
	if (tid == 170) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたの周りでは多くの財宝が生成される", "More treasures are generated around you.")
			}
			return 1
		}
		return 1
	}
	if (tid == 250) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたは気持ちいいことで空腹を満たすことが出来る", "You can fill your hunger with good feelings.")
			}
			return 1
		}
		return 1
	}
	if (tid == 251) {
		if (traitmode == 0) {
			traitref = 2, 99999999, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2 + gettrait(r1, 251)) = lang("あなたは錬治の経験をより深く知る[錬治取得経験値+", "You know more about the refining experience.[+") + gettrait(r1, tid) + "%]"
			}
			return 1
		}
		return 1
	}
	if (tid == 252) {
		if (traitmode == 0) {
			traitref = 2, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = "", lang("あなたの牧場では動物が増えやすい[繁殖力+50]", "Your farm is likely to have more animals.[Breed Power+50]")
			}
			return 1
		}
		return 1
	}
	if (tid == 201) {
		if (traitmode == 0) {
			traitref = 3, -3, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは重力を生み出している[重量+10%]", "You generate gravity. [Weight+10%]"), lang("あなたは大きな重力を生み出している[重量+20%]", "You generate heavy gravity. [Weight+20%]"), lang("あなたはとてつもない重力を生み出している[重量+30%]", "You generate massive gravity. [Weight+30%]")
			}
			traitrefn = lang("あなたの周りの重力は軽減した。", "You weight less."), lang("あなたは重力を発するようになった。", "You start to generate gravity.")
			return 1
		}
		return 1
	}
	if (tid == 202) {
		if (traitmode == 0) {
			traitref = 3, -3, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたの顔はただれている[魅力" + (-1) * (4 + roopbuf / 5) + "]", "You have sores on your face. [CHR" + (-1) * (4 + roopbuf / 5) + "]"), lang("あなたの顔中に蕁麻疹が出ている[魅力" + (-2) * (4 + roopbuf / 5) + "]", "Your face is ulcerate. [CHR" + (-2) * (4 + roopbuf / 5) + "]"), lang("あなたの顔は崩れかけている[魅力" + (-3) * (4 + roopbuf / 5) + "]", "Your face is crumbling. [CHR" + (-3) * (4 + roopbuf / 5) + "]")
			}
			traitrefn = lang("あなたの顔のただれは軽くなった。", "The swelling in your face decreases."), lang("あなたの顔はただれた。", "Your face is festered.")
			return 1
		}
		sdata(17, r1) = limit(sdata(17, r1) + gettrait(r1, tid) * (4 + roopbuf / 5), sdata(17, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 203) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたの足の裏は蹄になっている[足装備不可 速度+" + (20 + roopbuf / 2) + "]", "Your feet transformed into hooves. [SPD+" + (20 + roopbuf / 2) + " Can't wear boots]")
			}
			traitrefn = lang("あなたの足は元に戻った。", "Your feet become normal."), lang("あなたの足の裏は蹄に変形した。", "Your feet change into hooves.")
			return 1
		}
		sdata(18, r1) = limit(sdata(18, r1) + (20 + roopbuf / 2), sdata(18, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 204) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたの目は4つある[感覚+" + (5 + roopbuf / 3) + " 魅力" + (5 + roopbuf / 3) * (-1) + "]", "You have 4 eyes. [PER+" + (5 + roopbuf / 3) + " CHR" + (5 + roopbuf / 3) * (-1) + "]")
			}
			traitrefn = lang("あなたの目は減った。", "Your eyes become normal."), lang("あなたの目は増殖した。", "Your eyes are multiplying.")
			return 1
		}
		sdata(17, r1) = limit(sdata(17, r1) + (5 + roopbuf / 3) * (-1), sdata(17, r1) > 0, 2000000000)
		sdata(13, r1) = limit(sdata(13, r1) + (5 + roopbuf / 3), sdata(13, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 205) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたの背中には羽がある[背中装備不可 重量-20% 速度+" + (12 + roopbuf / 4) + "]", "You have grown feather. [SPD+" + (12 + roopbuf / 4) + " Weight-20% Can't wear cloaks]")
			}
			traitrefn = lang("あなたの背中から羽が消えた。", "Your feathers wilt."), lang("あなたの背中に羽が生えた。", "Feathers come out from your back.")
			return 1
		}
		cbitmod 5, r1, 1
		sdata(18, r1) = limit(sdata(18, r1) + (12 + roopbuf / 4), sdata(18, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 206) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたの首はもの凄く太い[首装備不可 魅力" + (5 + roopbuf / 5) * (-1) + " PV+" + (12 + roopbuf) + "]", "Your neck is extremely thick. [CHR" + (5 + roopbuf / 5) * (-1) + " PV+" + (12 + roopbuf) + " Can't wear amulets]")
			}
			traitrefn = lang("あなたの首は細くなった。", "Your neck becomes thin."), lang("あなたの首は太くなった。", "Your neck becomes extremely thick.")
			return 1
		}
		sdata(17, r1) = limit(sdata(17, r1) + (5 + roopbuf / 5) * (-1), sdata(17, r1) > 0, 2000000000)
		cPv(r1) += 12 + roopbuf
		return 1
	}
	if (tid == 207) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは殺戮に飢えている[DV" + (15 + roopbuf * 3 / 2) * (-1) + " ダメージ修正+" + int(sqrt(roopbuf) + limitmax(roopbuf, 10000) * 2 / 3) + "]", "Desire for violence arises within you. [DV" + (15 + roopbuf * 3 / 2) * (-1) + " Dmg bonus+" + int(sqrt(roopbuf) + limitmax(roopbuf, 10000) * 2 / 3) + "]")
			}
			traitrefn = lang("あなたの心は落ち着いた。", " A deep sense of peace fills your heart."), lang("あなたは憎しみに支配された。", "Hatred dominates your soul.")
			return 1
		}
		cDv(r1) += (15 + roopbuf * 3 / 2) * (-1)
		return 1
	}
	if (tid == 208) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたの頭は巨大化している[耐久" + (5 + roopbuf / 3) * (-1) + " 器用" + (4 + roopbuf / 4) * (-1) + " 習得+" + (6 + roopbuf / 2) + " 意思+" + (2 + roopbuf / 6) + "]", "Your head has grown huge. [CON" + (5 + roopbuf / 3) * (-1) + " DEX" + (4 + roopbuf / 4) * (-1) + " LER+" + (6 + roopbuf / 2) + " WIL+" + (2 + roopbuf / 6) + "]")
			}
			traitrefn = lang("あなたの頭は元に戻った。", "Your head is normal size now."), lang("あなたの頭は巨大化した。", "Suddenly your head become giant size.")
			return 1
		}
		sdata(11, r1) = limit(sdata(11, r1) + (5 + roopbuf / 3) * (-1), sdata(11, r1) > 0, 2000000000)
		sdata(12, r1) = limit(sdata(12, r1) + (4 + roopbuf / 4) * (-1), sdata(12, r1) > 0, 2000000000)
		sdata(14, r1) = limit(sdata(14, r1) + (6 + roopbuf / 2), sdata(14, r1) > 0, 2000000000)
		sdata(15, r1) = limit(sdata(15, r1) + (2 + roopbuf / 6), sdata(15, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 209) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは雨を呼ぶ[雨天確率上昇]", "Clouds of rain follow you. [Chance of rain+]")
			}
			traitrefn = lang("あなたの頭上から雨雲が消えた。", "Clouds of rain stop following you."), lang("あなたの頭上に雨雲が現れた。", "Clouds of rain start to follow you.")
			return 1
		}
		return 1
	}
	if (tid == 210) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたはポーション中毒だ[定期的ポーション消費]", "You are addicted to potion. [Consume potions]")
			}
			traitrefn = lang("あなたのポーション中毒は消えた。", "You are no longer addicted to potion."), lang("あなたはポーション中毒になった。", "Potions! More potions!! Suddenly, You become addicted to potion.")
			return 1
		}
		return 1
	}
	if (tid == 211) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは衰弱している[生命力-15 筋力" + (4 + roopbuf / 2) * (-1) + "]", "You suffer debilitation. [Life-15 STR" + (4 + roopbuf / 2) * (-1) + "]")
			}
			traitrefn = lang("あなたは健康になった。", "You become healthy again."), lang("あなたは衰弱した。", "You become weak, very weak.")
			return 1
		}
		sdata(10, r1) = limit(sdata(10, r1) + (4 + roopbuf / 2) * (-1), sdata(10, r1) > 0, 2000000000)
		sdata(2, r1) = limit(sdata(2, r1) + (-15), sdata(2, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 212) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは痴呆になっている[マナ-15 魔力" + (4 + roopbuf / 2) * (-1) + "]", "You have dementia. [Mana-15 MAG" + (4 + roopbuf / 2) * (-1) + "]")
			}
			traitrefn = lang("あなたは明晰になった。", "You become confident again."), lang("あなたはぼけた。", "You become feebleminded.")
			return 1
		}
		sdata(16, r1) = limit(sdata(16, r1) + (4 + roopbuf / 2) * (-1), sdata(16, r1) > 0, 2000000000)
		sdata(3, r1) = limit(sdata(3, r1) + (-15), sdata(3, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 213) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは重い甲殻で覆われている[PV+" + (15 + roopbuf / 2) + " 速度" + (20 + roopbuf / 2) * (-1) + "]", "You are covered by heavy carapace. [PV+" + (15 + roopbuf / 2) + " SPD" + (20 + roopbuf / 2) * (-1) + "]")
			}
			traitrefn = lang("あなたの皮膚から甲殻が消えた。", "Your carapace starts to break."), lang("あなたの皮膚は甲殻で覆われた。", "Heavy carapace starts to cover up your skin.")
			return 1
		}
		sdata(18, r1) = limit(sdata(18, r1) + (20 + roopbuf / 2) * (-1), sdata(18, r1) > 0, 2000000000)
		cPv(r1) += 15 + roopbuf / 2
		return 1
	}
	if (tid == 214) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたの周囲の空間は捩れている[ランダムテレポート]", "You are unstablizing space around you. [Random teleportation]")
			}
			traitrefn = lang("あなたの周囲の空間は元通りになった。", "You feel steady."), lang("あなたの周囲の空間は捩れた。", "You feel unstable.")
			return 1
		}
		return 1
	}
	if (tid == 215) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは生きたマナバッテリーだ[杖から魔力抽出]", "You are a living mana battery. [Absorb mana from rods]")
			}
			traitrefn = lang("あなたのマナは元通りになった。", "You are no longer a living mana battery."), lang("あなたのマナは杖から魔力を抽出する。", "You are a living mana battery.")
			return 1
		}
		return 1
	}
	if (tid == 216) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたの手から毒が滴っている[ポーション毒化 毒耐性強化]", "Poison drips from your hands. [Poison potions RES Poison+]")
			}
			traitrefn = lang("あなたの手は元通りになった。", "Your hands are clean now."), lang("あなたの手から毒が滴り出した。", "Poison starts to drip from your hands.")
			return 1
		}
		sdata(55, r1) = limit(sdata(55, r1) + 100, sdata(55, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 217) {
		if (traitmode == 0) {
			traitref = 3, -2, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたの耳は獣の耳だ[頭装備不可 感覚+" + abs(gettrait(r1, tid) * 3 / 2) * (15 + roopbuf / 3) + " 音耐性弱化]", "You have ears of an animal. [PER+" + (15 + roopbuf / 2) + " RES Sound- Can't wear helms]"), lang("あなたには獣の耳と尻尾がある[頭/腰装備不可 感覚+" + abs(gettrait(r1, tid) * 3 / 2) * (15 + roopbuf / 3) + " 音耐性大幅弱化]", "You have ears and tail of an animal. [PER+" + 2 * (15 + roopbuf / 2) + " RES Sound-- Can't wear helms/belts]")
			}
			traitrefn = lang("あなたの体は元に戻った。", "Your body returns to its original form."), lang("あなたの体は獣に近づいた。", "Your body turns closer to that of a beast.")
			return 1
		}
		sdata(13, r1) = limit(sdata(13, r1) + abs(gettrait(r1, tid) * 3 / 2) * (15 + roopbuf / 3), sdata(13, r1) > 0, 2000000000)
		sdata(57, r1) = limit(sdata(57, r1) + limitmin(abs(gettrait(r1, tid)) * (25 + roopbuf / 15 * 50) * (-1), -1000), sdata(57, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 218) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたの手には鋭く大きな爪が生えている[手装備不可 出血格闘]", "You have grown large claws. [Cut damage by unarmed attack. Can't have weapons in hands.]")
			}
			traitrefn = lang("あなたの手から爪が消えた。", "Your claws have subsided."), lang("あなたの手に強靭な爪が生えた。", "You grow large tough claws from your hands.")
			return 1
		}
		cElementOfUnarmedAttack(r1) = 61 * 100000 + limit(100 + roopbuf * 5 / 3, 100, 9999)
		return 1
	}
	if (tid == 219) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたの血はマナで沸き立つ[自然治癒大幅強化 マナ-50 魔法使用不可]", "Your blood agitates mana into steam. [Regeneration+++ Mana-50 Can't cast]")
			}
			traitrefn = lang("あなたの血は元通りになった。", "Your blood is no longer effected by mana."), lang("あなたの血はマナを熱に変えるようになった。", "Your blood boils from contact with mana.")
			return 1
		}
		sdata(154, r1) = limit(sdata(154, r1) + (16 + roopbuf * 3), sdata(154, r1) > 0, 2000000000)
		sdata(3, r1) = limit(sdata(3, r1) + (-50), sdata(3, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 220) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは強迫観念に囚われている[DV+" + (12 + roopbuf) + " 定期的恐怖]", "You suffer from severe anxiety. [DV+" + (12 + roopbuf) + " Periodic Fear]")
			}
			traitrefn = lang("あなたの心は落ち着いた。", "A deep sense of peace fills your heart."), lang("あなたは何もかもが恐ろしくなった。", "You are gripped with constant fear.")
			return 1
		}
		cDv(r1) += 12 + roopbuf
		return 1
	}
	if (tid == 221) {
		if (traitmode == 0) {
			traitref = 3, -3, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは周囲からマナを奪う[瞑想力強化 他者からマナ吸収]", "You drain mana around you. [Meditation+ Absorbs mana]"), lang("あなたは周囲から多くのマナを奪う[瞑想力強化 他者からマナ吸収]", "You drain significant amount of mana around you. [Meditation++ Absorbs mana]"), lang("あなたはマナを枯渇させる[瞑想力強化 他者からマナ吸収]", "Your endless thirst drains mana sources dry. [Meditation+++ Absorbs mana]")
			}
			traitrefn = lang("あなたのマナの吸引は弱くなった。", "Your mana drain weakens."), lang("あなたは周囲からマナを奪う。", "You drain mana from your surroundings.")
			return 1
		}
		sdata(155, r1) = limit(sdata(155, r1) + (5 + roopbuf * 2 / 3), sdata(155, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 222) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは大雪を呼ぶ[常に降雪]", "Clouds of big snow follow you. [Chance of snow+++]")
			}
			traitrefn = lang("あなたの頭上の大雪は止み始めた。", "Clouds of snow stop following you."), lang("あなたの頭上の天候が大雪になった。", "Clouds of big snow start to follow you.")
			return 1
		}
		return 1
	}
	if (tid == 223) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたの皮膚から酸が飛び散る[自身に酸ダメージ 酸が飛び散る]", "Acid splashes from your skin. [Acid damage to yourself]")
			}
			traitrefn = lang("あなたの皮膚の酸は止まった。", "The acid in your skin has stopped."), lang("あなたの皮膚から酸が噴き出るようになった。", "Acid began to spurt out of your skin.")
			return 1
		}
		return 1
	}
	if (tid == 224) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは自然発火する[自身に炎ダメージ 火柱が出現]", "You spontaneously combust. [Flame damage to yourself]")
			}
			traitrefn = lang("あなたの発火は止まった。", "Your firing has stopped."), lang("あなたは発火し始めた。", "You began to ignite.")
			return 1
		}
		return 1
	}
	if (tid == 225) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは捨て身の精神に囚われている[生命力-25 心眼+" + limitmax(roopbuf / 2 + 5, 10000) + "]", "You are trapped abandonment. [Life-25 Eye of Mind+" + limitmax(roopbuf / 2 + 5, 10000) + "]")
			}
			traitrefn = lang("あなたの精神は落ち着いた。", "Your mind has calmed down."), lang("あなたは捨て身の精神に囚われた。", "You were trapped in a spirit of abandonment.")
			return 1
		}
		sdata(2, r1) = limit(sdata(2, r1) + (-25), sdata(2, r1) > 0, 2000000000)
		sdata(186, r1) += limitmax(roopbuf / 2 + 5, 10000)
		return 1
	}
	if (tid == 226) {
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは体が硬直する[速度-" + ((roopbuf / 2) + 10) + " 稀に数ターン麻痺]", "Your body goes rigid.[SPD-" + ((roopbuf / 2) + 10) + " Rarely paralyzed]")
			}
			traitrefn = lang("あなたの体の緊張は収まった。", "The tension in your body has subsided."), lang("あなたの緊張が止まらなくなった。", "Your nervousness has stopped.")
			return 1
		}
		sdata(18, r1) = limit(sdata(18, r1) + (10 + roopbuf / 2) * (-1), sdata(18, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 227) {
		nc_intb_001 = gEtherDiseaseStage / 1000
		if (traitmode == 0) {
			traitref = 3, -1, 0, 1, 0, 100, -1
			if (gettrait(r1, tid) < 0) {
				traitrefn(2) = "", lang("あなたは段々とエーテルに蝕まれる[生命力-" + nc_intb_001 * 5 + " マナ-" + nc_intb_001 * 5 + " 速度+" + (nc_intb_001 * roopbuf / 5 + 10) + "]", "You will be consumed by the ether. [Life-" + nc_intb_001 * 5 + " Mana-" + nc_intb_001 * 5 + " SPD+" + (nc_intb_001 * roopbuf / 5 + 10) + "]")
			}
			traitrefn = lang("あなたのけだるさは収まった。", "Your sluggishness has subsided."), lang("あなたはけだるさを感じた。", "You felt sluggish.")
			return 1
		}
		sdata(2, r1) = limit(sdata(2, r1) - (nc_intb_001 * roopbuf / 5) , 0, 2000000000)
		sdata(3, r1) = limit(sdata(3, r1) - (nc_intb_001 * roopbuf / 5) , 0, 2000000000)
		sdata(18, r1) = limit(sdata(18, r1) + (nc_intb_001 * roopbuf / 5 + 10) , 0, 2000000000)
		return 1
	}
	if (tid == 45) {
		if (traitmode == 0) {
			traitref = 1, 0, 1, 1, 0, 100, -1
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("悪食", "Swallower"), lang("あなたは何でも食べられる", "Your stomach can digest anything.")
			}
			traitrefn = lang("あなたは何でも食べられるようになった。", "You become able to digest anything."), lang("あなたの胃袋は元に戻った。", "Your stomach returns to normal.")
			return 1
		}
		return 1
	}
	if (tid == 46) {
		if (traitmode == 0) {
			setweapontrait 100, gettrait(r1, tid)
			if (sorg(100, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 47) {
		if (traitmode == 0) {
			setweapontrait 101, gettrait(r1, tid)
			if (sorg(101, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 48) {
		if (traitmode == 0) {
			setweapontrait 102, gettrait(r1, tid)
			if (sorg(102, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 49) {
		if (traitmode == 0) {
			setweapontrait 103, gettrait(r1, tid)
			if (sorg(103, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 50) {
		if (traitmode == 0) {
			setweapontrait 104, gettrait(r1, tid)
			if (sorg(104, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 51) {
		if (traitmode == 0) {
			setweapontrait 105, gettrait(r1, tid)
			if (sorg(105, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 53) {
		if (traitmode == 0) {
			setweapontrait 107, gettrait(r1, tid)
			if (sorg(107, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 54) {
		if (traitmode == 0) {
			setweapontrait 108, gettrait(r1, tid)
			if (sorg(108, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 55) {
		if (traitmode == 0) {
			setweapontrait 109, gettrait(r1, tid)
			if (sorg(109, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 56) {
		if (traitmode == 0) {
			setweapontrait 110, gettrait(r1, tid)
			if (sorg(110, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 57) {
		if (traitmode == 0) {
			setweapontrait 111, gettrait(r1, tid)
			if (sorg(111, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 58) {
		if (traitmode == 0) {
			traitref = 0, 0, 4, 1, 0, 100, -1
			traitrefn2 = lang("食いしばり", "Guts"), lang("気合い", "Spirit"), lang("覚悟", "Steadfast"), lang("死神の寵愛", "Reaper's Pact")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("戦場の経験が死中に活を求める", "Experience from battles helps you escape a fatal blow."), lang("あなたは致死ダメージを受けても死なず、少し回復する", "Once per rest, you will survive a fatal blow and recover small amount of HP."), lang("あなたは致死ダメージを受けても死なず、回復する", "Once per rest, you will survive a fatal blow and recover HP."), lang("あなたは致死ダメージを受けても死なず、かなり回復する", "Once per rest, you will survive a fatal blow and recover large amount of HP."), lang("あなたは致死ダメージを受けても死なず、全快する", "Once per rest, you will survive a fatal blow and completely recover all HP.")
			}
			return 1
		}
		return 1
	}
	if (tid == 59) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("ヒートアップ", "Heat Up"), lang("バーサーカー", "Berserker"), lang("羅刹", "God of War")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("理性を捨て、防御力と引き換えに攻撃力を高める", "You increase damage dealt in exchange for defense."), lang("あなたは激怒する", "You become furious."), lang("あなたは敵に容赦しない[敵発見時に怒り]", "You don't hold back against your enemies. [Fury on enemy detection]"), lang("あなたは殺戮兵器だ[敵発見時に怒り 怒り強化]", "You are a brutal killing machine. [Fury on enemy detection. Upgrades Fury]")
			}
			return 1
		}
		cbitmod 32, r1, 1
		return 1
	}
	if (tid == 60) {
		if (traitmode == 0) {
			traitref = 0, 0, 2, 1, 0, 100, -1
			traitrefn2 = lang("狩り上手", "Hunter"), lang("狩猟の達人", "Predator")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("山に籠って狩りの技術を磨く", "You hone your hunting skills living in the mountains."), lang("あなたは野生動物に対して威力をよく通す", "You deal more damage against wildlife."), lang("あなたは野生動物に対して強力な威力を発揮する", "You deal even more damage against wildlife.")
			}
			return 1
		}
		return 1
	}
	if (tid == 61) {
		if (traitmode == 0) {
			traitref = 0, 0, 2, 1, 0, 100, -1
			traitrefn2 = lang("悪魔狩り", "Demon Hunter"), lang("悪魔の天敵", "Enemy of Hell")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("エクソシストの下で悪魔祓いの技術を盗む", "You've stolen exorcist's technique for banishing demons."), lang("あなたは悪魔に対して威力をよく通す", "You deal more damage against demons."), lang("あなたは悪魔に対して強力な威力を発揮する", "You deal even more damage against demons.")
			}
			return 1
		}
		return 1
	}
	if (tid == 62) {
		if (traitmode == 0) {
			traitref = 0, 0, 1, 1, 0, 100, -1
			traitrefn2 = lang("ガーディアン", "Guardian")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("騎士団で高潔な精神を学ぶ", "You learn of noble deeds from a band of knights."), lang("あなたは仲間をかばえる", "You can protect allies.")
			}
			return 1
		}
		if (r1 == 0) {
			ospact(sId_weakShield - 661) = 1
		}
		return 1
	}
	if (tid == 63) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("二連疾風", "Dual Flurry"), lang("二連迅雷", "Dual Savagery"), lang("無双二天", "Two Heavens as One")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("達人の下で二刀流における立ち回りを学ぶ", "Under a master you learn how to fight while dual wielding."), lang("あなたは二刀流を修めている[二刀流で回避+" + int(sqrt(sdata(166, r1)) + calc3traitmulti(1, sdata(166, r1))) + "]", "You are studying the art of dual wield. [For dual wield, Evasion+" + int(sqrt(sdata(166, r1)) + calc3traitmulti(1, sdata(166, r1))) + "]"), lang("あなたは複数の武器を巧みに操る[二刀流で回避+" + int(sqrt(sdata(166, r1)) + calc3traitmulti(2, sdata(166, r1))) + "]", "You are a dual wield expert. [For dual wield, Evasion+" + int(sqrt(sdata(166, r1)) + calc3traitmulti(2, sdata(166, r1))) + "]"), lang("あなたは二刀流を極めている[二刀流で回避+" + int(sqrt(sdata(166, r1)) + calc3traitmulti(3, sdata(166, r1))) + "]", "Your mastery with dual wield is unparalleled. [For dual wield, Evasion+" + int(sqrt(sdata(166, r1)) + calc3traitmulti(3, sdata(166, r1))) + "]")
			}
			if (sorg(173, r1) == 0 | sorg(166, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 64) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("鋭い斧", "Sharpened Axe"), lang("血染めの斧", "Bloody Axe"), lang("ハック＆スラッシュ", "Hack and Slash")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("薪割りで斧の腕を鍛え敵を斬り刻む", "You can cleave enemies apart with an axe."), lang("あなたは斧で浅い切り傷を負わせる機会を得る", "You have a chance to make shallow cuts with your axe."), lang("あなたは斧で切り傷を負わせる機会を得る", "You have a chance to make cuts with your axe."), lang("あなたは斧で深い切り傷を負わせる機会を得る", "You have a chance to make deep cuts with your axe.")
			}
			if (sorg(102, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 65) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("ハードヒット", "Hard Hit"), lang("ハードストライク", "Hard Strike"), lang("ハードスマッシュ", "Hard Smash")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("毎日の素振りで鈍器の破壊力が増す", "Swinging blunt weapons daily increases your lethal power."), lang("あなたは鈍器で朦朧とさせる機会をごく稀に得る", "You have a chance to Dim opponents with blunts very rarely."), lang("あなたは鈍器で朦朧とさせる機会を稀に得る", "You have a chance to Dim opponents with blunts rarely."), lang("あなたは鈍器で朦朧とさせる機会を得る", "You have a chance to Dim opponents with blunts.")
			}
			if (sorg(103, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 66) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("遠矢", "Skilled Shot"), lang("遠射の達人", "Sharpshooter"), lang("遠射の神", "Bow Master")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("草原で遠矢の腕を鍛える", "You train in meadows shooting arrows from long distances."), lang("あなたの弓は遠くの敵を射抜ける", "You can shoot distant enemies with a bow."), lang("あなたの弓は遠くの敵を正確に射抜ける", "You can shoot distant enemies accurately with a bow."), lang("あなたの弓は遠くの敵を確実に射抜ける", "Your shots with a bow to distant enemies always finds their target.")
			}
			if (sorg(108, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 67) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("指揮官", "Commander"), lang("名指揮官", "Famed Commander"), lang("伝説的指揮官", "Legendary Commander")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("指揮を執り、仲間の継戦能力を高める", "Taking command, you bolster your allies abilities."), lang("あなたの指揮は適切だ[仲間の治癒+" + int(sqrt(sdata(154, r1)) + calc3traitmulti(1, sdata(154, r1))) + " 仲間の瞑想+" + int(sqrt(sdata(155, r1)) + calc3traitmulti(1, sdata(155, r1))) + "]", "Your command is just. [Allies' Healing+" + int(sqrt(sdata(154, r1)) + calc3traitmulti(1, sdata(154, r1))) + " Meditation+" + int(sqrt(sdata(155, r1)) + calc3traitmulti(1, sdata(155, r1))) + "]"), lang("あなたの指揮は優れている[仲間の治癒+" + int(sqrt(sdata(154, r1)) + calc3traitmulti(2, sdata(154, r1))) + " 仲間の瞑想+" + int(sqrt(sdata(155, r1)) + calc3traitmulti(2, sdata(155, r1))) + "]", "Your command is exceptional. [Allies' Healing+" + int(sqrt(sdata(154, r1)) + calc3traitmulti(2, sdata(154, r1))) + " Meditation+" + int(sqrt(sdata(155, r1)) + calc3traitmulti(2, sdata(155, r1))) + "]"), lang("あなたの指揮は伝説的だ[仲間の治癒+" + int(sqrt(sdata(154, r1)) + calc3traitmulti(3, sdata(154, r1))) + " 仲間の瞑想+" + int(sqrt(sdata(155, r1)) + calc3traitmulti(3, sdata(155, r1))) + "]", "Your command is legendary. [Allies' Healing+" + int(sqrt(sdata(154, r1)) + calc3traitmulti(3, sdata(154, r1))) + " Meditation+" + int(sqrt(sdata(155, r1)) + calc3traitmulti(3, sdata(155, r1))) + "]")
			}
			if (r1 != 0 | sorg(154, r1) == 0 | sorg(155, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 68) {
		if (traitmode == 0) {
			traitref = 0, 0, 5, 1, 0, 100, -1
			traitrefn2 = lang("武器格闘の見習い", "Close Combat Apprentice"), lang("武器格闘の習熟", "Close Combat Fighter"), lang("武器格闘家", "Close Combat Expert"), lang("武器格闘の達人", "Close Combat Master"), lang("器身一体", "Weaponized Body")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("達人の下で武器格闘の修行を積む", "You endure harsh close combat training under a master."), lang("あなたは武器を身体の一部のように扱える[両手持ちで武器+" + int(calc5traitmulti(1, sdata(106, r1))) + "]", "Weapon equipped complements close combat [For two hand, weapon+" + int(calc5traitmulti(1, sdata(106, r1))) + "]"), lang("あなたは武器を身体の一部のように扱える[両手持ちで武器+" + int(calc5traitmulti(2, sdata(106, r1))) + "]", "Weapon equipped complements close combat [For two hand, weapon+" + int(calc5traitmulti(2, sdata(106, r1))) + "]"), lang("あなたは武器を身体の一部のように扱える[両手持ちで武器+" + int(calc5traitmulti(3, sdata(106, r1))) + "]", "Weapon equipped complements close combat [For two hand, weapon+" + int(calc5traitmulti(3, sdata(106, r1))) + "]"), lang("あなたは武器を身体の一部のように扱える[両手持ちで武器+" + int(calc5traitmulti(4, sdata(106, r1))) + "]", "Weapon equipped complements close combat [For two hand, weapon+" + int(calc5traitmulti(4, sdata(106, r1))) + "]"), lang("あなたは武器を身体の一部のように扱える[両手持ちで武器+" + int(calc5traitmulti(5, sdata(106, r1))) + "]", "Weapon equipped complements close combat [For two hand, weapon+" + int(calc5traitmulti(5, sdata(106, r1))) + "]")
			}
			if (sorg(106, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 69) {
		if (traitmode == 0) {
			traitref = 0, 0, 5, 1, 0, 100, -1
			traitrefn2 = lang("鍛えた拳", "Hardened Fist"), lang("鉄拳", "Iron Fist"), lang("鋼の拳", "Steel Fist"), lang("剛拳", "Strong Fist"), lang("ゴッドハンド", "God Hand")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("木を殴り続けて拳が硬くなる", "Repeatedly punching a tree has hardened your knuckles."), lang("あなたの拳は鍛えられている[稀に朦朧させる クリティカルの貫通率+5%]", "Your fists hardens through intense training. [Rarely Dims, +5% pierce on crit]"), lang("あなたの拳は岩を砕く[稀に朦朧させる クリティカルの貫通率+15%]", "Your fists shatters rocks. [Rarely Dims, +15% pierce on crit]"), lang("あなたの拳は鉄をねじ曲げる[稀に朦朧させる クリティカルの貫通率+35%]", "Your fists are strong enough to bend iron. [Rarely Dims, +35% pierce on crit]"), lang("あなたの拳は鉄を打ち抜く[稀に朦朧させる クリティカルの貫通率+70%]", "Your fists punches through iron plates. [Rarely Dims, +70% pierce on crit]"), lang("あなたの拳は全てを砕く[稀に朦朧させる クリティカルの貫通率+100%]", "Your fists are the answer to any obstacle. [Rarely Dims, +100% pierce on crit]")
			}
			if (sorg(106, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 70) {
		if (traitmode == 0) {
			traitref = 0, 0, 5, 1, 0, 100, -1
			traitrefn2 = lang("鍛冶師見習い", "Apprentice Blacksmith"), lang("鍛冶師", "Blacksmith"), lang("カリスマ鍛冶師", "Charismatic Blacksmith"), lang("スーパー鍛冶師", "Super Blacksmith"), lang("テラ鍛冶師", "Terra Blacksmith")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("大陸に渡り鍛冶の技術を学ぶ", "You learn smithing techniques in another continent."), lang("あなたは鍛冶で作品をすばやく作る技術を得る", "You are able to create works faster when smithing."), lang("あなたは鍛冶で作品をとてもすばやく作る技術を得る", "You are are able to create works much faster when smithing."), lang("あなたは鍛冶で作品を目にも止まらぬ早さで作る技術を得る", "You are able to create works even much faster when smithing."), lang("あなたは鍛冶で作品を神速で作る技術を得る[SP消費率-", "You are able to create works even much faster when smithing.[SP used-") + "25%]", lang("あなたは鍛冶で作品を光速で作る技術を得る[ST消費率-", "You are able to create works even much faster when smithing.[ST used -") + "50%]"
			}
			if (r1 != 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 71) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("戦場の踊り子", "Battle Dancer"), lang("舞闘家", "Dueling Dancer"), lang("カリスマ舞闘家", "Charismatic Dueler")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("踊り子としての経験が回避と攻撃を同時に可能とする", "Experience dancing allows you to evade and attack at once."), lang("あなたは近接攻撃を華麗に避けた時に反撃できる[10%]", "You can counter when skillfully evading a melee attack. [10%]"), lang("あなたは近接攻撃を華麗に避けた時に反撃できる[30%]", "You can counter when skillfully evading a melee attack. [30%]"), lang("あなたは近接攻撃を華麗に避けた時に反撃できる[50%]", "You can counter when skillfully evading a melee attack. [50%]")
			}
			if (sorg(173, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 72) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("駆け出しアイドル", "Newcomer"), lang("売れっ子アイドル", "Pop Star"), lang("トップアイドル", "Super Idol")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("酒場で歌い続けた経験が歌唱の技術を高める", "Experience singing in the bar has developed your skill."), lang("あなたの歌唱は魅了的だ[歌唱力+ 報酬品質+ 酔い+10%]", "Your singing is charming. [Singing+ Reward+ Drunk+10%]"), lang("あなたの歌唱は多くを魅了する[歌唱力++ 報酬品質+ 酔い+30%]", "Your singing is very charming. [Singing++ Reward+ Drunk+30%]"), lang("あなたの歌唱は全てを魅了する[歌唱力+++ 報酬品質+ 酔い+50%]", "Your singing captivates every audience. [Singing+++ Reward+ Drunk+50%]")
			}
			if (sorg(183, r1) == 0) {
				return -1
			}
			return 1
		}
		if (r1 == 0) {
			ospact(791 - 661) = 1
		}
		return 1
	}
	if (tid == 73) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("グッドコミュニケーション", "Good Communication"), lang("グレートコミュニケーション", "Great Communication"), lang("パーフェクトコミュニケーション", "Perfect Communication")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("社交界で人を虜にする術を学ぶ", "You learn to mesmerize others in the high society."), lang("あなたの話は面白い[興味+ 友好上限+]", "Your tales are interesting. [Attract+, Maximum Impress+]"), lang("あなたの話はとても面白い[興味++ 友好上限++]", "Your tales are very interesting. [Attract++, Maximum Impress++]"), lang("あなたの話術は相手を虜にできる[興味+++ 友好上限+++]", "Your raw charisma captivates others. [Attract+++, Maximum Impress+++]")
			}
			if (r1 != 0) {
				return -1
			}
			if (gettrait(r1, 177) < 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 74) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("娼婦", "Harlot"), lang("娼館の星", "Brothel's Star"), lang("カリスマ娼婦", "Charismatic Whore")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("娼館で気持ちいいことの技術を学ぶ", "You enhance your technique from your stays at brothels."), lang("あなたの気持ちいいことは評判だ", "You have a reputation for delivering good service."), lang("あなたは気持ちいいことの達人だ", "You are masterful at giving an excellent experience."), lang("あなたは気持ちいいことを極めている", "Your technique has reached its apex in giving others a time of their life.")
			}
			if (r1 != 0) {
				return -1
			}
			if (gettrait(r1, 178) < 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 75) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("フェンサー", "Fencer"), lang("デュエリスト", "Duelist"), lang("ソードマスター", "Sword Master")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("剣技の熟達が打ち払いとなます斬りを可能とする", "Sword mastery allows you to parry and eviscerate enemies."), lang("あなたは敵の攻撃を捌ける[被るダメージを稀に無効]", "You can parry attacks. [Rarely nullifies damage]"), lang("あなたは剣術の達人だ[被るダメージを稀に無効 追加打撃の回数+]", "You have mastered swordsmanship. [Rarely nullifies damage, extra melee attack+]"), lang("あなたは伝説的名剣士だ[被るダメージを稀に無効 追加打撃の回数++]", "You are a legendary swordsman. [Rarely nullifies damage, extra melee attack++]")
			}
			if (sorg(100, r1) == 0 & sorg(101, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 76) {
		if (traitmode == 0) {
			traitref = 0, 0, 5, 1, 0, 100, -1
			traitrefn2 = lang("パワーファイター", "Power Fighter"), lang("スカルクラッシャー", "Skull Crusher"), lang("デストロイヤー", "Destroyer"), lang("ウォーマスター", "War Master"), lang("ジャガーノート", "Juggernaut")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("最前線で重戦士としての経験を積む", "You gain experience in front lines as a heavy shock trooper."), lang("あなたは11.0sまでの武器を扱える[クリティカルダメージ強化]", "You can wield a weapon weighing up to 11.0s. [Enhances critical damage]"), lang("あなたは13.0sまでの武器を扱える[クリティカルダメージ強化]", "You can wield a weapon weighing up to 13.0s. [Enhances critical damage]"), lang("あなたは17.0sまでの武器を扱える[クリティカルダメージ強化]", "You can wield a weapon weighing up to 17.0s. [Enhances critical damage]"), lang("あなたは24.0sまでの武器を扱える[クリティカルダメージ強化]", "You can wield a weapon weighing up to 24.0s. [Enhances critical damage]"), lang("あなたは30.0sまでの武器を扱える[クリティカルダメージ強化]", "You can wield a weapon weighing up to 30.0s. [Enhances critical damage]")
			}
			return 1
		}
		return 1
	}
	if (tid == 77) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("倹約家", "Frugal"), lang("リサイクラー", "Recycler"), lang("歩く弾薬庫", "Walking Ammunition Depot")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("軍人の知り合いから矢弾の倹約術を教わる", "You learn how to conserve ammunition from a military friend."), lang("あなたは特殊弾の消費を抑える", "You conserve special ammo on use.") + "[30%]", lang("あなたは特殊弾の消費を抑える", "You sometimes conserve special ammo on use.") + "[50%]", lang("あなたは特殊弾の倹約術を極めている", "You have gained mastery in conserving special ammo.") + "[70%]"
			}
			return 1
		}
		return 1
	}
	if (tid == 78) {
		if (traitmode == 0) {
			traitref = 0, 0, 1, 1, 0, 100, -1
			traitrefn2 = lang("愛書家", "Bibliophile")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("多くの書物を読破した経験が速読を可能とする", "Reading myriad books allows you to skim rapidly."), lang("あなたは魔法書を速読できる", "You can read spellbooks rapidly.")
			}
			if (r1 != 0 | sorg(150, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 79) {
		if (traitmode == 0) {
			traitref = 0, 0, 5, 1, 0, 100, -1
			traitrefn2 = lang("見習い魔術師", "Novice Mage"), lang("魔術師", "Magician"), lang("熟練の魔術師", "Traveling Magician"), lang("魔導師", "Wizard"), lang("大魔導師", "Archmage")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("魔術師の下で修行し魔法の威力を高める", "Studying under a wizard increases your magical prowess."), lang("あなたは魔法の威力が最大になる機会を得る[1% 消費ストック+]", "You have a chance to maximize power of casted spell. [1%, Stock consumption+]"), lang("あなたは魔法の威力が最大になる機会を得る[3% 消費ストック+]", "You have a chance to maximize power of casted spell. [3%, Stock consumption+]"), lang("あなたは魔法の威力が最大になる機会を得る[5% 消費ストック+]", "You have a chance to maximize power of casted spell. [5%, Stock consumption+]"), lang("あなたは魔法の威力が最大になる機会を得る[7% 消費ストック+]", "You have a chance to maximize power of casted spell. [7%, Stock consumption+]"), lang("あなたは魔法の威力が最大になる機会を得る[10% 消費ストック+]", "You have a chance to maximize power of casted spell. [10%, Stock consumption+]")
			}
			if (sorg(172, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 80) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("優等生", "Honor Student"), lang("教師", "Teacher"), lang("教授", "Professor")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("学問を修め効率的な学習法を習得する", "You learned how to efficiently study in the academia."), lang("あなたは頭が良い[魔法の潜在能力回復量+]", "You are well learned. [Increases spell potential recovery+]"), lang("あなたはとても頭がいい[魔法の潜在能力回復量++]", "You are ingenious. [Increases spell potential recovery++]"), lang("あなたの頭脳は国宝級だ[魔法の潜在能力回復量+++]", "Your knowledge is a national treasure. [Increases spell potential recovery+++]")
			}
			if (r1 != 0 | sorg(165, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 81) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("兵農一体", "Farmer Conscript"), lang("農兵", "Foot Soldier"), lang("農兵の頭領", "Agrarian Troop Commander")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("農兵としての経験が戦術を高める", "Experience as a farmer conscript increases your tactics."), lang("あなたは武器を鍬のように使える[戦術+" + int(sqrt(sdata(180, r1)) + calc5traitmulti(1, sdata(180, r1))) + "]", "You wield a weapon as if it were a hoe. [Tactics+" + int(sqrt(sdata(180, r1)) + calc5traitmulti(1, sdata(180, r1))) + "]"), lang("あなたは農兵だ[戦術+" + int(sqrt(sdata(180, r1)) + calc5traitmulti(2, sdata(180, r1))) + "]", "You are a common foot soldier. [Tactics+" + int(sqrt(sdata(180, r1)) + calc5traitmulti(2, sdata(180, r1))) + "]"), lang("あなたは優れた農兵だ[戦術+" + int(sqrt(sdata(180, r1)) + calc5traitmulti(3, sdata(180, r1))) + "]", "You are a distinguished leader. [Tactics +" + int(sqrt(sdata(180, r1)) + calc5traitmulti(3, sdata(180, r1))) + "]")
			}
			if (sorg(152, r1) == 0 | sorg(180, r1) == 0) {
				return -1
			}
			return 1
		}
		sdata(152, r1) = limit(sdata(152, r1) + sqrt(sdata(180, r1)) + calc5traitmulti(gettrait(r1, tid), sdata(180, r1)), sdata(152, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 82) {
		if (traitmode == 0) {
			traitref = 0, 0, 2, 1, 0, 100, -1
			traitrefn2 = lang("常在戦場", "Battle Ready"), lang("修羅道", "Warlord")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("度重なる死闘が戦術を高める", "Continuous struggles for your life increases your tactics."), lang("あなたは歴戦の戦士だ[戦術の潜在能力上昇+40%]", "You are a veteran fighter. [Tactics potential +40%]"), lang("あなたは戦いの修羅だ[戦術の潜在能力上昇+80%]", "You are a fearsome sight on the battlefield. [Tactics potential +80%]")
			}
			if (sorg(152, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 83) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("調合師見習い", "Apprentice Alchemist"), lang("調合師", "Alchemist"), lang("カリスマ調合師", "Charismatic Alchemist")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("魔術士の下で調合の技術を学ぶ", "You learn various ways to concoct powerful brews."), lang("あなたはポーションを調合できる[成功率を10%上昇]", "You can mix different potions. [Success rate +10%]"), lang("あなたはポーションの調合が上手い[成功率を30%上昇]", "You are skilled at infusing potions. [Success rate +30%]"), lang("あなたの調合は大評判だ[成功率を50%上昇]", "Your concoctions are famed throughout the lands. [Success rate +50%]")
			}
			if (r1 != 0 | sorg(178, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 84) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("薬師見習い", "Apprentice Herbalist"), lang("薬師", "Herbalist"), lang("カリスマ薬師", "Charismatic Herbalist")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("魔術士の下で薬の知識を学ぶ", "You learn medicinal knowledge under a magician."), lang("あなたはポーションの用法を知っている[ポーションの効果+10%]", "You understand how to effectively use potions. [Potion effectiveness +10%]"), lang("あなたはポーションに詳しい[ポーションの効果+30%]", "You are knowledgeable on potions effects. [Potion effectiveness +30%]"), lang("あなたはポーションの全てを知っている[ポーションの効果+50%]", "You hold an encyclopedic knowledge of potions. [Potion effectiveness +50%]")
			}
			return 1
		}
		return 1
	}
	if (tid == 85) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("弓道家", "Archer"), lang("弓道の師範", "Master Archer"), lang("正射必中", "Bullseye")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("姿勢を正して弓を的中させる", "You learn to accurately shoot your targets with a bow."), lang("あなたの弓はよく当たる[弓の命中+" + int(sqrt(sdata(108, r1)) + calc3traitmulti(1, sdata(108, r1))) + "]", "Your bow shots are accurate. [Bow hit chance+" + int(sqrt(sdata(108, r1)) + calc3traitmulti(1, sdata(108, r1))) + "]"), lang("あなたの弓は正確だ[弓の命中+" + int(sqrt(sdata(108, r1)) + calc3traitmulti(2, sdata(108, r1))) + "]", "Your bow shots are remarkably accurate. [Bow hit chance+" + int(sqrt(sdata(108, r1)) + calc3traitmulti(2, sdata(108, r1))) + "]"), lang("あなたの弓は的を外さない[弓の命中+" + int(sqrt(sdata(108, r1)) + calc3traitmulti(3, sdata(108, r1))) + "]", "Your bow shots do not miss its mark. [Bow hit chance+" + int(sqrt(sdata(108, r1)) + calc3traitmulti(3, sdata(108, r1))) + "]")
			}
			return 1
		}
		return 1
	}
	if (tid == 86) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("料理人見習い", "Apprentice Cook"), lang("料理人", "Chef"), lang("カリスマ料理人", "Charismatic Chef")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("晒を巻いて料理の修行に出る", "You go on a journey to learn various cooking techniques."), lang("あなたは料理人の見習いだ[料理の消費SP-10%]", "You are an apprentice cook. [Cooking SP consumption -10%]"), lang("あなたは料理人だ[料理の消費SP-30%]", "You are a chef. [Cooking SP consumption -30%]"), lang("あなたは料理の達人だ[料理の消費SP-50%]", "You are a culinary master. [Cooking SP consumption -50%]")
			}
			if (r1 != 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 87) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("遠投上手", "Slinger"), lang("投手", "Pitcher"), lang("エース", "Ace")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("一心に投げ続け投擲攻撃の命中と威力を上げる", "Nonstop throwing practice improves your power and accuracy."), lang("あなたは遠投上手だ", "You are a good long distance thrower."), lang("あなたは遠投の達人だ", "You are a remarkable long distance thrower."), lang("あなたの遠投は伝説的だ", "Your throwing skills are legendary.")
			}
			if (sorg(111, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 88) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("炎術師見習い", "Apprentice Fire Mage"), lang("炎術師", "Fire Mage"), lang("炎術王", "Greater Fire Mage")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("炎を支配し火炎魔法を強化する", "You have command over flames, improving fire spells."), lang("あなたの火炎魔法は強化されている[+10%]", "Your fire spells are empowered. [+10%]"), lang("あなたの火炎魔法は強化されている[+30% ボール標的指定可]", "Your fire spells are empowered. [+30% Can target ball spells]"), lang("あなたの火炎魔法は強化されている[+50% ボール標的指定可]", "Your fire spells are empowered. [+50% Can target ball spells]")
			}
			if (sorg(188, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 89) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("氷術師見習い", "Apprentice Cold Mage"), lang("氷術師", "Cold Mage"), lang("氷術王", "Greater Cold Mage")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("氷を支配し冷気魔法を強化する", "You have command over ice, improving cold spells."), lang("あなたの冷気魔法は強化されている[+10%]", "Your cold spells are empowered. [+10%]"), lang("あなたの冷気魔法は強化されている[+30% ボール標的指定可]", "Your cold spells are empowered. [+30% Can target ball spells]"), lang("あなたの冷気魔法は強化されている[+50% ボール標的指定可]", "Your cold spells are empowered. [+50% Can target ball spells]")
			}
			if (sorg(188, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 90) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("雷術師見習い", "Apprentice Lightning Mage"), lang("雷術師", "Lightning Mage"), lang("雷術王", "Greater Lightning Mage")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("雷を支配し電撃魔法を強化する", "You have command over thunder, improving lightning spells."), lang("あなたの電撃魔法は強化されている[+10%]", "Your lightning spells are empowered. [+10%]"), lang("あなたの電撃魔法は強化されている[+30% ボール標的指定可]", "Your lightning spells are empowered. [+30% Can target ball spells]"), lang("あなたの電撃魔法は強化されている[+50% ボール標的指定可]", "Your lightning spells are empowered. [+50% Can target ball spells]")
			}
			if (sorg(188, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 91) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("闇術師見習い", "Apprentice Dark Mage"), lang("闇術師", "Dark Mage"), lang("闇術王", "Greater Dark Mage")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("闇を支配し暗黒魔法を強化する", "You have command over shadows, improving darkness spells."), lang("あなたの暗黒魔法は強化されている[+10%]", "Your darkness spells are empowered. [+10%]"), lang("あなたの暗黒魔法は強化されている[+30% ボール標的指定可]", "Your darkness spells are empowered. [+30% Can target ball spells]"), lang("あなたの暗黒魔法は強化されている[+50% ボール標的指定可]", "Your darkness spells are empowered. [+50% Can target ball spells]")
			}
			if (sorg(188, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 92) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("幻術師見習い", "Apprentice Mind Mage"), lang("幻術師", "Mind Mage"), lang("幻術王", "Greater Mind Mage")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("夢を支配し幻惑魔法を強化する", "You have command over nightmares, improving mind spells."), lang("あなたの幻惑魔法は強化されている[+10%]", "Your mind spells are empowered. [+10%]"), lang("あなたの幻惑魔法は強化されている[+30% ボール標的指定可]", "Your mind spells are empowered. [+30% Can target ball spells]"), lang("あなたの幻惑魔法は強化されている[+50% ボール標的指定可]", "Your mind spells are empowered. [+50% Can target ball spells]")
			}
			if (sorg(188, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 95) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("音術師見習い", "Apprentice Sound Mage"), lang("音術師", "Sound Mage"), lang("音術王", "Greater Sound Mage")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("音を支配し音魔法を強化する", "You have command over sound, improving sound spells."), lang("あなたの音魔法は強化されている[+10%]", "Your sound spells are empowered. [+10%]"), lang("あなたの音魔法は強化されている[+30% ボール標的指定可]", "Your sound spells are empowered. [+30% Can target ball spells]"), lang("あなたの音魔法は強化されている[+50% ボール標的指定可]", "Your sound spells are empowered. [+50% Can target ball spells]")
			}
			if (sorg(188, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	/* oo 2021/05/08 */
	if (tid == 96) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("暗殺者", "Assassin"), lang("暗殺の達人", "Master of Assassination"), lang("伝説的暗殺者", "Legendary Assassin")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("裏世界で殺しの技術を磨く", "Improve your killing skills."), lang("あなたは獲物を仕留める[寝ている相手に攻撃倍率+100%]", "You deal a lot of damage to sleeping enemies.[+100%]"), lang("あなたは獲物を確実に仕留める[寝ている相手に攻撃倍率+300%]", "You deal a lot of damage to sleeping enemies.[+300%]"), lang("あなたは獲物を絶対に仕留める[寝ている相手に攻撃倍率+500%]", "You deal a lot of damage to sleeping enemies.[+500%]")
			}
			if (sorg(157, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 97) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("勇者", "Hero"), lang("真の勇者", "Master Hero"), lang("伝説の勇者", "Legendary Hero")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("仲間に背中を任せて闘いに集中する", "Let your friends have your back and focus on the fight."), lang("あなたは勇者だ[仲間のHPが75%以上の時、自分の攻撃と速度+5%]", "You're a hero.[companion's HP is over 75%, your attack and speed +5%]"), lang("あなたは勇者の中の勇者だ[仲間のHPが75%以上の時、自分の攻撃と速度+15%]", "You're a hero.[companion's HP is over 75%, your attack and speed +15%]"), lang("あなたは伝説的勇者だ[仲間のHPが75%以上の時、自分の攻撃と速度+35%]", "You're a hero.[companion's HP is over 75%, your attack and speed +35%]")
			}
			if (r1 != 0 | gettrait(r1, 184) < 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 98) {
		if (traitmode == 0) {
			traitref = 0, 0, 2, 1, 0, 100, -1
			traitrefn2 = lang("精霊封じ", "Spiritual Seal"), lang("精霊の天敵", "Super Spiritual Seal")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("厳しい修行の末に精霊を封じる力を得る", "After training, he gains the power to seal off spirits."), lang("あなたは精霊に対して威力をよく通す", "You pass your power well against spirits."), lang("あなたは精霊に対して強力な威力を発揮する", "You are a powerful force against spirits.")
			}
			return 1
		}
		return 1
	}
	if (tid == 99) {
		if (traitmode == 0) {
			traitref = 0, 0, 2, 1, 0, 100, -1
			traitrefn2 = lang("釣り師", "Angler"), lang("釣りの神", "Greater Angler")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("川の主との勝負が釣りの腕を鍛える", "Competing with the river owner trains your fishing skills."), lang("あなたは釣り上手だ[高価な魚の確率+100%]", "You are a good angler. [+100% chance of expensive fish]"), lang("あなたは釣りを極めている[高価な魚の確率+300%]", "You are a master angler. [+300% chance of expensive fish]")
			}
			if (r1 != 0 | sorg(185, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 100) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("見習い大工", "Carpenter"), lang("大工", "Good Carpenter"), lang("名工", "Master Carpenter")
			if ( gettrait(r1, tid) >= 0 ) {
				traitrefn(2) = lang("建設を主導して工費を抑える", "keep construction costs down."), lang("あなたは大工の見習いだ[権利書の料金-10%]", "You're a carpenter's apprentice. [Deed cost-10%]"), lang("あなたは大工だ[権利書の料金-30%]", "You're a carpenter's. [Deed cost-30%]"), lang("あなたは名工だ[権利書の料金-50%]", "You're a master carpenter's. [Deed cost-50%]")
			}
			if (r1 != 0 | sorg(176, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 101) {
		if (traitmode == 0) {
			traitref = 0, 0, 2, 1, 0, 100, -1
			traitrefn2 = lang("投資上手", "Investor"), lang("投資の神", "Greater Investor")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("投資を続けて勘を磨く", "Continue to invest and hone your instincts."), lang("あなたは投資が上手い[投資の潜在能力上昇+40%]", "You're a good investment. [Increases the potential rate Investing by 40]"), lang("あなたの投資は神ががっている[投資の潜在能力上昇+80%]", "You're a good investment. [Increases the potential rate Investing by 80]")
			}
			if (sorg(160, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 102) {
		if ( traitmode == 0 ) {
			traitref = 0, 0, 2, 1, 0, 100, -1
			traitrefn2 = lang("旅人", "Traveler"), lang("旅の神", "Greater Traveler")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("放浪の末に旅に慣れる", "Getting used to traveling after wandering."), lang("あなたは旅に慣れている[旅歩きの潜在能力上昇+40%]", "You're used to traveling. [Increases the potential rate Traveling by 40]"), lang("あなたは旅を極めている[旅歩きの潜在能力上昇+80%]", "You're used to traveling. [Increases the potential rate Traveling by 80]")
			}
			if (sorg(182, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 103) {
		if ( traitmode == 0 ) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("菓子職人見習い", "Patissier"), lang("菓子職人", "Greater Patissier"), lang("カリスマ菓子職人", "Master Patissier")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("菓子職人に弟子入りして菓子作りを学ぶ", "Apprentice to a confectioner to learn how to make sweets."), lang("あなたの作る菓子は美味しい[作る菓子とデザートの経験値+10%]", "[+10% experience in making sweets and desserts]"), lang("あなたの作る菓子はとても美味しい[作る菓子とデザートの経験値+30%]", "[+30% experience in making sweets and desserts]"), lang("あなたの菓子作りは神ががっている[作る菓子とデザートの経験値+50%]", "[+50% experience in making sweets and desserts]")
			}
			if (sorg(184, r1) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 104) {
		if (traitmode == 0) {
			traitref = 0, 0, 1, 1, 0, 100, -1
			traitrefn2 = lang("動物友好", "Ranger")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("森暮らしの末に動物と話せるようになる", "After living in the forest, you can talk to animals."), lang("あなたは野生動物と友達だ", "You're friends with wildlife.")
			}
			if (r1 != 0 | gettrait(r1, 183) < 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	/* end */
	if (tid == 130) {
		if (traitmode == 0) {
			traitref = 0, 0, 29, 1, 0, 100, -1
			repeat traitref(2)
				traitrefn2(cnt) = lang("挑戦者", "Challenger")
			loop
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("あなたは自ら困難に挑む", "You challenge difficulties on your own")
				repeat traitref(2) + 1, 1
					traitrefn(2 + cnt) = lang("挑戦者", "Challenger") + "[Lv:" + gettrait(r1, tid) + "]"
				loop
			}
			return 1
		}
		return 1
	}
	if (tid == 131) {
		if (traitmode == 0) {
			traitref = 0, 0, 1, 1, 0, 100, -1
			traitrefn2 = lang("年齢固定", "Fixed growth")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("時間経過で年齢が変動しなくなる", "Age does not fluctuate over time."), lang("あなたは時間経過で年齢が変動しない", "Age does not fluctuate over time.")
			}
			return 1
		}
		return 1
	}
	if (tid == 132) {
		if (traitmode == 0) {
			traitref = 0, 0, 3, 1, 0, 100, -1
			traitrefn2 = lang("旋風", "Whirlwind"), lang("巻きあがる旋風", "Super Whirlwind"), lang("素晴らしき旋風", "Great Whirlwind")
			if (gettrait(r1, tid) >= 0) {
				traitrefn(2) = lang("旋風を起こし、戦闘時の速度を上昇させる", "Whirlwind allows you to move quickly on combat."), lang("あなたは敵発見時に加速する[10%]", "You can speed up when finding enemies. [10%]"), lang("あなたは敵発見時に加速する[30%]", "You can speed up when finding enemies. [30%]"), lang("あなたは敵発見時に加速する[50%]", "You can speed up when finding enemies. [50%]")
			}
			return 1
		}
		return 1
	}
	if (tid == 171) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("無魔法", "Nil Magic")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("魔法の素質を失う", "You lose magical talent."), lang("あなたは魔法が使えない", "You can't use spells.")
			}
			return 1
		}
		return 1
	}
	if (tid == 172) {
		if (traitmode == 0) {
			traitref = 0, -3, 0, 1, 0, 100, -1
			traitrefn2 = lang("貧弱", "Flimsy"), lang("虚弱", "Frail"), lang("超虚弱", "Decrepit")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("虚弱体質により体力を失う", "Your weak constitution saps your endurance."), lang("あなたは貧弱だ[HP-25%]", "You are weak. [HP-25%]"), lang("あなたは虚弱だ[HP-50%]", "You are very weak. [HP-50%]"), lang("あなたは今にも死にそうだ[HP-75%]", "You look as if you'll die at a moment's notice. [HP-75%]")
			}
			if (gettrait(r1, 192) < 0) {
				return -1
			}
			return 1
		}
		sdata(2, r1) = limit(sdata(2, r1) + (-25) * abs(gettrait(r1, tid)), sdata(2, r1) > 0, 2000000000)
		return 1
	}
	if (tid == 173) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("優柔不断", "Indecisiveness")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("判断力の欠如が行動を躊躇う", "You lack clear judgement and hesitate to act."), lang("あなたは優柔不断だ[たまに行動キャンセル]", "You are indecisive. [Sometimes cancels action]")
			}
			return 1
		}
		return 1
	}
	if (tid == 174) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("一神教者", "Monotheist")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("他の神の存在を認めない", "You don't acknowledge other gods."), lang("あなたは改宗できない", "You can't convert to another god.")
			}
			if (gettrait(r1, 175) < 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 175) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("無神論者", "Atheist")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("神の存在を認めない", "You don't acknowledge existence of gods."), lang("あなたは神を信じない", "You don't believe in gods.")
			}
			if (gettrait(r1, 174) < 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 176) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("暴食", "Bulimia")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("異常な食欲が際限無く食べ物を求める", "Your abnormal appetite hungers for endless sustenance."), lang("あなたは唐突に何かを食べずにはいられない[不定期食事]", "You suddenly crave for your next meal. [Eats irregularly]")
			}
			if (gettrait(r1, 191) < 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 177) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("バッドコミュニケーション", "Bad Communication")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("世渡り下手が他者からの反感を招く", "You have no worldly wisdom and incur odium."), lang("あなたは人との関係に軋轢を生みやすい[友好低下]", "You tend to create conflict in relationships. [Impress-]")
			}
			if (gettrait(r1, 73) > 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 178) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("純情", "Chaste")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("貞操観念が気持ちいいことを禁ずる", "Morals prohibit you from sexual intercourse."), lang("あなたは気持ちいいことができない", "You refuse to copulate.")
			}
			if (gettrait(r1, 74) > 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 179) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("終生誓願", "Lifelong Vow")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("生涯に渡る貞潔を宣立する", "You have declared to be a lifetime bachelor."), lang("あなたは結婚できない", "You won't marry.")
			}
			return 1
		}
		return 1
	}
	if (tid == 180) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("トリガーハッピー", "Trigger Happy")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("射撃の快感に囚われる", "You have twitchy fingers."), lang("あなたは射撃中毒だ", "You are trigger happy.")
			}
			if (gettrait(r1, 185) < 0 | gettrait(r1, 186) < 0 | gettrait(r1, 187) < 0) {
				return -1
			}
			return 1
		}
		ocbitmod 11, r1, 1
		return 1
	}
	if (tid == 181) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("殺傷忌避", "Abhors Killing")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("独特の倫理観が殺人を恐れる", "Your peculiar moral sense sees murder as a fearsome act."), lang("あなたは人を殺すことに抵抗がある[殺人でカルマ減少]", "You resist murdering other people. [Every murder decreases karma]")
			}
			return 1
		}
		return 1
	}
	if (tid == 182) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("文盲", "Illiterate")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("育ちの違いが読み書きを許さない", "Your social class forbids you to learn how to read or write."), lang("あなたは字が読めない", "You can't read.")
			}
			return 1
		}
		return 1
	}
	if (tid == 183) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("動物敵対", "Animal Discord")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("何故か動物に嫌われる", "For some reason you are despised by animals."), lang("あなたは動物に嫌われている", "You are hated by animals.")
			}
			if (gettrait(r1, 104) > 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 184) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("孤独", "Lonely")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("相容れない精神から味方を失う", "Your incompatible mentality prevents you from having allies."), lang("あなたはペットを持てない", "You can't have pets.")
			}
			if (gettrait(r1, 97) > 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 185) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("性依存症", "Hypersexual Disorder")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("爛れた日々を送る", "You spend your days in debauchery."), lang("あなたは気持ちいいことをしたくてたまらない", "You are a sex addict.")
			}
			if (gettrait(r1, 180) < 0 | gettrait(r1, 186) < 0 | gettrait(r1, 187) < 0) {
				return -1
			}
			return 1
		}
		ocbitmod 11, r1, 1
		return 1
	}
	if (tid == 186) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("アルコール依存症", "Alcoholism")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("酒浸りの日々を送る", "You spend your days binge drinking."), lang("あなたはアルコール依存症だ", "You are an alcoholic.")
			}
			if (gettrait(r1, 180) < 0 | gettrait(r1, 185) < 0 | gettrait(r1, 187) < 0) {
				return -1
			}
			return 1
		}
		ocbitmod 11, r1, 1
		return 1
	}
	if (tid == 187) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("ギャンブラー", "Gambling Addiction")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("博打の快感に囚われる", "You are entrapped by the thrills of gambling."), lang("あなたは賭博中毒だ", "You are a gambling addict.")
			}
			if (gettrait(r1, 180) < 0 | gettrait(r1, 185) < 0 | gettrait(r1, 186) < 0) {
				return -1
			}
			return 1
		}
		ocbitmod 11, r1, 1
		return 1
	}
	if (tid == 188) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("清廉潔白", "Pacifist")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("決して手を血で汚さない", "You have made an oath to never spill blood."), lang("あなたは打撃と射撃ができない", "You cannot attack with either melee or ranged.")
			}
			return 1
		}
		return 1
	}
	if (tid == 189) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("復活不可", "One Life")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("這い上がることができない", "Can't crawl up."), lang("あなたは這い上がることができない[死亡時データ削除]", "You cannot crawl up.")
			}
			return 1
		}
		return 1
	}
	if (tid == 190) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("一期一会", "Once-in-a-lifetime chance")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("時を戻すことが出来ない", "Can't go back in time."), lang("あなたは時を戻せない[F1F2無効化 オートセーブ無効化不可]", "You cannot go back in time.")
			}
			return 1
		}
		return 1
	}
	if (tid == 191) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("食事不可", "Can not eat")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("食事が出来ない", "Can't eat command"), lang("あなたは食事が出来ない", "You cannot eats.")
			}
			if (gettrait(r1, 176) < 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 192) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("オワタ式", "1hit death")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("攻撃が当たると死ぬ", "1hit is death"), lang("あなたは脆い[攻撃が命中すると死亡]", "You cannot defence.")
			}
			if (gettrait(r1, 172) < 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 193) {
		if (traitmode == 0) {
			traitref = 0, -2, 0, 1, 0, 100, -1
			traitrefn2 = lang("成長不可", "not growth"), lang("オールワン", "All 1")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("成長を忘れる", "dont growth"), lang("あなたは成長できない[スキルへの経験値が入らない]", "You cannot growth."), lang("あなたは常に最弱だ[成長不可+全ての主能力が常に最低値]", "You will always be the weakest.")
			}
			return 1
		}
		return 1
	}
	if (tid == 194) {
		if (traitmode == 0) {
			traitref = 0, -2, 0, 1, 0, 100, -1
			traitrefn2 = lang("ハードモード", "Hard Mode"), lang("ナイトメアモード", "Nightmare Mode")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("地獄へようこそ！", "Wellcome to Hell"), lang("あなたはハードモードに挑戦中だ", "Try HardMode"), lang("あなたはナイトメアモードに挑戦中だ", "Try NightmareMode")
			}
			if (takeover(0) == 0 | takeover(1) == 0 | takeover(2) == 0 | takeover(3) == 0 | takeover(4) == 0 | takeover(6) == 0 | takeover(7) == 0 | takeover(8) == 0 | takeover(9) == 0) {
				return -1
			}
			return 1
		}
		return 1
	}
	if (tid == 195) {
		if (traitmode == 0) {
			traitref = 0, -1, 0, 1, 0, 100, -1
			traitrefn2 = lang("Zen", "Zen")
			if (gettrait(r1, tid) <= 0) {
				traitrefn(2) = lang("常に盲目状態になる", "You'll always be blind."), lang("あなたは生まれながらに盲目である", "You have been blind from birth.")
			}
			return 1
		}
		return 1
	}
	return 0



// Set race-specific traits.
*label_0098
	repeat length(racenamecsv)
		if (cdatan(2, 0) == racenamecsv(cnt, 1)) {
			cnt2 = cnt
			repeat 10
				if (racetrait(cnt2, cnt) == 0) {
					break
				}
				settrait 0, abs(racetrait(cnt2, cnt) / 100), racetrait(cnt2, cnt) \ 100
			loop
			break
		}
	loop
	return



// Set class-specific traits.
*label_0099
	repeat length(classnamecsv)
		if (cdatan(3, 0) == classnamecsv(cnt, 1)) {
			cnt2 = cnt
			repeat 10
				if (classtrait(cnt2, cnt) == 0) {
					break
				}
				settrait 0, abs(classtrait(cnt2, cnt) / 100), classtrait(cnt2, cnt) \ 100
			loop
			break
		}
	loop
	return
