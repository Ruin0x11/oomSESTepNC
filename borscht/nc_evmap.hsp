*NC_MAP_PRO
		flt
		initlv = qLevel(gQuestRef) * 2
		fixlv = FIX_QUALITY_UNIQUE
		characreate -1, CREATURE_ID_NOBLE, nc_intb_100, nc_intb_101
		cRelation(rc) = RELATION_NEUTRAL
		cOrgRelation(rc) = RELATION_NEUTRAL
		cnName(rc) = lang("ÅwçÇãMÇ»ãMë∞Åx", "<rich noble>")
		cRole(rc) = ROLE_QUEST_RICH_NOBLE
		cInterest(rc) = 0
		faction(rc) = ""
		addfaction rc, "family,man"
		addfaction rc, "align,neutral"
		addfaction rc, "god,eyth"
	loop
	repeat 10
		flt
		initlv = qLevel(gQuestRef) * 3
		characreate -1, CREATURE_ID_PROSTITUTE, -3, 0
		cnName(rc) = lang("è©ïwÉMÉãÉh", "Prostitute Guild")
		cRelation(rc) = RELATION_DISLIKE
		cOrgRelation(rc) = RELATION_DISLIKE
	loop
	inv_getheader -1
	repeat invrange, invhead
		if ( iNum(cnt) > 0 ) {
			iProperty(cnt) = PROP_NPC
		}
	loop
	return 1

*NC_MAP_SHEEP
	gTimelimit = 60
	gCountNotice = 9999
	mField = MAP_FIELD_OUTDOOR
	mTileSet = MAP_TILESET_WILDERNESS
	mWidth = 58 + rnd(16)
	mHeight = 50 + rnd(16)
	map_initialize
	repeat mHeight
		p = cnt
		repeat mWidth
			mapId(cnt, p) = tile_default + (rnd(tile_default(2)) == 0) * rnd(tile_default(1))
		loop
	loop
	mdatan(0) = lang("äXé¸ï”", "Field nearby town")
	map_randomtile 9, 10
	map_randomtile 10, 10
	map_randomtile 0, 30
	map_randomtile 1, 4
	map_randomtile 4, 2
	map_randomtile 3, 2
	map_randomtile 4, 2
	map_randomtile 5, 2
	gLevelStartOn = 7
	mapstartx = mWidth / 2
	mapstarty = mHeight / 2
	map_placeplayer
	repeat 5
		flt
		initlv = 10
		fixlv = FIX_QUALITY_GREAT
		characreate -1, CREATURE_ID_WILD_SHEEP, mapstartx + 2 - rnd(5), mapstarty + 2 - rnd(5)
		cAiCalm(rc) = 4
		cRelation(rc) = RELATION_ALLY
		cOrgRelation(rc) = RELATION_ALLY
		cnName(rc) = lang("éîÇÌÇÍÇƒÇ¢ÇÈór", "Tamed Sheep")
		faction(rc) = ""
		addfaction rc, "family,man"
		addfaction rc, "align,neutral"
		addfaction rc, "god,eyth"
		addfaction rc, "nc_sheep"
		ocLight(rc) = 7
	loop
	qParam1(gQuestRef) = 5
	qParam2(gQuestRef) = 0
	mModerateCrowd = 15
	repeat 30 - rnd(6)
		gosub *label_2163
		characreate -1, CREATURE_ID_BUG, -3, 0
		if ( stat ) {
			gosub *label_4551
			qParam2(gQuestRef)++
		}
	loop
	return 1

*label_2060
	mCanSave = 0
	gLevelStartOn = 7
	snd SOUNDLIST_EXITMAP1
	mTileSet = MAP_TILESET_DUNGEON
	map_initcustom "dungeon1"
	mField = MAP_FIELD_INDOOR
	mType = MAP_TYPE_HOME
	mModerateCrowd = 0
	mMusic = MUSICLIST_MCBOSS
	mNoRenew = 1
	mMaxInv = 350
	mWall = 0
	mapstartx = 40
	mapstarty = 58
	map_placeplayer
	if ( ogEventDungeonAlien >= 1 & ogEventDungeonAlien < 1000 ) {
		mdatan(0) = lang("ÉGÉCÉäÉAÉìÇÃëÉ", "Alien nest")
		repeat 15 + rnd(10)
			flt
			initlv = (rnd(20) + 1) * 3 / 2
			fixlv = FIX_QUALITY_BAD
			characreate -1, CREATURE_ID_ALIEN, -3, 0
			cRelation(rc) = RELATION_ENEMY
			cOrgRelation(rc) = RELATION_ENEMY
		loop
		flt
		initlv = 50
		fixlv = FIX_QUALITY_GODLY
		characreate -1, CREATURE_ID_ALIEN, -3, 0
		cRelation(rc) = RELATION_ENEMY
		cOrgRelation(rc) = RELATION_ENEMY
		cSex(rc) = 1
		cnName(rc) = lang("ÅsÉNÉCÅ[ÉìÅEÉGÉCÉäÉAÉìÅt", "{Queen Alien}")
	}
	put_questtarget
	inv_getheader -1
	repeat invrange, invhead
		if ( iNum(cnt) == 0 ) {
			continue
		}
		iNum(cnt) = 0
		cell_refresh iX(cnt), iY(cnt)
	loop
	repeat mHeight
		y = cnt
		repeat mWidth
			x = cnt
			mapFeat(x, y) = 0
		loop
	loop
	cell_featset 40, 58, tile_upstairs, CELL_FEATURE_UPSTAIRS, gReturnLevel
	txt -1, lang(mdatan(0) + "Ç…íHÇËíÖÇ¢ÇΩÅB", "Reached " + mdatan(0) + ".")
	return

*label_2065
	mModerateCrowd = 0
	mField = MAP_FIELD_OUTDOOR
	map_initcustom mapfile(gReturnArea)
	mdatan(0) = lang("ésäXín", "Urban Area")
	randomize
	gLevelStartOn = 5
	map_placeplayer
	mWall = 0
	if ( gQuest == QUEST_TYPE_CONQUER ) {
		gTimelimit = 60 * 12
		gCountNotice = 9999
		flt
		initlv = qLevel(gQuestRef)
		fixlv = FIX_QUALITY_GODLY
		if ( qParam1(gQuestRef) == 343 ) {
			if ( qParam2(gQuestRef) != usernpcmax ) {
				initunid = qParam2(gQuestRef) + 1
			}
		}
		characreate -1, qParam1(gQuestRef), -3, 0
		cRelation(rc) = RELATION_ENEMY
		cOrgRelation(rc) = RELATION_ENEMY
		qParam2(gQuestRef) = rc
		qdata(16, gQuestRef) = cQuality(rc)
	}
	if ( gQuest == QUEST_TYPE_HUNTEX ) {
		repeat 6 + rnd(4)
			flt
			initlv = qLevel(gQuestRef) * 3 / 2
			fixlv = FIX_QUALITY_BAD
			if ( qParam1(gQuestRef) == 343 ) {
				if ( qParam2(gQuestRef) != usernpcmax ) {
					initunid = qParam2(gQuestRef) + 1
				}
			}
			characreate -1, qParam1(gQuestRef), -3, 0
			cRelation(rc) = RELATION_ENEMY
			cOrgRelation(rc) = RELATION_ENEMY
		loop
	}
	inv_getheader -1
	repeat invrange, invhead
		if ( iNum(cnt) == 0 ) {
			continue
		}
		f = 0
		if ( iID(cnt) == ITEM_ID_WELL | iID(cnt) == ITEM_ID_FOUNTAIN ) {
			iParam1(cnt) = -10
		}
		if ( iID(cnt) == ITEM_ID_SAFE ) {
			iParam1(cnt) = 0
		}
	loop
	repeat mHeight
		y = cnt
		repeat mWidth
			x = cnt
			mapFeat(x, y) = 0
		loop
	loop
	return

*label_2070
	mWidth = 30
	mHeight = 60 + rnd(60)
	mModerateCrowd = mWidth * mHeight / 20
	map_initialize
	w = 6
	dx = mWidth / 2 - w / 2
	p = 0
	repeat mHeight - 4
		y = 2 + cnt
		repeat w
			x = cnt + dx
			mapId(x, y) = xy2pic(1, 3)
		loop
		if ( p <= 0 ) {
			if ( rnd(2) ) {
				p = rnd(12)
			}
		}
		if ( rnd(2) ) {
			if ( w > 4 ) {
				w -= rnd(2)
			}
		}
		if ( p > 0 ) {
			if ( p < 5 ) {
				if ( w > 3 ) {
					w -= rnd(2)
					p--
				}
			}
			if ( p > 4 ) {
				if ( w < 10 ) {
					w++
					p--
				}
			}
		}
		if ( dx > 1 ) {
			dx -= rnd(2)
		}
		if ( dx + w < mWidth - 1 ) {
			dx += rnd(2)
		}
		if ( dx + w > mWidth ) {
			w = mWidth - dx
		}
	loop
	repeat
		x = rnd(mWidth)
		y = rnd(15)
		if ( mapId(x, y) == xy2pic(1, 3) ) {
			map_placeupstairs x, y
			break
		}
	loop
	repeat
		x = rnd(mWidth)
		y = mHeight - rnd(15) - 1
		if ( mapId(x, y) == xy2pic(1, 3) ) {
			map_placedownstairs x, y
			break
		}
	loop
	return

#deffunc dimmix array dimmix_arg1
	locvar_dimmix_mx = length(dimmix_arg1)
	repeat locvar_dimmix_mx
		locvar_dimmix_r = cnt + rnd(locvar_dimmix_mx - cnt)
		locvar_dimmix_tmp = dimmix_arg1(locvar_dimmix_r)
		dimmix_arg1(locvar_dimmix_r) = dimmix_arg1(cnt)
		dimmix_arg1(cnt) = locvar_dimmix_tmp
	loop
	return

*map_createDungeonMaze
	mWidth = _mclass * (_bold * 2) - _bold + 8
	mHeight = mWidth
	mModerateCrowd = mWidth * mHeight / 12
	map_initialize
	gosub *dighole
	rdsecond = TRUE
	gosub *dighole
	rdsecond = FALSE
	return

*dighole
	dim maze, _mclass * _mclass
	mdig = 0
	_hole = 0
	sdigx = _bold
	sdigy = _bold
	maze(mdig) = 7
	dim way, 4
	repeat 4
		way(cnt) = cnt
	loop
	i = 0
	repeat
		dimmix way
		digno = 0
		repeat 4
			pmdig = mdig
			if ( way(cnt) == 0 ) {
				if ( pmdig / _mclass == 0 ) {
					continue
				}
				else {
					mdig -= _mclass
				}
			}
			if ( way(cnt) == 1 ) {
				if ( pmdig \ _mclass == _mclass - 1 ) {
					continue
				}
				else {
					mdig++
				}
			}
			if ( way(cnt) == 2 ) {
				if ( pmdig / _mclass == _mclass - 1 ) {
					continue
				}
				else {
					mdig += _mclass
				}
			}
			if ( way(cnt) == 3 ) {
				if ( pmdig \ _mclass == 0 ) {
					continue
				}
				else {
					mdig--
				}
			}
			if ( maze(mdig) != _hole ) {
				mdig = pmdig
				continue
			}
			i++
			sdigx = pmdig \ _mclass * _bold * 2 + _bold
			sdigy = pmdig / _mclass * _bold * 2 + _bold
			if ( way(cnt) == 0 ) {
				maze(mdig) = 3
				repeat _bold * 2
					y = sdigy - _bold * 2 + cnt - _bold + 4
					repeat _bold - 1
						x = sdigx + cnt - _bold + 4
						mapId(x, y) = xy2pic(1, 3)
					loop
				loop
			}
			if ( way(cnt) == 1 ) {
				maze(mdig) = 4
				repeat _bold - 1
					y = sdigy + cnt - _bold + 4
					repeat _bold * 3 - 1
						x = sdigx + cnt - _bold + 4
						mapId(x, y) = xy2pic(1, 3)
					loop
				loop
			}
			if ( way(cnt) == 2 ) {
				maze(mdig) = 1
				repeat _bold * 3 - 1
					y = sdigy + cnt - _bold + 4
					repeat _bold - 1
						x = sdigx + cnt - _bold + 4
						mapId(x, y) = xy2pic(1, 3)
					loop
				loop
			}
			if ( way(cnt) == 3 ) {
				maze(mdig) = 2
				repeat _bold - 1
					y = sdigy + cnt - _bold + 4
					repeat _bold * 2
						x = sdigx + cnt - _bold * 2 - _bold + 4
						mapId(x, y) = xy2pic(1, 3)
					loop
				loop
			}
			digno = 1
			break
		loop
		if ( digno == 1 ) {
			continue
		}
		if ( maze(mdig) == 7 ) {
			break
		}
		if ( maze(mdig) == 1 ) {
			mdig -= _mclass
			continue
		}
		if ( maze(mdig) == 2 ) {
			mdig++
			continue
		}
		if ( maze(mdig) == 3 ) {
			mdig += _mclass
			continue
		}
		if ( maze(mdig) == 4 ) {
			mdig--
		}
	loop
	if ( rdsecond ) {
		return
	}
	repeat
		x = rnd(mWidth)
		y = rnd(mHeight)
		if ( mapId(x, y) != xy2pic(1, 3) ) {
			continue
		}
		dx = rnd(mWidth)
		dy = rnd(mHeight)
		if ( mapId(dx, dy) != xy2pic(1, 3) ) {
			continue
		}
		if ( dist(x, y, dx, dy) < 10 ) {
			if ( cnt < 1000 ) {
				continue
			}
		}
		map_placeupstairs x, y
		map_placedownstairs dx, dy
		break
	loop
	return

*label_2091
	mWidth = _mclass * (_bold * 2) - _bold + 8
	mHeight = mWidth
	mModerateCrowd = mWidth * mHeight / 12
	map_initialize
	gosub *dighole
	repeat 50
		cnt2 = cnt
		t = 100 + cnt2 + 1
		repeat
			x = rnd(mWidth)
			y = rnd(mHeight)
			if ( mapId(x, y) != xy2pic(1, 3) ) {
				continue
			}
			w = 10 + rnd(4)
			repeat w
				dy = cnt + y - w / 2
				repeat w
					dx = cnt + x - w / 2
					if ( dx < 1 | dy < 1 | dx >= mWidth - 1 | dy >= mHeight - 1 ) {
						continue
					}
					if ( dist(x, y, dx, dy) >= w / 2 ) {
						continue
					}
					tx = dx - 1
					ty = dy
					if ( mapId(tx, ty) != t ) {
						if ( mapId(tx, ty) != xy2pic(0, 0) ) {
							if ( mapId(tx, ty) != xy2pic(1, 3) ) {
								continue
							}
						}
					}
					tx = dx + 1
					ty = dy
					if ( mapId(tx, ty) != t ) {
						if ( mapId(tx, ty) != xy2pic(0, 0) ) {
							if ( mapId(tx, ty) != xy2pic(1, 3) ) {
								continue
							}
						}
					}
					tx = dx
					ty = dy - 1
					if ( mapId(tx, ty) != t ) {
						if ( mapId(tx, ty) != xy2pic(0, 0) ) {
							if ( mapId(tx, ty) != xy2pic(1, 3) ) {
								continue
							}
						}
					}
					tx = dx
					ty = dy + 1
					if ( mapId(tx, ty) != t ) {
						if ( mapId(tx, ty) != xy2pic(0, 0) ) {
							if ( mapId(tx, ty) != xy2pic(1, 3) ) {
								continue
							}
						}
					}
					tx = dx - 1
					ty = dy - 1
					if ( mapId(tx, ty) != t ) {
						if ( mapId(tx, ty) != xy2pic(0, 0) ) {
							if ( mapId(tx, ty) != xy2pic(1, 3) ) {
								continue
							}
						}
					}
					tx = dx + 1
					ty = dy - 1
					if ( mapId(tx, ty) != t ) {
						if ( mapId(tx, ty) != xy2pic(0, 0) ) {
							if ( mapId(tx, ty) != xy2pic(1, 3) ) {
								continue
							}
						}
					}
					tx = dx - 1
					ty = dy + 1
					if ( mapId(tx, ty) != t ) {
						if ( mapId(tx, ty) != xy2pic(0, 0) ) {
							if ( mapId(tx, ty) != xy2pic(1, 3) ) {
								continue
							}
						}
					}
					tx = dx + 1
					ty = dy + 1
					if ( mapId(tx, ty) != t ) {
						if ( mapId(tx, ty) != xy2pic(0, 0) ) {
							if ( mapId(tx, ty) != xy2pic(1, 3) ) {
								continue
							}
						}
					}
					mapId(dx, dy) = t
				loop
			loop
			break
		loop
	loop
	repeat mHeight / 2 - 2
		y = cnt * 2
		repeat mWidth / 2 - 2
			x = cnt * 2
			if ( mapId(x, y) < xy2pic(1, 3) ) {
				continue
			}
			if ( mapFeat(x, y) != 0 ) {
				continue
			}
			if ( mapId(x - 1, y) >= xy2pic(1, 3) ) {
				if ( mapId(x + 1, y) >= xy2pic(1, 3) ) {
					if ( mapId(x, y - 1) == xy2pic(0, 0) ) {
						if ( mapId(x, y + 1) == xy2pic(0, 0) ) {
							cell_featset x, y, tile_doorclosed, CELL_FEATURE_DOOR_CLOSED, rnd(abs(gLevel  * 3 / 2) + 1)
						}
					}
					continue
				}
			}
			if ( mapId(x, y - 1) >= xy2pic(1, 3) ) {
				if ( mapId(x, y + 1) >= xy2pic(1, 3) ) {
					if ( mapId(x - 1, y) == xy2pic(0, 0) ) {
						if ( mapId(x + 1, y) == xy2pic(0, 0) ) {
							cell_featset x, y, tile_doorclosed, CELL_FEATURE_DOOR_CLOSED, rnd(abs(gLevel  * 3 / 2) + 1)
						}
					}
					continue
				}
			}
		loop
	loop
	return

*label_2098
	if ( gHomeLevel == 0 ) {
		mMaxInv = 100
		gHomeBase = 1000
	}
	if ( gHomeLevel == 1 ) {
		mMaxInv = 150
		gHomeBase = 3000
	}
	if ( gHomeLevel == 2 ) {
		mMaxInv = 200
		gHomeBase = 5000
	}
	if ( gHomeLevel == 3 ) {
		mMaxInv = 300
		gHomeBase = 7000
	}
	if ( gHomeLevel == 4 ) {
		mMaxInv = 350
		gHomeBase = 8000
		mTileSet = MAP_TILESET_SF
	}
	if ( gHomeLevel == 5 ) {
		mMaxInv = 400
		gHomeBase = 10000
	}
	return

*building_new
	if ( mType != MAP_TYPE_WORLD ) {
		txt -1, lang("ÇªÇÍÇÕÉèÅ[ÉãÉhÉ}ÉbÉvÇ≈ÇµÇ©égÇ¶Ç»Ç¢ÅB", "You can only use it in the world map.")
		gosub *screen_draw
		goto *pc_turn
	}
	cell_featread cX(CHARA_PLAYER), cY(CHARA_PLAYER)
	if ( featPic != 0 ) {
		if ( featIdSub + featParam1 * 100 != 7 | iID(ci) != ITEM_ID_DEED | gHomeLevel == iParam1(ci) ) {
			txt -1, lang("ÇªÇÃèÍèäÇ…ÇÕåöÇƒÇÁÇÍÇ»Ç¢ÅB", "You can't build it here.")
			gosub *screen_draw
			goto *pc_turn
		}
	}
	if ( iID(ci) == ITEM_ID_DEED ) {
		if ( gHomeLevel == iParam1(ci) ) {
			txt -1, lang("é©ëÓÇÇ±ÇÃèÍèäÇ…à⁄ìÆÇ≥ÇπÇÈÅH", "Really move your home here?")
			promptl(0, 0) = stryes, "y", "0"
			promptl(0, 1) = strno, "n", "1"
			promptmax = 2
			val = promptx, prompty, 160, 1
			gosub *prompt_key
			if ( rtval != 0 ) {
				gosub *screen_draw
				goto *pc_turn
			}
			areaX(7) = cX(CHARA_PLAYER)
			areaY(7) = cY(CHARA_PLAYER)
			areaParent(7) = gWorld
			snd SOUNDLIST_BUILD1
			txtef COLOR_YELLOW
			txt -1, lang("ÅuÉtÉnÉnÉnÉnÉnÉnÅIÇ‹Ç©ÇπÇÎÅIÅv", "\"Muwahahahaha, I'll take care of it!\"")
			gosub *label_2358
			iNum(ci)--
			cell_refresh iX(ci), iY(ci)
			goto *label_4158
		}
	}
	if ( iID(ci) == ITEM_ID_DEED_DUNGEON ) {
		exdun = -1
		repeat 450 - 300, 300
			if ( areaId(cnt) == AREA_DUNGEON ) {
				exdun = cnt
				break
			}
		loop
		if ( exdun != (-1) ) {
			txt -1, lang("É_ÉìÉWÉáÉìÇÇ±ÇÃèÍèäÇ…à⁄ìÆÇ≥ÇπÇÈÅH", "Really move your dungeon here?")
			promptl(0, 0) = stryes, "y", "0"
			promptl(0, 1) = strno, "n", "1"
			promptmax = 2
			val = promptx, prompty, 160, 1
			gosub *prompt_key
			if ( rtval != 0 ) {
				gosub *screen_draw
				goto *pc_turn
			}
			areaX(exdun) = cX(CHARA_PLAYER)
			areaY(exdun) = cY(CHARA_PLAYER)
			areaParent(exdun) = gWorld
			snd SOUNDLIST_BUILD1
			txtef COLOR_YELLOW
			txt -1, lang("ÅuÉtÉnÉnÉnÉnÉnÉnÅIÇ‹Ç©ÇπÇÎÅIÅv", "\"Muwahahahaha, I'll take care of it!\"")
			gosub *label_2358
			iNum(ci)--
			cell_refresh iX(ci), iY(ci)
			goto *label_4158
		}
	}
	area = -1
	repeat 450 - 300, 300
		if ( areaId(cnt) == AREA_NONE ) {
			area = cnt
			break
		}
	loop
	if ( area == (-1) ) {
		txt -1, lang("Ç‡Ç§Ç±ÇÍà»è„åöï®ÇÕåöÇƒÇÁÇÍÇ»Ç¢ÅB", "You can't build a building anymore.")
		gosub *screen_draw
		goto *pc_turn
	}
	txt -1, lang("ñ{ìñÇ…Ç±ÇÃèÍèäÇ…åöê›Ç∑ÇÈÅH ", "Really build it here? ")
	promptl(0, 0) = stryes, "y", "0"
	promptl(0, 1) = strno, "n", "1"
	promptmax = 2
	val = promptx, prompty, 160, 1
	gosub *prompt_key
	if ( rtval != 0 ) {
		gosub *screen_draw
		goto *pc_turn
	}
	if ( iID(ci) == ITEM_ID_DEED ) {
		gHomeLevel = iParam1(ci)
		iNum(ci)--
		cell_refresh iX(ci), iY(ci)
		gosub *label_2102
		midbk = mid
		mid = "" + 7 + "_" + (100 + 1)
		ctrlfile 12
		mid = midbk
		gosub *label_2358
		levelexitby = MAP_EXIT_TELEPORT
		gTeleportArea = AREA_HOME
		gTeleportLevel = 1
		gWorldX = areaX(7)
		gWorldY = areaY(7)
		snd SOUNDLIST_BUILD1
		txtef COLOR_GREEN
		txt -1, lang("êVÇµÇ¢â∆ÇåöÇƒÇΩÅI ", "You've built a new house!")
		msg_halt
		snd SOUNDLIST_EXITMAP1
		goto *map_exit
	}
	ctrlfile 13
	p = area
	areaX(p) = cX(CHARA_PLAYER)
	areaY(p) = cY(CHARA_PLAYER)
	areaType(p) = MAP_TYPE_HOME
	areaRestorePos(p) = 1
	areaIcon(p) = 0
	areaTileSet(p) = 3
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaTileFile(p) = 1
	areaStartOn(p) = 8
	areaParent(p) = gWorld
	if ( iID(ci) == ITEM_ID_DEED_MUSEUM ) {
		areaId(p) = AREA_MUSEUM
		areaIcon(p) = xy2pic(19, 4)
		areaField(p) = 1
		s = lang("îéï®äŸ", "museum")
	}
	if ( iID(ci) == ITEM_ID_DEED_SHOP ) {
		areaId(p) = AREA_SHOP
		areaIcon(p) = xy2pic(18, 4)
		areaField(p) = 1
		s = lang("ìX", "shop")
	}
	if ( iID(ci) == ITEM_ID_DEED_FARM ) {
		areaId(p) = AREA_CROP
		areaIcon(p) = xy2pic(20, 4)
		areaField(p) = 2
		s = lang("î®", "crop")
	}
	if ( iID(ci) == ITEM_ID_DEED_STORAGE_HOUSE ) {
		areaId(p) = AREA_STORAGE_HOUSE
		areaIcon(p) = xy2pic(21, 4)
		areaField(p) = 1
		s = lang("ëqå…", "storage")
	}
	if ( iID(ci) == ITEM_ID_DEED_RANCH ) {
		areaId(p) = AREA_RANCH
		areaIcon(p) = xy2pic(22, 4)
		areaField(p) = 2
		areaIcon(p) = 1
		s = lang("ñqèÍ", "ranch")
	}
	if ( iID(ci) == ITEM_ID_DEED_DUNGEON ) {
		areaId(p) = AREA_DUNGEON
		areaIcon(p) = xy2pic(6, 4)
		areaField(p) = 1
		areaIcon(p) = 1
		s = lang("É_ÉìÉWÉáÉì", "dungeon")
	}
	snd SOUNDLIST_BUILD1
	txtef COLOR_YELLOW
	txt -1, lang("Ç†Ç»ÇΩÇÕ" + s + "Çåöê›ÇµÇΩÅI ", "You've built a " + s + "!")
	gosub *label_2358
	iNum(ci)--
	cell_refresh iX(ci), iY(ci)
	goto *label_4158

*label_2102
	p = 7
	areaIcon(p) = xy2pic(11, 4)
	if ( gHomeLevel == 0 ) {
		areaIcon(p) = xy2pic(6, 4)
	}
	if ( gHomeLevel == 4 ) {
		areaIcon(p) = xy2pic(16, 4)
	}
	if ( gHomeLevel == 5 ) {
		areaIcon(p) = xy2pic(12, 4)
	}
	if ( gHomeLevel != 0 ) {
		areaX(p) = cX(CHARA_PLAYER)
		areaY(p) = cY(CHARA_PLAYER)
	}
	areaParent(p) = gWorld
	return

*com_home
	txtnew
	f = 0
	if ( mType == MAP_TYPE_HOME ) {
		f = 1
	}
	if ( gLevel  == 3 ) {
		if ( gRankGuild < 3000 ) {
			if ( areaId(gArea ) == AREA_LUMIEST & guildcheck(0) == "mage" | (areaId(gArea ) == AREA_DERPHY & guildcheck(0) == "thieve") | (areaId(gArea ) == AREA_PORT_KAPUL & guildcheck(0) == "fighter") ) {
				f = 1
			}
		}
	}
	if ( areaId(gArea ) == AREA_LESIMAS & flagMain >= 200 ) {
		f = 1
	}
	if ( areaId(gArea ) == AREA_BEAST_FORT | areaId(gArea ) == AREA_MACHINE_FORT | areaId(gArea ) == AREA_COLLAPSED_FORT ) {
		if ( ogTitleThePurifier == 2 ) {
			f = 1
		}
	}
	if ( areaId(gArea ) == 59 ) {
		if ( ogTitleTheWorldIsSpinning == 2 ) {
			f = 1
		}
	}
	if ( areaId(gArea ) == AREA_TEST_WORLD | areaId(gArea ) == AREA_TW_NORTH_BORDER ) {
		f = 1
	}
	if ( f == 0 ) {
		msgdup++
		txt -1, lang("Ç±Ç±ÇÕÇ†Ç»ÇΩÇÃâ∆Ç≈ÇÕÇ»Ç¢ÅB", "You can only use it in your home.")
		gosub *screen_draw
		goto *pc_turn
	}
	inv_getheader -1
	p = 0, 0, 0
	repeat invrange, invhead
		p(2)++
		if ( iNum(cnt) != 0 ) {
			if ( refitem(iID(cnt), DBSPEC_TYPE, cnt) != FILTER_FURNITURE ) {
				p++
			}
			else {
				p(1)++
			}
		}
	loop
	if ( mMaxInv != 0 ) {
		p(2) = mMaxInv
	}
	txt -1, lang(mapname(gArea ) + "Ç…ÇÕ" + p + "å¬ÇÃÉAÉCÉeÉÄÇ∆" + p(1) + "å¬ÇÃâ∆ãÔÇ™Ç†ÇÈ(ÉAÉCÉeÉÄç≈ëÂ" + p(2) + "å¬) ", "There are " + p + " items and " + p(1) + " furniture in " + mapname(gArea ) + ".(Max: " + p(2) + ") ")
	if ( areaId(gArea ) == AREA_SHOP ) {
		if ( getworker(gArea ) != (-1) ) {
			txt -1, lang("åªç›ÇÃìXéÂÇÕ" + cnName(getworker(gArea )) + "ÇæÅB", "Current shopkeeper is " + cnName(getworker(gArea )) + ".")
		}
		else {
			txt -1, lang("åªç›ìXéÂÇÕÇ¢Ç»Ç¢ÅB", "You haven't assigned a shopkeeper yet.")
		}
	}
	if ( areaId(gArea ) == AREA_RANCH ) {
		if ( getworker(gArea ) != (-1) ) {
			txt -1, lang("åªç›ÇÃÉuÉäÅ[É_Å[ÇÕ" + cnName(getworker(gArea )) + "ÇæÅB", "Current breeder is " + cnName(getworker(gArea )) + ".")
		}
		else {
			txt -1, lang("åªç›ÉuÉäÅ[É_Å[ÇÕÇ¢Ç»Ç¢ÅB", "You haven't assigned a breeder yet.")
		}
	}
	if ( gArea  == AREA_HOME ) {
		p = 0
		repeat 188, 57
			if ( cExist(cnt) == CHAR_STATE_ALIVE | cExist(cnt) == CHAR_STATE_SPIRIT ) {
				if ( cId(cnt) == CREATURE_ID_YOUNGER_SISTER ) {
					continue
				}
				if ( cRole(cnt) == ROLE_PET_SENTRY | cRole(cnt) == ROLE_PET_MAID | eqfaction(cnt, "petshop") ) {
					continue
				}
				if ( cRole(cnt) != ROLE_NONE ) {
					p++
				}
			}
		loop
		txt -1, lang("åªç›" + p + "êlÇÃëÿç›é“Ç™Ç¢ÇÈ(ç≈ëÂ" + (gHomeLevel + 2 + (ogTitleBillionaire == 2) * 10) + "êl) ", "" + p + " members are staying at your home. (Max: " + (gHomeLevel + 2 + (ogTitleBillionaire == 2) * 10) + ").")
		if ( ogTitleChampionOfTheLabyrinths != 0 ) {
			areaCanSave(gArea ) = 20
		}
		if ( ogTitleChampionOfTheLabyrinths != 0 & ncgHomeBasementFloors < 1 ) {
			ncgHomeBasementFloors = 1
			snd SOUNDLIST_BUILD1
			txtef COLOR_GREEN
			txt -1, lang("Ç†Ç»ÇΩÇÃäàñÙÇï∑Ç¢ÇΩëÂçHÇ…ÇÌÇ™â∆Çâ¸ó«ÇµÇƒÇ‡ÇÁÇ¡ÇΩÅIínâ∫" + (areaCanSave(gArea ) - 1) + "äKÇ‹Ç≈égÇ¶ÇÈÇÊÇ§Ç…Ç»Ç¡ÇΩÅI", "Now possible to go down " + (areaCanSave(gArea ) - 1) + " floors underground!")
		}
		if ( ogTitleJunkie != 0 ) {
			areaCanSave(gArea ) = 30
		}
		if ( ogTitleJunkie != 0 & ncgHomeBasementFloors < 2 ) {
			ncgHomeBasementFloors = 2
			snd SOUNDLIST_BUILD1
			txtef COLOR_GREEN
			txt -1, lang("Ç†Ç»ÇΩÇÃäàñÙÇï∑Ç¢ÇΩëÂçHÇ…ÇÌÇ™â∆Çâ¸ó«ÇµÇƒÇ‡ÇÁÇ¡ÇΩÅIínâ∫" + (areaCanSave(gArea ) - 1) + "äKÇ‹Ç≈égÇ¶ÇÈÇÊÇ§Ç…Ç»Ç¡ÇΩÅI", "Now possible to go down " + (areaCanSave(gArea ) - 1) + " floors underground!")
		}
		if ( ogTitleBeyondWish != 0 ) {
			areaCanSave(gArea ) = 40
		}
		if ( ogTitleBeyondWish != 0 & ncgHomeBasementFloors < 3 ) {
			ncgHomeBasementFloors = 3
			snd SOUNDLIST_BUILD1
			txtef COLOR_GREEN
			txt -1, lang("Ç†Ç»ÇΩÇÃäàñÙÇï∑Ç¢ÇΩëÂçHÇ…ÇÌÇ™â∆Çâ¸ó«ÇµÇƒÇ‡ÇÁÇ¡ÇΩÅIínâ∫" + (areaCanSave(gArea ) - 1) + "äKÇ‹Ç≈égÇ¶ÇÈÇÊÇ§Ç…Ç»Ç¡ÇΩÅI", "Now possible to go down " + (areaCanSave(gArea ) - 1) + " floors underground!")
		}
	}
	txtnew
	txt -1, lang("âΩÇÇ∑ÇÈÅH", "What do you want to do?")
	p = 0
	promptl(0, promptmax) = lang("â∆ÇÃñÕólë÷Ç¶", "Design"), "null", "" + 0
	promptmax++
	if ( areaId(gArea ) == AREA_MUSEUM ) {
		if ( ogTitleHelloIAmMayor == 2 ) {
			promptl(0, promptmax) = lang("îéï®äŸÇÃñºëOÇçlÇ¶ÇÈ", "Think of a name for my museum"), "null", "" + 20
			promptmax++
		}
	}
	if ( areaId(gArea ) == AREA_SHOP ) {
		promptl(0, promptmax) = lang("íáä‘Ç…ìXéÂÇóäÇﬁ", "Assign a shopkeeper"), "null", "" + 4
		promptmax++
		if ( mMaxInv < 400 ) {
			promptl(0, promptmax) = lang("ìXÇägí£", "Extend") + "(" + calcshopreform() + " GP)", "null", "" + 5
			promptmax++
		}
		if ( cfg_notforsale ) {
			promptl(0, promptmax) = lang("îÒîÑÉGÉäÉAÇÃê›íË", "Set not-for-sale area."), "null", "" + 10
			promptmax++
		}
		if ( ogTitleHelloIAmMayor == 2 ) {
			promptl(0, promptmax) = lang("ìXÇÃñºëOÇçlÇ¶ÇÈ", "Think of a name for my shop"), "null", "" + 20
			promptmax++
		}
	}
	if ( areaId(gArea ) == AREA_CROP ) {
		if ( mMaxInv < 400 ) {
			promptl(0, promptmax) = lang("î®Çägí£", "Extend") + "(" + calcshopreform() + " GP)", "null", "" + 5
			promptmax++
		}
		if ( ogTitleHelloIAmMayor == 2 ) {
			promptl(0, promptmax) = lang("î®ÇÃñºëOÇçlÇ¶ÇÈ", "Think of a name for my crop"), "null", "" + 20
			promptmax++
		}
	}
	if ( areaId(gArea ) == AREA_STORAGE_HOUSE ) {
		if ( mMaxInv < 400 ) {
			promptl(0, promptmax) = lang("ëqå…Çägí£", "Extend") + "(" + calcshopreform() + " GP)", "null", "" + 5
			promptmax++
		}
		if ( areaParent(gArea ) == AREA_TEST_WORLD ) {
			promptl(0, promptmax) = lang("égópêlÇïÂèWÇ∑ÇÈ", "Recruit a servant"), "null", "" + 6
			promptmax++
		}
		else {
			if ( ogTitleHelloIAmMayor == 2 ) {
				promptl(0, promptmax) = lang("ëqå…ÇÃñºëOÇçlÇ¶ÇÈ", "Think of a name for my storage"), "null", "" + 20
				promptmax++
			}
		}
	}
	if ( areaId(gArea ) == AREA_RANCH ) {
		promptl(0, promptmax) = lang("ÉuÉäÅ[É_Å[ÇîCñΩÇ∑ÇÈ", "Assign a breeder"), "null", "" + 4
		promptmax++
		if ( mMaxInv < 400 ) {
			promptl(0, promptmax) = lang("ñqèÍÇägí£", "Extend") + "(" + calcshopreform() + " GP)", "null", "" + 5
			promptmax++
		}
		if ( ogTitleHelloIAmMayor == 2 ) {
			promptl(0, promptmax) = lang("ñqèÍÇÃñºëOÇçlÇ¶ÇÈ", "Think of a name for my ranch"), "null", "" + 20
			promptmax++
		}
	}
	if ( gArea  == AREA_HOME ) {
		promptl(0, promptmax) = lang("â∆ÇÃèÓïÒ", "Home rank"), "null", "" + 2
		promptmax++
		promptl(0, promptmax) = lang("íáä‘ÇÃëÿç›", "Allies in your home"), "null", "" + 4
		promptmax++
		if ( gLevel  == 1 ) {
			promptl(0, promptmax) = lang("égópêlÇïÂèWÇ∑ÇÈ", "Recruit a servant"), "null", "" + 6
			promptmax++
		}
	}
	if ( areaId(gArea ) == AREA_DUNGEON ) {
		promptl(0, promptmax) = lang("ÉÅÉCÉhÇåŸÇ§", "Hire a maid"), "null", "" + 7
		promptmax++
	}
	if ( areaId(gArea ) == AREA_CROP ) {
		promptl(0, promptmax) = lang("íáä‘ÇÃëÿç›", "Allies in crop"), "null", "" + 4
		promptmax++
	}
	if ( areaId(gArea ) == AREA_TEST_WORLD ) {
		promptl(0, promptmax) = lang("ÉlÉtÉBÉAÇÃè¡ãé", "Clear Nefia"), "null", "" + 30
		promptmax++
		promptl(0, promptmax) = lang("ä÷èäÇÃà⁄ê›", "Move Border"), "null", "" + 31
		promptmax++
		promptl(0, promptmax) = lang("ìáÇÃñºëOÇçlÇ¶ÇÈ", "Think of a name for island"), "null", "" + 20
		promptmax++
	}
	else {
		promptl(0, promptmax) = lang("ëÿç›é“ÇÃà⁄ìÆ", "Move a stayer"), "null", "" + 3
		promptmax++
	}
	promptl(0, promptmax) = lang("ñÕólÇÃÉäÉZÉbÉg", "Design Reset"), "null", "" + 40
	promptmax++
	homemakewall = 0
	val = promptx, prompty, 240, 1
	gosub *prompt_key
	if ( stat == 0 ) {
		gosub *screen_draw
		goto *pc_turn
	}
	_switch_val = rtval
	if ( _switch_val == 10 | _switch_sw ) {
		_switch_sw = 0
		homemapmode = 2
		f = 0
		cxbk = cX(CHARA_PLAYER)
		cybk = cY(CHARA_PLAYER)
		n = 0
		txtnew
		txt -1, lang("ê‘Ç¢É}ÉXÇ™îÒè§ïiÉGÉäÉAÅBÉ}ÉEÉXÇÃç∂ÉNÉäÉbÉNÇ≈îÒè§ïiÉGÉäÉAê›íuÅAâEÉNÉäÉbÉNÇ≈ìPãéÅAåàíËÉLÅ[Ç≈ÉGÉäÉAîΩì]ÅAà⁄ìÆÉLÅ[Ç≈ÉXÉNÉäÅ[Éìà⁄ìÆÅAÉLÉÉÉìÉZÉãÉLÅ[Ç≈èIóπÅB", "Left click to place the tile, right click to pick the tile under your mouse cursor, movement keys to move current position, hit the enter key to show the list of tiles, hit the cancel key to exit.")
		locvar_randskill_tcol = 255, 255, 255
		tlocinitx = cX(CHARA_PLAYER)
		tlocinity = cY(CHARA_PLAYER)
		tile = 0
		repeat
			await
			homemakewall = 1
			gosub *label_2584
			if ( stat == (-1) ) {
				break
			}
			if ( stat == 1 ) {
				mapbitmod 3, tlocx, tlocy, 0
			}
			if ( stat == 2 ) {
				mapbitmod 3, tlocx, tlocy, 1
			}
			tlocinitx = tlocx
			tlocinity = tlocy
		loop
		homemapmode = 0
		cX(CHARA_PLAYER) = cxbk
		cY(CHARA_PLAYER) = cybk
		goto *label_2130
		_switch_sw++
	}
	if ( _switch_val == 20 | _switch_sw ) {
		_switch_sw = 0
		repeat
			promptmax = 0
			promptl(0, promptmax) = "ï ÇÃñºëOÇçlÇ¶ÇÈ", "null", "" + promptmax
			promptmax++
			repeat 3
				mdatan(0) = random_title()
				if ( rnd(50) == 0 ) {
					if ( rnd(2) ) {
						mdatan(0) = cnName(CHARA_PLAYER)
					}
					else {
						mdatan(0) = cnAka(CHARA_PLAYER)
					}
				}
				if ( areaId(gArea ) == AREA_MUSEUM ) {
					if ( jp ) {
						s = "ÇÃîéï®äŸ", "É~ÉÖÅ[ÉWÉAÉÄ", "ÇÃãLîOäŸ", "ÉnÅ[ÉåÉÄ", "ÇÃå|èpìW", "ÇÃî¸èpäŸ", "ì∞", "ÇÃéjóøäŸ", "äŸ", "ÇÃéjóøäŸ", "ÉhÅ[ÉÄ"
						if ( rnd(5) ) {
							mdatan(0) += s(rnd(11))
						}
					}
					else {
						s = "Museum", "Mansion", "Shack", "Nest", "Base", "Hideout", "Dome", "Hut", "Cabin", "Hovel", "Shed"
						if ( rnd(3) ) {
							mdatan(0) += " " + s(rnd(11))
						}
					}
					mati = lang("îéï®äŸ", "museum")
				}
				if ( areaId(gArea ) == AREA_SHOP ) {
					if ( jp ) {
						s = "ÇÃìX", "ï‹", "ÉXÉgÉA", "ÉnÅ[ÉåÉÄ", "ÇÃîÃîÑìX", "è§ìX", "ÇÃîÃîÑèä", "ésèÍ", "ÉVÉáÉbÉv", "ÉÇÅ[Éã", "ÉhÅ[ÉÄ"
						if ( rnd(5) ) {
							mdatan(0) += s(rnd(11))
						}
					}
					else {
						s = "Shop", "Mansion", "Shack", "Nest", "Base", "Hideout", "Dome", "Hut", "Cabin", "Hovel", "Shed"
						if ( rnd(3) ) {
							mdatan(0) += " " + s(rnd(11))
						}
					}
					mati = lang("ìX", "shop")
				}
				if ( areaId(gArea ) == AREA_CROP ) {
					if ( jp ) {
						s = "ÇÃî®", "íIìc", "å¥", "ÉnÅ[ÉåÉÄ", "ÇÃçÿâÄ", "âÄ", "î_âÄ", "ÇÃêÖìc", "ÇÃâ∆íÎçÿâÄ", "ÇÃâ∑é∫", "ÉhÅ[ÉÄ"
						if ( rnd(5) ) {
							mdatan(0) += s(rnd(11))
						}
					}
					else {
						s = "Crop", "Mansion", "Shack", "Nest", "Base", "Hideout", "Dome", "Hut", "Cabin", "Hovel", "Shed"
						if ( rnd(3) ) {
							mdatan(0) += " " + s(rnd(11))
						}
					}
					mati = lang("î®", "crop")
				}
				if ( areaId(gArea ) == AREA_STORAGE_HOUSE ) {
					if ( jp ) {
						s = "ÇÃëqå…", "ëq", "å…", "ÉnÅ[ÉåÉÄ", "ÇÃë†", "ÇÃåäë†", "ÇÃï®íu", "ÇÃî[âÆ", "íuÇ´èÍ", "ÇÃèWêœèÍ", "ÉhÅ[ÉÄ"
						if ( rnd(5) ) {
							mdatan(0) += s(rnd(11))
						}
					}
					else {
						s = "Storage", "Mansion", "Shack", "Nest", "Base", "Hideout", "Dome", "Hut", "Cabin", "Hovel", "Shed"
						if ( rnd(3) ) {
							mdatan(0) += " " + s(rnd(11))
						}
					}
					mati = lang("ëqå…", "storage")
				}
				if ( areaId(gArea ) == AREA_RANCH ) {
					if ( jp ) {
						s = "ÇÃñqèÍ", "ÇÃï˙ñqín", "ín", "ÉnÅ[ÉåÉÄ", "ÇÃëêå¥", "ÉtÉBÅ[ÉãÉh", "ÇÃñqëêín", "ÇÃëêå¥", "ñq", "å¥", "ÉhÅ[ÉÄ"
						if ( rnd(5) ) {
							mdatan(0) += s(rnd(11))
						}
					}
					else {
						s = "Ranch", "Mansion", "Shack", "Nest", "Base", "Hideout", "Dome", "Hut", "Cabin", "Hovel", "Shed"
						if ( rnd(3) ) {
							mdatan(0) += " " + s(rnd(11))
						}
					}
					mati = lang("ñqèÍ", "ranch")
				}
				promptl(0, promptmax) = mdatan(0), "null", "" + promptmax
				promptmax++
			loop
			promptl(0, promptmax) = "Ç‚Ç¡ÇœÇËíºê⁄åàÇﬂÇÈ", "null", "" + promptmax
			promptmax++
			val = promptx, prompty, 400, 1
			gosub *prompt_key
			if ( rtval != (-1) & rtval != 0 ) {
				mdatan(0) = promptl(0, rtval)
				if ( rtval == 4 ) {
					txtnew
					txt -1, lang("Ç±ÇÃ" + mati + "ÇÃñºëOÇÕÅH", "What is the name of this facility?")
					val = (windoww - 514) / 2 + inf_screenx, winposy(90), 30, 0, 0
					inputlog = ""
					gosub *prompt_word
					mdatan(0) = inputlog
				}
				break
			}
			snd SOUNDLIST_DICE
		loop
		screenupdate = -1
		gosub *screen_refreshFull
		txtnew
		txt -1, lang("Ç±ÇÍÇ©ÇÁÇ±ÇÃ" + mati + "ÇÃñºëOÇÕ" + mdatan(0) + "Çæ", "You don't have enough money...")
		goto *label_2130
		_switch_sw++
	}
	if ( _switch_val == 30 | _switch_sw ) {
		_switch_sw = 0
		repeat 500 - 450, 450
			if ( areaId(cnt) == AREA_RANDOM_DUNGEON ) {
				mapFeat(areaX(cnt), areaY(cnt)) = 0
				areaId(cnt) = AREA_NONE
				removeworker cnt
				gosub *label_2358
			}
		loop
		txt -1, lang("ÉlÉtÉBÉAÇàÍë|ÇµÇΩÅB", "Clear all nefia.")
		goto *label_2130
		_switch_sw++
	}
	if ( _switch_val == 31 | _switch_sw ) {
		_switch_sw = 0
		txtnew
		txt -1, lang("Ç«Ç±Ç…à⁄ìÆÇ≥ÇπÇÈÅH", "Where do you want to move?")
		gosub *label_2584
		if ( stat == (-1) ) {
			goto *label_2130
		}
		if ( chipm(CHIPM_ATTRIB, mapId(tlocx, tlocy)) & CHIPM_ATTRIB_CANT_PASS | mapChara(tlocx, tlocy) != 0 | mapFeat(tlocx, tlocy) != 0 ) {
			txtnew
			txt -1, lang("ÇªÇÃèÍèäÇ…ÇÕà⁄ìÆÇ≥ÇπÇÈÇ±Ç∆Ç™Ç≈Ç´Ç»Ç¢ÅB", "The location is invalid.")
			goto *label_2130
		}
		repeat 500
			if ( areaId(cnt) == AREA_TW_NORTH_BORDER ) {
				areaX(cnt) = tlocx
				areaY(cnt) = tlocy
				p = cnt
				break
			}
		loop
		gosub *label_2358
		cell_refresh areaX(p), areaY(p)
		ncgMovedBorder = 1
		snd SOUNDLIST_BUILD1
		txtnew
		txt -1, lang("ä÷èäÇà⁄ìÆÇ≥ÇπÇΩÅB", "Border moved to the location.")
		goto *label_2130
		_switch_sw++
	}
	if ( _switch_val == 40 | _switch_sw ) {
		_switch_sw = 0
		repeat mHeight
			nc_intb_001 = cnt
			repeat mWidth
				mapId(cnt, nc_intb_001) = xy2pic(0, 0)
			loop
		loop
		snd SOUNDLIST_BUILD1
		txt -1, lang("ínñ ÇãœÇµÇΩÅB", "Clear all nefia.")
		goto *label_2130
		_switch_sw++
	}
	if ( _switch_val == 0 | _switch_sw ) {
		_switch_sw = 0
		gosub *housing_design
		goto *label_2130
		_switch_sw++
	}


	if ( _switch_val == 2 | _switch_sw ) {
		_switch_sw = 0
		gsel BUFFER_BUF
		repeat 8
			pos cnt \ 4 * 180, cnt / 4 * 300
			picload_ exedir + "\\graphic\\g" + (cnt + 1) + ".bmp", 1
		loop
		gsel BUFFER_SCREEN
		snd SOUNDLIST_POP2
		redraw 0
		pagesize = 0
		keyrange = 0
		key_list = key_cancel
		s = lang("â∆ÇÃèÓïÒ", "Home Value"), lang("åàíË∑∞,", "Enter key,") + strhint3
		windowshadow = 1
		display_window (windoww - 440) / 2 + inf_screenx, winposy(360), 440, 360
		display_topic lang("âøíl", "Value"), wx + 28, wy + 36
		display_topic lang("â∆ïÛÉâÉìÉN", "Heirloom Rank"), wx + 28, wy + 106
		cmbg++
		x = ww / 5 * 2
		y = wh - 80
		gmode 4, 180, 300, 50
		pos wx + ww / 4, wy + wh / 2
		grotate BUFFER_BUF, cmbg / 4 \ 4 * 180, cmbg / 4 / 4 \ 2 * 300, 0, x, y
		gmode 2
		gosub *house_update
		s = lang("äÓñ{.", "Base"), lang("â∆ãÔ.", "Deco"), lang("â∆ïÛ.", "Heir"), lang("ëççá.", "Total")
		p = gHomeBase, gHomeFurniture, gHomeValue
		p(3) = (p + p(1) + p(2)) / 3
		repeat 4
			x = wx + 45 + cnt / 2 * 190
			y = wy + 68 + cnt \ 2 * 18
			font lang(cfg_font1, cfg_font2), 12 + sizefix - en * 2, 0
			color 0, 0, 0
			pos x, y
			mes s(cnt)
			font lang(cfg_font1, cfg_font2), 14 - en * 2, 0
			repeat limit(p(cnt) / 1000, 1, 10)
				color 0, 0, 0
				pos x + 35 + cnt * 13 + en * 8, y - 2
				bmes lang("Åö", "*"), 255, 255, 50
			loop
		loop
		font lang(cfg_font1, cfg_font2), 12 + sizefix - en * 2, 0
		color 0, 0, 0
		listmax = 10
		gosub *sort_list
		repeat 10
			p = list(0, cnt)
			if ( p == 0 ) {
				continue
			}
			p(1) = iPic(p) \ 1000
			gsel BUFFER_ITEM
			color 0
			boxf 0, 960, chipi(CHIPI_WIDTH, p(1)), chipi(CHIPI_HEIGHT, p(1)) + 960
			if ( p(1) == 528 ) {
				gmode 2
				pos 0, 960
				gcopy BUFFER_ITEM, 0, 768, inf_tiles, inf_tiles
				pos 0, 1008
				gzoom 22, 20, 5, chipc(CHIPC_X, iCol(p)) + 8, chipc(CHIPC_Y, iCol(p)) + 4 + (chipc(CHIPC_HEIGHT, iCol(p)) > inf_tiles) * 8, chipc(CHIPC_WIDTH, iCol(p)) - 16, chipc(CHIPC_HEIGHT, iCol(p)) - 8 - (chipc(CHIPC_HEIGHT, iCol(p)) > inf_tiles) * 10, 1
				pos 6, 974
				gcopy BUFFER_ITEM, 0, 1008, 22, 20
				gsel selcur
			}
			else {
				if ( p(1) == 531 ) {
					pos 8, 1058 - chipc(CHIPC_HEIGHT, iCol(p))
					gcopy BUFFER_CHR, chipc(CHIPC_X, iCol(p)) + 8, chipc(CHIPC_Y, iCol(p)) + 2, chipc(CHIPC_WIDTH, iCol(p)) - 16, chipc(CHIPC_HEIGHT, iCol(p)) - 8
					gmode 4, , , 150
					color 0, 0, 0
					pos 0, 960 + (chipc(CHIPC_HEIGHT, iCol(p)) == inf_tiles) * 48
					gcopy BUFFER_ITEM, 144, 768 + (chipc(CHIPC_HEIGHT, iCol(p)) > inf_tiles) * 48, inf_tiles, chipc(CHIPC_HEIGHT, iCol(p)) + (chipc(CHIPC_HEIGHT, iCol(p)) > inf_tiles) * 48
					gmode 2
					gsel selcur
				}
				else {
					if ( p(1) == 529 ) {
						pos 0, 1056 - chipc(CHIPC_HEIGHT, iCol(p))
						gcopy BUFFER_CHR, chipc(CHIPC_X, iCol(p)), chipc(CHIPC_Y, iCol(p)), chipc(CHIPC_WIDTH, iCol(p)), chipc(CHIPC_HEIGHT, iCol(p))
						gmode 2
						gsel selcur
					}
					else {
						pos 0, 960
						gcopy BUFFER_ITEM, chipi(CHIPI_X, p(1)), chipi(CHIPI_Y, p(1)), chipi(CHIPI_WIDTH, p(1)), chipi(CHIPI_HEIGHT, p(1))
						gfini chipi(CHIPI_WIDTH, p(1)), chipi(CHIPI_HEIGHT, p(1))
						gfdec2 c_col(0, iCol(p)), c_col(1, iCol(p)), c_col(2, iCol(p))
						gsel selcur
					}
				}
			}
			pos wx + 37, cnt * 16 + wy + 138
			gmode 2, chipi(CHIPI_WIDTH, p(1)), chipi(CHIPI_HEIGHT, p(1))
			grotate BUFFER_ITEM, 0, 960, 0, chipi(CHIPI_WIDTH, p(1)) * inf_tiles / chipi(CHIPI_HEIGHT, p(1)), inf_tiles
			pos wx + 68, cnt * 16 + wy + 138
			mes "" + cnvrank(10 - cnt) + lang("à .", "")
			pos wx + 110, cnt * 16 + wy + 138
			mes itemname(p)
		loop
*com_home_WHILE1
		redraw 1
		await cfg_wait1
		key_check
		cursor_check
		if ( key == key_cancel ) {
			goto *com_home_WEND1
		}
		goto *com_home_WHILE1
*com_home_WEND1
		goto *label_2130
		_switch_sw++
	}





	if ( _switch_val == 3 | _switch_sw ) {
		_switch_sw = 0
*com_home_WHILE2
		txtnew
		txt -1, lang("íNÇà⁄ìÆÇ≥ÇπÇÈÅH", "Move who?")
		allyctrl = 0
		oom_posinfo = 1
		gosub *label_2694
		oom_posinfo = 0
		if ( stat == (-1) ) {
			goto *com_home_WEND3
		}
		tchome = stat
		tc = stat
		if ( cRelation(tc) <= RELATION_ENEMY ) {
			if ( cbit(CHARA_BIT_SANDBAG, tc) == FALSE ) {
				txtnew
				txtef COLOR_SKY_BLUE
				txt tc, cnName(tc) + lang("ÅuêGÇÈÇ»ÅIÅv", " " + cnvtalk("Don't touch me!"))
				goto *com_home_WEND3
			}
		}
		snd SOUNDLIST_OK1
*com_home_WHILE3
		txtnew
		txt -1, lang(cnName(tc) + "ÇÇ«Ç±Ç…à⁄ìÆÇ≥ÇπÇÈÅH", "Where do you want to move " + cnName(tc) + "?")
		gosub *label_2584
		if ( stat == (-1) ) {
			goto *com_home_WEND2
		}
		if ( chipm(CHIPM_ATTRIB, mapId(tlocx, tlocy)) & CHIPM_ATTRIB_CANT_PASS | mapChara(tlocx, tlocy) != 0 ) {
			txt -1, lang("ÇªÇÃèÍèäÇ…ÇÕà⁄ìÆÇ≥ÇπÇÈÇ±Ç∆Ç™Ç≈Ç´Ç»Ç¢ÅB", "The location is invalid.")
			goto *com_home_SWEND1
		}
		tc = tchome
		mapChara(cX(tc), cY(tc)) = 0
		mapChara(tlocx, tlocy) = tc + 1
		cX(tc) = tlocx
		cXorg(tc) = tlocx
		cY(tc) = tlocy
		cYorg(tc) = tlocy
		rowactend tc
		txtnew
		txt -1, lang(cnName(tc) + "Çà⁄ìÆÇ≥ÇπÇΩÅB", cnName(tc) + " " + is(tc) + " moved to the location.")
		snd SOUNDLIST_FOOT
		goto *com_home_WEND2
*com_home_SWEND1
		goto *com_home_WHILE3
*com_home_WEND2
		goto *com_home_WHILE2
*com_home_WEND3
		goto *label_2130
		_switch_sw++
	}
	if ( _switch_val == 4 | _switch_sw ) {
		_switch_sw = 0
		allyctrl = 3
		gosub *label_2611
		if ( stat != (-1) ) {
			c = stat
			snd SOUNDLIST_OK1
			txtnew
			if ( getworker(gArea , c) == c ) {
				if ( gArea  == AREA_HOME ) {
					cType(c) = 0
					ctalk c, 1312, c, c
					txt -1, lang(cnName(c) + "ÇÃëÿç›ÇéÊÇËè¡ÇµÇΩÅB", cnName(c) + " " + is(c) + " no longer staying at your home.")
				}
				else {
					removeworker gArea 
					if ( areaId(gArea ) == AREA_SHOP ) {
						ctalk c, 1297, c, c
					}
					if ( areaId(gArea ) == AREA_RANCH ) {
						ctalk c, 1299, c, c
					}
					txt -1, lang(cnName(c) + "Çññ⁄Ç©ÇÁäOÇµÇΩÅB", "You remove " + cnName(c) + " from " + his(c) + " job.")
				}
				ocPetJobSkill(c) = 0
				ocdata(80, c) = 0
			}
			else {
				if ( gArea  == AREA_HOME ) {
					cXorg(c) = cX(c)
					cYorg(c) = cY(c)
					ctalk c, 1311, c, c
					txt -1, lang(cnName(c) + "Çëÿç›Ç≥ÇπÇΩÅB", cnName(c) + " stay" + _s(c) + " at your home now.")
				}
				else {
					removeworker gArea 
					if ( areaId(gArea ) == AREA_SHOP ) {
						ctalk c, 1296, c, c
					}
					if ( areaId(gArea ) == AREA_RANCH ) {
						ctalk c, 1298, c, c
					}
					txt -1, lang(cnName(c) + "ÇîCñΩÇµÇΩÅB", cnName(c) + " take" + _s(c) + " charge of the job now.")
				}
				cType(c) = gArea 
				ocdata(80, c) = (gLevel  + 1) * (-1)
			}
		}
		goto *label_2130
		_switch_sw++
	}
	if ( _switch_val == 5 | _switch_sw ) {
		_switch_sw = 0
		txtnew
		if ( cGold(CHARA_PLAYER) < calcshopreform() & ncgGoldOverflow == 0 ) {
			txt -1, lang("Ç®ã‡Ç™ë´ÇËÇ»Ç¢Åc", "You don't have enough money...")
		}
		else {
			snd SOUNDLIST_PAYGOLD1
			cGold(CHARA_PLAYER) -= calcshopreform()
			gosub *label_0422
			if ( areaId(gArea ) == AREA_STORAGE_HOUSE ) {
				mMaxInv = limit(mMaxInv + 10, 1, 400)
				txtef COLOR_GREEN
				txt -1, lang("ëqå…Çägí£ÇµÇΩÅIÇ±ÇÍÇ©ÇÁÇÕ" + mMaxInv + "å¬ÇÃÉAÉCÉeÉÄÇï€ä«Ç≈Ç´ÇÈÅB", "You extend your storage! You can put max of " + mMaxInv + " items now!")
			}
			else {
				if ( areaId(gArea ) == AREA_CROP ) {
					mMaxInv = limit(mMaxInv + 10, 1, 400)
					txtef COLOR_GREEN
					txt -1, lang("î®Çägí£ÇµÇΩÅIÇ±ÇÍÇ©ÇÁÇÕ" + mMaxInv + "å¬ÇÃÉAÉCÉeÉÄÇï€ä«Ç≈Ç´ÇÈÅB", "You extend your crop! You can put max of " + mMaxInv + " items now!")
				}
				else {
					if ( areaId(gArea ) == AREA_RANCH ) {
						mMaxInv = limit(mMaxInv + 10, 1, 400)
						txtef COLOR_GREEN
						txt -1, lang("ñqèÍÇägí£ÇµÇΩÅIÇ±ÇÍÇ©ÇÁÇÕ" + mMaxInv + "å¬ÇÃÉAÉCÉeÉÄÇï€ä«Ç≈Ç´ÇÈÅB", "You extend your ranch! You can put max of " + mMaxInv + " items now!")
					}
					else {
						mMaxInv = limit(mMaxInv + 10, 1, 400)
						txtef COLOR_GREEN
						txt -1, lang("ìXÇägí£ÇµÇΩÅIÇ±ÇÍÇ©ÇÁÇÕ" + mMaxInv + "å¬ÇÃÉAÉCÉeÉÄÇí¬óÒÇ≈Ç´ÇÈÅB", "You extend your shop! You can display max of " + mMaxInv + " items now!")
					}
				}
			}
		}
		goto *label_2130
		_switch_sw++
	}
	if ( _switch_val == 6 | _switch_sw ) {
		_switch_sw = 0
		txtnew
		p = 0
		repeat 188, 57
			if ( cExist(cnt) == CHAR_STATE_ALIVE | cExist(cnt) == CHAR_STATE_SPIRIT ) {
				if ( cId(cnt) == CREATURE_ID_YOUNGER_SISTER ) {
					continue
				}
				if ( cRole(cnt) == ROLE_PET_SENTRY | cRole(cnt) == ROLE_PET_MAID | eqfaction(cnt, "petshop") ) {
					continue
				}
				if ( cRole(cnt) != ROLE_NONE ) {
					p++
				}
			}
		loop
		if ( p >= gHomeLevel + 2 + (ogTitleBillionaire == 2) * 10 & areaId(gArea ) != AREA_STORAGE_HOUSE ) {
			txt -1, lang("â∆ÇÕÇ∑Ç≈Ç…êlÇ≈Ç†Ç”ÇÍÇ©Ç¶Ç¡ÇƒÇ¢ÇÈÅB", "You already have too many guests in your home.")
			goto *label_2130
		}
		repeat 60
			randomize gDay  + cnt
			if ( rnd(2) ) {
				continue
			}
			if ( cnt == 0 ) {
				hire = 0
			}
			else {
				hire = rnd(length(isethire))
			}
			dbid = isethire(hire)
			randomize gDay  + cnt
			flt 20
			norandomclass = 1
			ishiringservants = 1
			characreate -1, dbid, -3, 0
			ishiringservants = 0
			if ( stat == 0 ) {
				continue
			}
			cExist(rc) = CHAR_STATE_TEMP
			cRole(rc) = isethirerole(hire)
			if ( cId(rc) == CREATURE_ID_SHOPKEEPER ) {
				if ( guildcheck(0) == "mage" & gRankGuild / 100 == 1 ) {
					p = rnd(10)
				}
				else {
					p = rnd(9)
				}
				if ( p == 0 ) {
					cRole(rc) = ROLE_SHOP_ARMOR
					cnName(rc) = lang("ïêãÔìXÇÃ" + cnName(rc), cnName(rc) + " of armory")
				}
				if ( p == 1 ) {
					cRole(rc) = ROLE_SHOP_GENERAL
					cnName(rc) = lang("éGâ›âÆÇÃ" + cnName(rc), cnName(rc) + " of general store")
				}
				if ( p == 2 ) {
					cRole(rc) = ROLE_SHOP_MAGIC
					cnName(rc) = lang("ñÇñ@ìXÇÃ" + cnName(rc), cnName(rc) + " of magic store")
				}
				if ( p == 3 ) {
					cRole(rc) = ROLE_SHOP_GOODS
					cnName(rc) = lang("âΩÇ≈Ç‡âÆÇÃ" + cnName(rc), cnName(rc) + " of goods store")
				}
				if ( p == 4 ) {
					cRole(rc) = ROLE_SHOP_ARMOR
					cnName(rc) = lang("ïêãÔìXÇÃ" + cnName(rc), cnName(rc) + " of armory")
				}
				if ( p == 5 ) {
					cRole(rc) = ROLE_SHOP_BLACKMARKET
					cnName(rc) = lang("ÉuÉâÉbÉNÉ}Å[ÉPÉbÉgÇÃ" + cnName(rc), cnName(rc) + " of blackmarket")
				}
				if ( p == 6 ) {
					cRole(rc) = ROLE_SHOP_MOUNTAIN2
					cnName(rc) = lang("Ç®Ç›Ç‚Ç∞âÆÇÃ" + cnName(rc), sncnv(cnName(rc)) + "the souvenir vendor")
				}
				if ( p == 7 ) {
					cRole(rc) = ROLE_SHOP_BAKERY
					cnName(rc) = lang("ÉpÉìâÆÇÃ" + cnName(rc), sncnv(cnName(rc)) + "the baker")
				}
				if ( p == 8 ) {
					cRole(rc) = ROLE_SHOP_FOOD
					cnName(rc) = lang("êHóøïiìXÇÃ" + cnName(rc), sncnv(cnName(rc)) + "the food vendor")
				}
				if ( p == 9 ) {
					cRole(rc) = ROLE_SHOP_BOOK_RESERVE
					cnName(rc) = lang("ñÇñ@èëçÏâ∆ÇÃ" + cnName(rc), sncnv(cnName(rc)) + "the spell writer")
				}
				randomize
				cRoleShopLv(rc) = rnd(15) + 1
			}
			cnt2 = cnt
			repeat 188, 57
				if ( cnt == rc ) {
					continue
				}
				if ( cExist(cnt) != CHAR_STATE_DEAD ) {
					if ( cnName(cnt) == cnName(rc) ) {
						chara_vanquish rc
					}
				}
			loop
			if ( seasonal_check(SEASON_YOUNGER_SISTERS_DAY, FALSE) ) {
				cId(rc) = CREATURE_ID_YOUNGER_SISTER
				cPic(rc) = xy2pic(6, 3)
				cSex(rc) = 1
				cPortrait(rc) = -1
				cnName(rc) = cnName(rc) + "ÇÃñÖ"
				cnRace(rc) = "roran"
			}
		loop
		randomize
		txtnew
		txt -1, lang("íNÇåŸópÇ∑ÇÈÅH", "Who do you want to hire?")
		allyctrl = 1
		gosub *label_2694
		if ( stat != (-1) ) {
			tc = stat
			txtnew
			if ( cGold(CHARA_PLAYER) < calchirecost(tc) * 20 & ncgGoldOverflow == 0 ) {
				txt -1, lang("Ç®ã‡Ç™ë´ÇËÇ»Ç¢Åc", "You don't have enough money...")
			}
			else {
				snd SOUNDLIST_PAYGOLD1
				cGold(CHARA_PLAYER) -= calchirecost(tc) * 20
				gosub *label_0422
				await 250
				cExist(tc) = CHAR_STATE_ALIVE
				txtef COLOR_GREEN
				if ( areaId(gArea ) == AREA_STORAGE_HOUSE ) {
					txt -1, lang(cnName(tc) + "Çå}Ç¶ÇΩÅB", "You hire " + cnName(tc) + ".")
				}
				else {
					txt -1, lang(cnName(tc) + "Çâ∆Ç…å}Ç¶ÇΩÅB", "You hire " + cnName(tc) + ".")
				}
				snd SOUNDLIST_PRAY1
			}
		}
		repeat 245
			if ( cExist(cnt) == CHAR_STATE_TEMP ) {
				chara_vanquish cnt
			}
		loop
		calccosthire
		goto *label_2130
	}
	if ( _switch_val == 7 | _switch_sw ) {
		_switch_sw = 0
		txtnew
		repeat 10
			if ( rnd(2) ) {
				continue
			}
			flt 20
			characreate -1, CREATURE_ID_MAID, -3, 0
			if ( stat == 0 ) {
				continue
			}
			cExist(rc) = CHAR_STATE_TEMP
			cRole(rc) = ROLE_CITIZEN
		loop
		txtnew
		txt -1, lang("Ç«ÇÃÉÅÉCÉhÇåŸópÇ∑ÇÈÅH", "Who do you want to hire?")
		allyctrl = 1
		gosub *label_2694
		if ( stat != (-1) ) {
			tc = stat
			txtnew
			if ( cGold(CHARA_PLAYER) < calchirecost(tc) * 20 & ncgGoldOverflow == 0 ) {
				txt -1, lang("Ç®ã‡Ç™ë´ÇËÇ»Ç¢Åc", "You don't have enough money...")
			}
			else {
				snd SOUNDLIST_PAYGOLD1
				cGold(CHARA_PLAYER) -= calchirecost(tc) * 20
				gosub *label_0422
				await 250
				cExist(tc) = CHAR_STATE_ALIVE
				txtef COLOR_GREEN
				txt -1, lang(cnName(tc) + "ÇäXÇ…å}Ç¶ÇΩÅB", "You hire " + cnName(tc) + ".")
				snd SOUNDLIST_PRAY1
			}
		}
		repeat 245
			if ( cExist(cnt) == CHAR_STATE_TEMP ) {
				chara_vanquish cnt
			}
		loop
		goto *label_2130
	}

*label_2130
	tlocinitx = 0
	tlocinity = 0
	screenupdate = -1
	gosub *screen_draw
	goto *com_home

*label_2131
	area = -1
	if ( cfg_notforsale ) {
		ctrlfile 2
		dim bkmapinv, mWidth, mHeight
		dim bkmapsync, mWidth, mHeight
		memcpy bkmapinv, mapinv, 4 * mWidth * mHeight
		memcpy bkmapsync, mapsync, 4 * mWidth * mHeight
	}
	midbk = mid
	repeat 450 - 300, 300
		if ( areaId(cnt) == AREA_SHOP ) {
			area = cnt
			mid = "" + area + "_" + (100 + 1)
			gosub *shop_turn_main
		}
	loop
	mid = midbk
	if ( areaId(gArea ) == AREA_SHOP ) {
		gosub *label_2141
	}
	if ( cfg_notforsale ) {
		ctrlfile 1
		memcpy mapinv, bkmapinv, 4 * mWidth * mHeight
		memcpy mapsync, bkmapsync, 4 * mWidth * mHeight
	}
	return

*shop_turn_main
	worker = getworker(area)
	if ( worker == (-1) ) {
		txt -1, lang("[ìX]ìXÇ…ÇÕìXî‘Ç™Ç¢Ç»Ç¢ÅB", "[Shop]Your shop doesn't have a shopkeeper.")
		return
	}
	sold = 0
	income = 0, 0
	listmax = 0
	shoplv = 100 - gRankShop / 100
	customer = 0
	repeat 3
		customer += rnd(shoplv / 3 + 5)
	loop
	customer = customer * (80 + sCHR(worker) * 3 / 2) / 100
	if ( customer < 1 ) {
		customer = 1
	}
	if ( cfg_notforsale ) {
		ctrlfile 1
	}
	if ( gArea  != area ) {
		file = "shoptmp.s2"
		ctrlfile 4
		file = "inv_" + mid + ".s2"
		ctrlfile 3
	}
	mode = MODELIST_SHOP
	dblistmax = 0
	inv_getheader -1
	repeat invrange, invhead
		if ( iNum(cnt) <= 0 ) {
			continue
		}
		if ( iID(cnt) == ITEM_ID_SHOP_STRONGBOX ) {
			continue
		}
		if ( iID(cnt) == ITEM_ID_REGISTER ) {
			continue
		}
		if ( iID(cnt) == ITEM_ID_RED_BOOK ) {
			continue
		}
		if ( iID(cnt) == ITEM_ID_GOLD_PIECE ) {
			continue
		}
		if ( iID(cnt) == ITEM_ID_SHELTER ) {
			continue
		}
		if ( iID(cnt) == ITEM_ID_DEED ) {
			continue
		}
		if ( iWeight(cnt) < 0 ) {
			continue
		}
		if ( iQuality(cnt) >= FIX_QUALITY_UNIQUE ) {
			continue
		}
		if ( iValue(cnt) < 50 ) {
			continue
		}
		a = refitem(iID(cnt), DBSPEC_TYPE, cnt)
		if ( a == 60000 ) {
			continue
		}
		if ( cfg_notforsale ) {
			if ( iX(cnt) >= 0 & iX(cnt) < mWidth ) {
				if ( iY(cnt) >= 0 & iY(cnt) < mHeight ) {
					if ( mapbit(3, iX(cnt), iY(cnt)) == 1 ) {
						continue
					}
				}
			}
		}
		if ( ibit(ITEM_BIT_NO_DROP, cnt) ) {
			continue
		}
		dblist(0, dblistmax) = cnt, a
		dblistmax++
	loop
	repeat customer
		if ( dblistmax == 0 ) {
			break
		}
		p = rnd(dblistmax)
		ci = dblist(0, p)
		a = dblist(1, p)
		val = calcitemvalue(ci, 2)
		val = val * int(10 + sqrt(sTrade(worker) * 200)) / 100
		if ( val <= 1 ) {
			continue
		}
		if ( rndex(val) > shoplv * 100 + 500 ) {
			continue
		}
		if ( iNum(ci) <= 0 ) {
			continue
		}
		if ( rnd(8) ) {
			continue
		}
		in = rndex(iNum(ci)) + 1
		iNum(ci) -= in
		sold += in
		val = val * in
		if ( rnd(4) == 0 ) {
			list(0, listmax) = refitem(iID(ci), DBSPEC_OBJ_LEVEL, ci), iQuality(ci)
			listn(0, listmax) = str(a), str(val)
			listmax++
		}
		else {
			income += val
		}
		if ( area == gArea  ) {
			repeat 245
				if ( cExist(cnt) != CHAR_STATE_ALIVE ) {
					continue
				}
				if ( cRowAct(cnt) == ACTION_NONE | cActionPeriod(cnt) == 0 ) {
					continue
				}
				if ( cItemUsing(cnt) == ci ) {
					rowactend cnt
				}
			loop
		}
	loop
	mode = MODELIST_MAIN
	if ( gArea  != area ) {
		file = "inv_" + mid + ".s2"
		ctrlfile 4
	}
	else {
		file = "shoptmp.s2"
		ctrlfile 4
	}
	file = "shop" + 5 + ".s2"
	tmpload "" + file
	exist exedir + "tmp\\" + file
	if ( strsize != (-1) ) {
		ctrlfile 3
	}
	else {
		inv_getheader -1
		repeat invrange, invhead
			iNum(cnt) = 0
		loop
	}
	mode = MODELIST_SHOP
	if ( income != 0 ) {
		flt
		itemcreate -1, ITEM_ID_GOLD_PIECE, -1, -1, income
	}
	repeat listmax
		cnt2 = cnt
		repeat 4
			flt list(0, cnt2), list(1, cnt2)
			flttypemajor = int(listn(0, cnt2))
			nostack = 1
			itemcreate -1, ITEM_ID_DUMMY, -1, -1, 0
			if ( stat == 0 ) {
				f = 0
				break
			}
			if ( iValue(ci) > int(listn(1, cnt2)) * 2 ) {
				item_stack -1, ci
				f = 1
				break
			}
			else {
				iNum(ci) = 0
				if ( cnt == 3 ) {
					f = 0
					break
				}
				else {
					continue
				}
			}
		loop
		if ( f == 0 ) {
			itemcreate -1, ITEM_ID_GOLD_PIECE, -1, -1, int(listn(1, cnt))
			income += int(listn(1, cnt))
		}
		else {
			income(1)++
		}
	loop
	if ( sold == 0 ) {
		if ( cfg_hideshopresult == 0 ) {
			txt -1, lang("[ìX]" + customer + "êlÇ™óàãqÇµÇΩÇ™ÅA" + cnName(worker) + "ÇÕÉAÉCÉeÉÄÇàÍÇ¬Ç‡îÑÇÍÇ»Ç©Ç¡ÇΩÅB", "[Shop]" + customer + " customers visited your shop but " + cnName(worker) + " couldn't sell any item.")
		}
	}
	else {
		if ( cfg_hideshopresult <= 1 ) {
			s = "" + income + lang("gold", " gold pieces")
			if ( income(1) != 0 ) {
				s += lang("Ç∆" + income(1) + "å¬ÇÃÉAÉCÉeÉÄ", " and " + income(1) + " items")
			}
			snd SOUNDLIST_DING2
			txtef COLOR_YELLOW
			txt -1, lang("[ìX]" + customer + "êlÇÃóàãqÇ™Ç†ÇËÅA" + cnName(worker) + "ÇÕ" + sold + "å¬ÇÃÉAÉCÉeÉÄÇîÑãpÇµÇΩÅB" + s + "Ç™îÑÇËè„Ç∞Ç∆ÇµÇƒã‡å…Ç…ï€ä«Ç≥ÇÍÇΩÅB", "[Shop]" + customer + " customers visited your shop and " + cnName(worker) + " sold " + sold + " items. " + cnName(worker) + " put " + s + " in the shop strong box.")
		}
		skillexp2 SKILL_NORMAL_NEGOTIATION, worker, limit(int(sqrt(income)) * 6, 25, 1000)
	}
	if ( sold > (110 - gRankShop / 100) / 10 ) {
		modrank 5, 30, 2
	}
	mode = MODELIST_MAIN
	file = "shop" + 5 + ".s2"
	ctrlfile 4
	file = "shoptmp.s2"
	ctrlfile 3
	ccbk = cc
	cc = worker
	gosub *label_4540
	gosub *label_4543
	cc = ccbk
	return

*label_2141
	mModerateCrowd = (100 - gRankShop / 100) / 4 + 1
	inv_getheader -1
	repeat mHeight
		y = cnt
		repeat mWidth
			mapItems(cnt, y) = 0
			mapLight(cnt, y) = 0
			mapinv(cnt, y) = 0
		loop
	loop
	repeat invrange, invhead
		if ( iNum(cnt) <= 0 ) {
			continue
		}
		x = iX(cnt)
		y = iY(cnt)
		if ( x < 0 | x >= mWidth | y < 0 | y >= mHeight ) {
			continue
		}
		cell_refresh x, y
	loop
	return

*museum_value
	rc = MAX_CHARA_NC
	fixlv = FIX_QUALITY_GOOD
	dbmode = DBMODE_SET
	gosub *db_creature
	dblist(val, cId(MAX_CHARA_NC))++
	if ( fixlv == FIX_QUALITY_UNIQUE ) {
		rtval = 70 + cLevel(MAX_CHARA_NC)
	}
	else {
		rtval = cLevel(MAX_CHARA_NC) / 10 + 2
		i = getcharapic(56)
		if ( chipc(CHIPC_HEIGHT, i) > inf_tiles ) {
			rtval = rtval / 2 * 3 + 40
		}
		p = refchara(cId(MAX_CHARA_NC), DBSPEC_CHARA_RARE)
		if ( p < 80 ) {
			rtval = rtval + 80 - p
		}
	}
	if ( dblist(val, cId(MAX_CHARA_NC)) > 1 ) {
		rtval /= 3
		if ( rtval > 15 ) {
			rtval = 15
		}
	}
	return

*museum_update
	rankorg = gRankMuseum
	inv_getheader -1
	rankcur = 0
	dim dblist, 2, 800
	repeat invrange, invhead
		if ( iNum(cnt) == 0 ) {
			continue
		}
		if ( iID(cnt) != ITEM_ID_FIGURINE & iID(cnt) != ITEM_ID_CARD ) {
			continue
		}
		if ( wpeek(mapItems(iX(cnt), iY(cnt)), 0) != iPic(cnt) ) {
			continue
		}
		if ( iID(cnt) == ITEM_ID_FIGURINE ) {
			val = 0
		}
		else {
			val = 1
		}
		dbid = iSubName(cnt)
		gosub *museum_value
		if ( iID(cnt) == ITEM_ID_FIGURINE ) {
			rankcur += rtval
		}
		else {
			rankcur += rtval / 2
		}
	loop
	rankcur = 10000 - int(sqrt(rankcur) * 100)
	if ( rankcur < 100 ) {
		rankcur = 100
	}
	gRankMuseum = rankcur
	if ( rankorg != rankcur ) {
		if ( rankorg > rankcur ) {
			txtef COLOR_GREEN
		}
		else {
			txtef COLOR_PURPLE
		}
		txtnew
		txt -1, lang("ÉâÉìÉNïœìÆ(" + rankn(10, 3) + " " + rankorg / 100 + "à  Å® " + rankcur / 100 + "à )Ås" + ranktitle(3) + "Åt", "Museum Rank:" + cnvrank(rankorg / 100) + "->" + cnvrank(rankcur / 100) + " Your museum is now known as <" + ranktitle(3) + ">.")
	}
	mModerateCrowd = (100 - gRankMuseum / 100) / 2 + 1
	return

*label_2148
	a = refitem(iID(val), DBSPEC_TYPE, val)
	if ( a == 60000 ) {
		gHomeFurniture += limit(iValue(val) / 50, 50, 500)
	}
	p = iValue(val)
	repeat 1
		if ( a == 60000 ) {
			p /= 20
			break
		}
		if ( a == 80000 ) {
			p /= 10
			break
		}
		if ( a == 77000 ) {
			p /= 10
			break
		}
		p /= 1000
	loop
	if ( p > list(1, n) ) {
		list(0, n) = val, p
		repeat 10
			if ( list(1, cnt) < list(1, n) ) {
				n = cnt
			}
		loop
	}
	return

*house_update
	if ( gLevel  != 1 ) {
		return
	}
	rankorg = gRankHome
	inv_getheader -1
	rankcur = 0
	gHomeFurniture = 0
	gHomeValue = 0
	n = 0
	repeat 10
		list(0, cnt) = 0, 0
	loop
	repeat invrange, invhead
		if ( iNum(cnt) == 0 ) {
			continue
		}
		if ( mapItemsMemory(iX(cnt), iY(cnt)) == 363 ) {
			continue
		}
		val = cnt
		gosub *label_2148
	loop
	repeat 10
		if ( list(0, cnt) != 0 ) {
			gHomeValue += limit(list(1, cnt), 100, 2000)
		}
	loop
	if ( gHomeFurniture > 10000 ) {
		gHomeFurniture = 10000
	}
	if ( gHomeValue > 10000 ) {
		gHomeValue = 10000
	}
	rankcur = 10000 - (gHomeBase + gHomeFurniture + gHomeValue) / 3
	if ( rankcur < 100 ) {
		rankcur = 100
	}
	gRankHome = rankcur
	if ( rankorg != rankcur ) {
		if ( rankorg > rankcur ) {
			txtef COLOR_GREEN
		}
		else {
			txtef COLOR_PURPLE
		}
		txtnew
		txt -1, lang("â∆ãÔ(" + gHomeFurniture / 100 + "ì_) â∆ïÛ(" + gHomeValue / 100 + "ì_) ÉâÉìÉNïœìÆ(" + rankn(10, 4) + " " + rankorg / 100 + "à  Å® " + rankcur / 100 + "à ) Ås" + ranktitle(4) + "Åt", "Furniture Value:" + gHomeFurniture / 100 + " Heirloom Value:" + gHomeValue / 100 + " Home Rank:" + cnvrank(rankorg / 100) + "->" + cnvrank(rankcur / 100) + " Your home is now known as <" + ranktitle(4) + ">.")
	}
	return

#defcfunc cbreeder int cbreeder_charid
	locvar_cbreeder_basebreederpower = refrace(cnRace(cbreeder_charid), DBSPEC_RACE_BREEDER)
	locvar_cbreeder_percentage = 100.0
	repeat 15, 1
		if ( cExist(cnt) != CHAR_STATE_ALIVE & cExist(cnt) != CHAR_STATE_ALLY_WORK ) {
			continue
		}
		if ( ocPetJobSkill(cnt) != 151 ) {
			continue
		}
		locvar_cbreeder_percentage += sGene(cnt) / 2 + 1
	loop
	if ( locvar_cbreeder_percentage != 100.0 ) {
		locvar_cbreeder_percentage += 10
	}
	nc_intb_201 = 0
	if ( godcheck() == "dybony" ) {
		nc_intb_201 = cPiety(CHARA_PLAYER) / 100 + 1
		if ( ogTitleSheepDog == 2 ) {
			nc_intb_201 += cPiety(CHARA_PLAYER) / 50 + 1
		}
	}
	if ( ogTitleTheTetsuwanRush == 2 ) {
		nc_intb_201 += 30
	}
	if ( gettrait(0, 252) ) {
		return locvar_cbreeder_percentage * locvar_cbreeder_basebreederpower / (100.0 + cLevel(cbreeder_charid) * 5) + 50 + nc_intb_201
	}
	return locvar_cbreeder_percentage * locvar_cbreeder_basebreederpower / (100.0 + cLevel(cbreeder_charid) * 5) + nc_intb_201

*ranch_update
	nc_intb_101 = 0
	nc_intb_102 = 0
	nc_intb_103 = 0
	nc_intb_104 = 0
	worker = getworker(gArea )
	livestock = 0
	locvar_cbreeder_geneengineeringexperience = 0
	repeat 245
		if ( cExist(cnt) != CHAR_STATE_ALIVE ) {
			continue
		}
		if ( cbit(CHARA_BIT_LIVESTOCK, cnt) == FALSE ) {
			continue
		}
		livestock++
	loop
	repeat renewmulti
		if ( worker == (-1) ) {
			goto *skipBreeder
		}
		if ( rnd(5000) > cbreeder(worker) * 100 / (100 + livestock * 20) - livestock * 2 ) {
			if ( livestock != 0 | rnd(30) != 0 ) {
				goto *skipBreeder
			}
		}
		flt calcobjlv(cLevel(worker)), FIX_QUALITY_GOOD
		if ( rnd(2) ) {
			dbid = cId(worker)
		}
		else {
			dbid = 0
		}
		if ( rnd(10) != 0 ) {
			fltnrace = cnRace(worker)
		}
		if ( cId(worker) == CREATURE_ID_LITTLE_SISTER | cId(worker) == CREATURE_ID_GOD_OF_WISHING ) {
			dbid = 176
		}
		if ( dbid == 343 ) {
			initunid = cUNID(worker) + 1
		}
		nospartifact = 1
		noenchant = 1
		noencpfix = 1
		characreate -1, dbid, 4 + rnd(11), 4 + rnd(8)
		if ( stat != 0 ) {
			cbitmod CHARA_BIT_LIVESTOCK, rc, TRUE
			cAge(rc) = gYear 
			livestock++
			nc_intb_101++
			locvar_cbreeder_geneengineeringexperience += 400
		}

*skipBreeder
		egg = 0
		repeat 245
			if ( cExist(cnt) != CHAR_STATE_ALIVE ) {
				continue
			}
			if ( cbit(CHARA_BIT_LIVESTOCK, cnt) == FALSE ) {
				continue
			}
			x = rnd(11) + 4
			y = rnd(8) + 4
			if ( mapItems(x, y) != 0 ) {
				continue
			}
			flt calcobjlv(cLevel(cnt)), FIX_QUALITY_GOOD
			p = rnd(5)
			f = 0
			if ( rnd(egg + 1) > 2 ) {
				continue
			}
			if ( livestock > 10 ) {
				if ( rnd(4) == 0 ) {
					continue
				}
			}
			if ( livestock > 20 ) {
				if ( rnd(4) == 0 ) {
					continue
				}
			}
			if ( livestock > 30 ) {
				if ( rnd(4) == 0 ) {
					continue
				}
			}
			if ( livestock > 40 ) {
				if ( rnd(4) == 0 ) {
					continue
				}
			}
			if ( p == 0 ) {
				if ( rnd(60) == 0 ) {
					f = 1
				}
				if ( cnRace(cnt) == "chicken" ) {
					if ( rnd(20) == 0 ) {
						f = 1
					}
				}
				if ( godcheck() == "dybony" ) {
					if ( rnd(20) == 0 ) {
						f = 1
					}
				}
				if ( ogTitlePastoralismMoon == 2 ) {
					if ( rnd(15) == 0 ) {
						f = 1
					}
				}
				if ( f ) {
					egg++
					itemcreate -1, ITEM_ID_EGG, x, y, 0
					if ( stat ) {
						iSubName(ci) = cId(cnt)
						if ( iSubName(ci) == 343 ) {
							iCNpcId(ci) = cUNID(cnt)
							ICNpcSerialNo(ci) = createserialno(userdatan(0, cUNID(cnt)))
						}
						iWeight(ci) = cWeight(cnt) * 10 + 250
						iValue(ci) = limit(cWeight(cnt) * cWeight(cnt) / 10000, 200, 40000)
						nc_intb_102++
					}
				}
				continue
			}
			if ( p == 1 ) {
				if ( rnd(60) == 0 ) {
					f = 1
				}
				if ( cnRace(cnt) == "sheep" ) {
					if ( rnd(20) == 0 ) {
						f = 1
					}
				}
				if ( cId(cnt) == CREATURE_ID_USER ) {
					if ( userdatan(0, cUNID(cnt)) == "Gold sheep" ) {
						if ( rnd(20) == 0 ) {
							f = 1
						}
					}
				}
				if ( godcheck() == "dybony" ) {
					if ( rnd(20) == 0 ) {
						f = 1
					}
				}
				if ( ogTitlePastoralismMoon == 2 ) {
					if ( rnd(15) == 0 ) {
						f = 1
					}
				}
				if ( f ) {
					egg++
					itemcreate -1, ITEM_ID_BOTTLE_MILK, x, y, 0
					if ( stat ) {
						iSubName(ci) = cId(cnt)
						if ( iSubName(ci) == 343 ) {
							iCNpcId(ci) = cUNID(cnt)
							ICNpcSerialNo(ci) = createserialno(userdatan(0, cUNID(cnt)))
						}
					}
				}
				continue
			}
			if ( p == 2 ) {
				if ( rnd(80) == 0 ) {
					f = 1
				}
				if ( f ) {
					itemcreate -1, ITEM_ID_SHIT, x, y, 0
					if ( stat ) {
						iSubName(ci) = cId(cnt)
						if ( iSubName(ci) == 343 ) {
							iCNpcId(ci) = cUNID(cnt)
							ICNpcSerialNo(ci) = createserialno(userdatan(0, cUNID(cnt)))
						}
						iWeight(ci) = cWeight(cnt) * 40 + 300
						iValue(ci) = limit(cWeight(cnt) * cWeight(cnt) / 5000, 1, 20000)
						nc_intb_103++
					}
				}
				continue
			}
			if ( p == 3 ) {
				if ( rnd(80) == 0 ) {
					f = 1
				}
				if ( godcheck() == "dybony" ) {
					if ( rnd(3) == 0 ) {
						f = 0
					}
				}
				if ( f ) {
					dbid = 222
					if ( rnd(2) ) {
						dbid = 45
					}
					itemcreate -1, dbid, x, y, 0
				}
				continue
			}
			if ( p == 4 ) {
				if ( cId(cnt) == CREATURE_ID_USER ) {
					if ( userdatan(1, cUNID(cnt)) == "Gold sheep" | userdatan(1, cUNID(cnt)) == "ã‡ÇÃór" ) {
						if ( rnd(10) == 0 ) {
							f = 1
						}
					}
					if ( f ) {
						egg++
						flttypemajor = FILTER_ORE
						itemcreate -1, ITEM_ID_DUMMY, x, y, 0
						nc_intb_104++
					}
				}
			}
		loop
		locvar_cbreeder_geneengineeringexperience += egg * 40
	loop
	repeat 15, 1
		if ( cExist(cnt) != CHAR_STATE_ALIVE & cExist(cnt) != CHAR_STATE_ALLY_WORK ) {
			continue
		}
		if ( ocPetJobSkill(cnt) != 151 ) {
			continue
		}
		skillexp2 SKILL_NORMAL_GENE_ENGINEER, cnt, locvar_cbreeder_geneengineeringexperience
	loop
	return

*label_2163
	dbid = 0
	if ( oabit(17, gArea ) | oabit(18, gArea ) ) {
		initlv = 5000
	}
	if ( gArea  == AREA_CYBER_DOME ) {
		flt calcobjlv(10), calcfixlv(FIX_QUALITY_GOOD)
		fltn "sf"
		return
	}
	if ( mType == MAP_TYPE_TOWN | mType == MAP_TYPE_VILLAGE | areaId(gArea ) == AREA_DUNGEON ) {
		flt calcobjlv(10), calcfixlv(FIX_QUALITY_GOOD)
		fltselect = 5
		if ( gLevel  == 1 ) {
			if ( gArea  == AREA_YOWYN ) {
				if ( rnd(2) ) {
					dbid = 269
					return
				}
			}
			if ( gArea  == AREA_NOYEL ) {
				if ( rnd(3) == 0 ) {
					dbid = 270
					return
				}
			}
			if ( gArea  == AREA_DERPHY ) {
				if ( rnd(3) == 0 ) {
					dbid = 271
					return
				}
				else {
					if ( rnd(2) == 0 ) {
						dbid = 335
						return
					}
				}
			}
			if ( gArea  == AREA_LUMIEST ) {
				if ( rnd(3) == 0 ) {
					dbid = 272
					return
				}
			}
			if ( gArea  == AREA_VERNIS ) {
				if ( rnd(2) ) {
					dbid = 273
					return
				}
			}
			if ( gArea  == AREA_PALMIA ) {
				if ( rnd(3) == 0 ) {
					dbid = 274
					return
				}
			}
		}
		if ( gLevel  >= 1 ) {
			if ( areaId(gArea ) == AREA_DUNGEON ) {
				charakind = rnd(3)
				if ( charakind == 0 ) {
					if ( cFame(CHARA_PLAYER) > 50000 ) {
						if ( rnd(3) == 0 ) {
							dbid = 274
							return
						}
					}
				}
				if ( charakind == 1 ) {
					if ( cKarma(CHARA_PLAYER) < 0 ) {
						if ( rnd(3) == 0 ) {
							dbid = 271
							return
						}
						else {
							if ( rnd(2) == 0 ) {
								dbid = 335
								return
							}
						}
					}
				}
				if ( charakind == 2 ) {
					if ( cPiety(CHARA_PLAYER) > 5000 ) {
						if ( rnd(3) == 0 ) {
							dbid = 270
							return
						}
					}
				}
			}
		}
		if ( gArea  == AREA_LUMIEST ) {
			if ( gLevel  == 3 ) {
				dbid = 289
			}
		}
		if ( gArea  == AREA_DERPHY ) {
			if ( gLevel  == 3 ) {
				dbid = 293
			}
		}
		if ( gArea  == AREA_PORT_KAPUL ) {
			if ( gLevel  == 3 ) {
				dbid = 295
			}
		}
		return
	}
	if ( gArea  == AREA_LESIMAS ) {
		flt calcobjlv(gLevel ), calcfixlv(FIX_QUALITY_GOOD)
		if ( gLevel  < 4 ) {
			if ( objlv > 5 ) {
				objlv = 5
			}
		}
		return
	}
	if ( gArea  == AREA_VOID | gArea  == 210 ) {
		flt calcobjlv(gLevel  \ 50 + 5), calcfixlv(FIX_QUALITY_GOOD)
		return
	}
	if ( gArea  == AREA_DRAGON_NEST ) {
		flt calcobjlv(gLevel ), calcfixlv(FIX_QUALITY_GOOD)
		return
	}
	if ( gArea  == AREA_CRYPT_OF_THE_DAMNED ) {
		flt calcobjlv(gLevel ), calcfixlv(FIX_QUALITY_GOOD)
		fltn "undead"
		return
	}
	if ( gArea  == AREA_TOWER_OF_FIRE ) {
		flt calcobjlv(gLevel ), calcfixlv(FIX_QUALITY_GOOD)
		fltn "fire"
		return
	}
	if ( gArea  == AREA_ANCIENT_CASTLE ) {
		flt calcobjlv(gLevel ), calcfixlv(FIX_QUALITY_GOOD)
		if ( rnd(2) == 0 ) {
			fltn "man"
		}
		return
	}
	if ( gArea  == AREA_PYRAMID ) {
		flt calcobjlv(gLevel ), calcfixlv(FIX_QUALITY_GOOD)
		flttypemajor = FILTER_RACE_MUMMY
		return
	}
	if ( gArea  == AREA_GRAVEYARD | gArea  == AREA_TRUCE_GROUND ) {
		flt calcobjlv(20), calcfixlv(FIX_QUALITY_GOOD)
		fltselect = 4
		return
	}
	if ( gArea  == AREA_QUEST ) {
		if ( gQuest >= STARTING_QUEST_TYPE ) {
			flt calcobjlv(qLevel(gQuestRef) + 1), calcfixlv(FIX_QUALITY_GOOD)
		}
		if ( gQuest == QUEST_TYPE_HARVEST ) {
			fltn "wild"
			objlv = limit(objlv / 4, 1, 8)
		}
		else {
			if ( gQuest == QUEST_TYPE_HUNT ) {
				if ( oqdata(0, rq) ) {
					fltn csetfamily(0, oqdata(0, rq))
				}
			}
		}
		return
	}
	if ( areaId(gArea ) == AREA_YEEK_NEST ) {
		flt calcobjlv(gLevel ), calcfixlv(FIX_QUALITY_GOOD)
		if ( rnd(2) ) {
			fltn "yeek"
		}
		return
	}
	if ( areaId(gArea ) == AREA_MINOTAUR_NEST ) {
		flt calcobjlv(gLevel ), calcfixlv(FIX_QUALITY_GOOD)
		if ( rnd(2) ) {
			fltn "mino"
		}
		return
	}
	if ( gArea  == 58 ) {
		flt calcobjlv(gLevel ), calcfixlv(FIX_QUALITY_GOOD)
		fltn "wild"
		return
	}
	if ( gArea  == 60 ) {
		flt calcobjlv(gLevel )
		if ( gLevel  != areaCanSave(gArea ) ) {
			fixlv = FIX_QUALITY_GODLY
		}
		return
	}
	if ( mType >= (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */) ) {
		fixobjlv = 1
		if ( oabit(7, gArea ) ) {
			fixobjlv = 3
		}
		if ( oabit(5, gArea ) ) {
			flt gLevel  * fixobjlv, calcfixlv(FIX_QUALITY_GREAT)
			if ( rnd(4) ) {
				fltnrace = "dragon"
			}
			else {
				fltnrace = "giant"
			}
		}
		else {
			flt calcobjlv(gLevel  * fixobjlv), calcfixlv(FIX_QUALITY_GOOD)
		}
		if ( oabit(14, gArea ) ) {
			if ( rnd(3) == 0 ) {
				fixlv = FIX_QUALITY_MIRACLE
			}
		}
		if ( oabit(3, gArea ) ) {
			dbid = 323
		}
		else {
			if ( oabit(6, gArea ) ) {
				gosub *label_4549
			}
			else {
				if ( oabit(8, gArea ) ) {
					if ( rnd(3) ) {
						p = rnd(4)
						if ( p == 0 | boss == 1 ) {
							fltnrace = "lich"
						}
						else {
							if ( p == 1 ) {
								fltnrace = "imp"
							}
							else {
								if ( p == 2 ) {
									fltnrace = "fairy"
								}
								else {
									if ( p == 3 ) {
										fltnclass = "wizard"
									}
								}
							}
						}
					}
				}
				else {
					if ( oabit(0, gArea ) ) {
						if ( rnd(3) ) {
							fltnclass = "warrior"
						}
					}
					else {
						if ( oabit(11, gArea ) ) {
							if ( getfactionvalue(gArea  - 450 + 245, "family") != "" ) {
								fltn refstr
							}
							else {
								fltnrace = getfactionvalue(gArea  - 450 + 245, "race")
							}
						}
						else {
							if ( oabit(12, gArea ) ) {
								fltselect = 10
							}
							else {
								if ( oabit(10, gArea ) ) {
									if ( rnd(5) ) {
										olist = 73, 76, 77, 1, 320, 70, 74, 69, 41, 206, 326, 39, 39, 16, 16, 347, 347, 72, 176
										dbid = olist(rnd(19))
										initlv = 1 + rndex(1 + objlv)
									}
									else {
										fltn "man"
									}
								}
								else {
									if ( oabit(16, gArea ) ) {
										if ( rnd(3) ) {
											fltn "thief"
										}
										else {
											fltnclass = "thief"
										}
									}
								}
							}
						}
					}
				}
			}
		}
		return
	}
	if ( areaId(gArea ) == AREA_MUSEUM | areaId(gArea ) == AREA_SHOP ) {
		flt calcobjlv(100), calcfixlv(FIX_QUALITY_GOOD)
		if ( rnd(1) ) {
			fltselect = 5
		}
		else {
			fltselect = 7
		}
		return
	}
	flt calcobjlv(difficulty()), calcfixlv(FIX_QUALITY_GOOD)
	return

*label_2164
	if ( areaId(gArea ) == AREA_MUSEUM | areaId(gArea ) == AREA_SHOP ) {
		if ( gCrowd < mModerateCrowd / 2 ) {
			if ( rnd(2) == 0 ) {
				gosub *label_2163
				characreate -1, dbid, -2, 0
				if ( stat ) {
					gosub *label_4551
				}
			}
		}
	}
	if ( areaId(gArea ) == AREA_DUNGEON ) {
		if ( ogdata(gLevel ) > 10 ) {
			if ( ogdata(gLevel  + 10) < 15 ) {
				if ( rnd(2) == 0 ) {
					gosub *label_2163
					characreate -1, dbid, -2, 0
					if ( stat ) {
						gosub *label_4551
					}
					ogdata(gLevel  + 10)++
				}
			}
		}
	}
	if ( mModerateCrowd == 0 ) {
		return
	}
	if ( gCrowd < mModerateCrowd ) {
		if ( rnd(limit(8 / (mModerateCrowd / (gCrowd + 1)), 2, 8)) == 0 ) {
			gosub *label_2163
			characreate -1, dbid, -2, 0
			if ( stat ) {
				gosub *label_4551
			}
		}
	}
	return

*map_exit
	procid = (procid + 1) \ 10
	proclist(procid) = "map_exit" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	memset junban, 0, 980
	gTimelimit = 0
	gMapEvent = 0
	if ( mType == MAP_TYPE_HOME ) {
		if ( cfg_extrahelp ) {
			if ( gdata(STARTING_GDATA_HELP + 1) == 0 ) {
				if ( mode == MODELIST_MAIN ) {
					if ( cActionPeriod(CHARA_PLAYER) == 0 ) {
						gdata(STARTING_GDATA_HELP + 1) = 1
						ghelp = 1
						gosub *elona_help
					}
				}
			}
		}
	}
	if ( mType == MAP_TYPE_QUEST ) {
		rq = gQuestRef
		gosub *event
	}
	msg_newline
	msgtemp = "  "
	if ( gArea  == AREA_SHOW_HOUSE | gArea  == AREA_ARENA | gArea  == AREA_PET_ARENA | gArea  == 49 ) {
		usermapid = 0
	}
	rdtry = 0
	fixstart = 0
	if ( areaId(gArea ) == AREA_RANDOM_DUNGEON ) {
		if ( gLevel  == areaCanSave(gArea ) ) {
			if ( areaBoss(gArea ) > 0 ) {
				chara_vanquish areaBoss(gArea )
				areaBoss(gArea ) = -1
			}
		}
	}
	gAreaPrev = gArea 
	if ( gAreaPrev == 30 ) {
		gArea  = gReturnArea
		gLevel  = gReturnLevel
		mapstartx = gReturnX
		mapstarty = gReturnY
		gLevelStartOn = 7
		fixstart = 1
		levelexitby = MAP_EXIT_NONE
	}
	if ( levelexitby == MAP_EXIT_NORMAL ) {
		cell_featread cX(CHARA_PLAYER), cY(CHARA_PLAYER)
		if ( gArea  == AREA_HOME | areaId(gArea ) == AREA_DUNGEON ) {
			if ( movelevelbystairs == 2 ) {
				if ( mapitemfind(cX(cc), cY(cc), ITEM_ID_DOWNSTAIRS) != (-1) ) {
					featId = CELL_FEATURE_DOWNSTAIRS, 0
				}
			}
			if ( movelevelbystairs == TRUE ) {
				if ( mapitemfind(cX(cc), cY(cc), ITEM_ID_UPSTAIRS) != (-1) ) {
					featId = CELL_FEATURE_UPSTAIRS, 0
				}
			}
		}
		f = 0
		if ( featId == CELL_FEATURE_DOWNSTAIRS ) {
			msgtemp += lang("äKíiÇç~ÇËÇΩÅB", "You walk down the stairs. ")
			f = 1
			gLevelStartOn = 1
			mDownStairPos = cY(CHARA_PLAYER) * 1000 + cX(CHARA_PLAYER)
			if ( featIdSub == CELL_SUB_FEATURE_TRAP_IMPALEMENT ) {
				gLevel ++
				gLevel  -= (areaStartOn(gArea ) == 2) * 2
			}
			else {
				gLevel  = featIdSub
			}
		}
		if ( featId == CELL_FEATURE_UPSTAIRS ) {
			msgtemp += lang("äKíiÇè∏Ç¡ÇΩÅB", "You walk up the stairs. ")
			f = 1
			gLevelStartOn = 2
			mUpStairPos = cY(CHARA_PLAYER) * 1000 + cX(CHARA_PLAYER)
			if ( featIdSub == CELL_SUB_FEATURE_TRAP_IMPALEMENT ) {
				gLevel --
				gLevel  += (areaStartOn(gArea ) == 2) * 2
			}
			else {
				gLevel  = featIdSub
			}
		}
		if ( f == 0 ) {
			if ( mType == MAP_TYPE_WORLD ) {
				gWorldX = cX(cc)
				gWorldY = cY(cc)
				gLevel  = 1
				if ( featIdSub != CELL_SUB_FEATURE_TRAP_IMPALEMENT | featParam1 != 0 ) {
					gArea  = featIdSub + featParam1 * 100
					if ( areaId(gArea ) == AREA_VOID ) {
						if ( itemfind(0, 742) == (-1) ) {
							txt -1, lang("Ç†Ç»ÇΩÇÕÇ±ÇÃì¥åAÇÃíTçıÇãñâ¬Ç≥ÇÍÇƒÇ¢Ç»Ç¢ÅB", "You are not permitted to explore this dungeon.")
							msg_halt
							gArea  = AREA_WILDERNESS
						}
					}
					if ( areaId(gArea ) == AREA_PYRAMID ) {
						if ( sqPyramid == 0 ) {
							txt -1, lang("Ç†Ç»ÇΩÇÕÉsÉâÉ~ÉbÉhÇ÷ÇÃèµë“èÛÇéùÇ¡ÇƒÇ¢Ç»Ç¢ÅB", "You don't have an invitation.")
							msg_halt
							gArea  = AREA_WILDERNESS
						}
					}
					if ( areaId(gArea ) == AREA_JAIL ) {
						txt -1, lang("Ç†Ç»ÇΩÇÕÉKÅ[ÉhÇ…í«Ç¢ï‘Ç≥ÇÍÇΩÅB", "The guards turn you away from the jail.")
						msg_halt
						gArea  = AREA_WILDERNESS
					}
					if ( oabit(13, gArea ) ) {
						if ( areaBoss(gArea ) == (-1) ) {
							txt -1, lang("Ç±ÇÃì¥åAÇÕïsévãcÇ»ÉoÉäÉAÇ≈ç«Ç™ÇÍÇƒÇ¢ÇÈÅB", "This dungeon is sealed by a mysterious barrier.")
							msg_halt
							gArea  = AREA_WILDERNESS
						}
					}
				}
				else {
					gArea  = AREA_WILDERNESS
				}
				if ( featId != CELL_FEATURE_NEFIA ) {
					gArea  = AREA_WILDERNESS
				}
			}
			if ( mType == MAP_TYPE_TOWN | mType == (4 /*!!!@[MAP_TYPE_DUNGEON_RANGE @@@ MAP_TYPE_LOCAL]@!!! */) | mType == MAP_TYPE_HOME | mType == MAP_TYPE_FIELD | mType == MAP_TYPE_VILLAGE ) {
				gArea  = gWorld
			}
		}
		if ( mType >= (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */) | mType == MAP_TYPE_FIELD ) {
			if ( gLevel  < areaMinLevel(gArea ) ) {
				gArea  = gWorld
			}
		}
		if ( areaType(gArea ) == MAP_TYPE_TOWN ) {
			if ( gArea  == gAreaPrev ) {
				if ( gLevel  == 1 ) {
					msgtemp += lang(mapname(gArea ) + "ÇÃï\ëwÇ…ñﬂÇ¡ÇΩÅB", "You returned to the surface of " + mapname(gArea ))
				}
				else {
					msgtemp += lang(mapname(gArea ) + "ÇÃï\ëwÇå„Ç…ÇµÇΩÅB", "You left the surface of " + mapname(gArea ) + ".")
				}
			}
		}
	}
	if ( mType == MAP_TYPE_QUEST ) {
		gArea  = gReturnArea
		gLevel  = gReturnLevel
		mapstartx = gReturnX
		mapstarty = gReturnY
		gLevelStartOn = 7
		fixstart = 1
	}
	if ( ogQuestKnightsOfLittleGirls == 1 ) {
		gosub *label_4327
	}
	if ( ogQuestCatSister ) {
		ogQuestCatSister = 0
		tc = findchara(CREATURE_ID_YOUNGER_CAT_SISTER, 6)
		if ( tc != CHARA_PLAYER ) {
			del_chara tc
		}
	}
	if ( ogQuestKnightsOfLittleGirls == 2 ) {
		ogQuestKnightsOfLittleGirls = 0
		gQuestStatus = QUEST_STATE_SUCCESS
		gQuest = QUEST_TYPE_NONE
		ogdata(60) = 0
		if ( findchara(CREATURE_ID_BLACK_ANGEL, 6) ) {
			chara_vanquish stat
		}
	}
	if ( ogQuestGuildWars ) {
		f = 0
		repeat 188, 57
			if ( cExist(cnt) != CHAR_STATE_ALIVE ) {
				continue
			}
			if ( cRelation(cnt) > RELATION_ENEMY ) {
				continue
			}
			s = getfactionvalue(cnt, "guild")
			if ( s == "" ) {
				continue
			}
			if ( getfactionvalue(0, "guild") == s ) {
				continue
			}
			chara_vanquish cnt
			f = 1
		loop
		if ( f ) {
			modrank 8, -500
			msg_halt
		}
		ogQuestGuildWars = 0
	}
	if ( levelexitby == MAP_EXIT_TELEPORT ) {
		gArea  = gTeleportArea
		gLevel  = gTeleportLevel
		if ( gQuest == QUEST_TYPE_NONE ) {
			if ( gAreaPrev != 2 ) {
				gWorldX = areaX(gArea )
				gWorldY = areaY(gArea )
				gosub *label_4142
			}
		}
		if ( gArea  == AREA_JAIL ) {
			mapstartx = 29
			mapstarty = 3
			gLevelStartOn = 7
			fixstart = 1
		}
		if ( gArea  == MAX_AREA_OLD ) {
			mapstartx = 19
			mapstarty = 19
			gLevelStartOn = 7
			fixstart = 1
		}
	}
	if ( cExist(CHARA_PLAYER) == CHAR_STATE_DEAD ) {
		rc = CHARA_PLAYER
		gosub *chara_respawn
		gArea  = AREA_HOME
		gWorld = areaParent(7)
		gLevel  = 1
	}
	if ( rdtry > 1 ) {
		msgtemp += "(çƒê∂ê¨" + rdtry + "âÒ)"
	}
	if ( gArea  != gAreaPrev ) {
		if ( mType == MAP_TYPE_TOWN | gTravelTime == 0 | gAreaPrev == 7 | mType == MAP_TYPE_VILLAGE ) {
			gTravelTime = getgametime()
			gTravelDistance = 0
			gLastTown = gAreaPrev
		}
		if ( areaType(gArea ) != MAP_TYPE_WORLD & areaType(gArea ) != (4 /*!!!@[MAP_TYPE_DUNGEON_RANGE @@@ MAP_TYPE_LOCAL]@!!! */) & gArea  != AREA_SHOW_HOUSE ) {
			autosave = 1 * (gArea  != AREA_SHOW_HOUSE)
			if ( cfg_noautosave > 1 & gettrait(0, 190) == 0 ) {
				autosave = 0
			}
		}
		if ( mType != MAP_TYPE_WORLD ) {
			if ( mType != (4 /*!!!@[MAP_TYPE_DUNGEON_RANGE @@@ MAP_TYPE_LOCAL]@!!! */) | mType == MAP_TYPE_HOME ) {
				if ( fixtransfermap == 0 ) {
					gWorldX = areaX(gAreaPrev)
					gWorldY = areaY(gAreaPrev)
				}
				else {
					fixtransfermap = 0
				}
			}
		}
		if ( fixstart == 0 ) {
			gLevelStartOn = areaStartOn(gArea )
		}
		if ( evfind(6) ) {
			msgtemp += lang("Ç†Ç»ÇΩÇÕâ∆Ç‹Ç≈â^ÇŒÇÍÇΩÅB", "You were delivered to your home.")
			gosub *label_4142
		}
		else {
			if ( areaType(gAreaPrev) == MAP_TYPE_WORLD ) {
				msgtemp += lang(mapname(gArea ) + "Ç…ì¸Ç¡ÇΩÅB", "You entered " + mapname(gArea ) + ".")
			}
			else {
				if ( mType == MAP_TYPE_QUEST ) {
					msgtemp += lang(mapname(gArea ) + "Ç…ñﬂÇ¡ÇΩÅB", "You returned to " + mapname(gArea ))
				}
				else {
					if ( areaId(gArea ) != MAX_AREA_OLD ) {
						msgtemp += lang(mapname(gAreaPrev) + "Çå„Ç…ÇµÇΩÅB", "You left " + mapname(gAreaPrev) + ".")
					}
					else {
						msgtemp += lang("ÉNÉäÉbÉvÉãÉ^ÉEÉìÇå„Ç…ÇµÇΩÅB", "You left Town of Void.")
					}
				}
			}
		}
		if ( areaType(gArea ) == MAP_TYPE_WORLD | areaType(gArea ) == (4 /*!!!@[MAP_TYPE_DUNGEON_RANGE @@@ MAP_TYPE_LOCAL]@!!! */) ) {
			if ( godcheck() == "serria" ) {
				if ( gCargoWeight > gCargoLimit * 3 ) {
					msgtemp += lang("â◊é‘ÇÃèdó í¥âﬂÇ≈Ç©Ç»ÇËì›ë´Ç…Ç»Ç¡ÇƒÇ¢ÇÈÅI ", "The weight of your cargo burdens your traveling speed.")
				}
				else {
					if ( gCargoWeight * 3 / 2 > gCargoLimit * 3 ) {
						msgtemp += lang("â◊é‘ÇÃèdó Ç≈ì›ë´Ç…Ç»Ç¡ÇƒÇ¢ÇÈÅB ", "The weight of your cargo burdens your traveling speed.")
					}
					else {
						if ( gCargoWeight * 2 > gCargoLimit * 3 ) {
							msgtemp += lang("â◊é‘ÇÃèdó Ç≈è≠Çµì›ë´Ç…Ç»Ç¡ÇƒÇ¢ÇÈÅc ", "The weight of your cargo burdens your traveling speed.")
						}
					}
				}
			}
			else {
				if ( gCargoWeight > gCargoLimit ) {
					msgtemp += lang("â◊é‘ÇÃèdó í¥âﬂÇ≈Ç©Ç»ÇËì›ë´Ç…Ç»Ç¡ÇƒÇ¢ÇÈÅI ", "The weight of your cargo burdens your traveling speed.")
				}
				else {
					if ( gCargoWeight * 3 / 2 > gCargoLimit ) {
						msgtemp += lang("â◊é‘ÇÃèdó Ç≈ì›ë´Ç…Ç»Ç¡ÇƒÇ¢ÇÈÅB ", "The weight of your cargo burdens your traveling speed.")
					}
					else {
						if ( gCargoWeight * 2 > gCargoLimit ) {
							msgtemp += lang("â◊é‘ÇÃèdó Ç≈è≠Çµì›ë´Ç…Ç»Ç¡ÇƒÇ¢ÇÈÅc ", "The weight of your cargo burdens your traveling speed.")
						}
					}
				}
			}
		}
	}
	if ( oabit(13, gArea ) ) {
	}
	if ( gArea  == AREA_LARNA ) {
		if ( gLevel  == 2 ) {
			gArea  = AREA_MOUNTAIN_PASS
			gLevel  = areaCanSave(gArea ) - 1
			gLevelStartOn = 1
			msgtemp += lang("É}ÉEÉìÉeÉìÉpÉXÇ…ç~ÇËÇΩÅB", "You entered the Mountain Pass.")
		}
	}
	if ( gArea  == AREA_MOUNTAIN_PASS ) {
		if ( gLevel  == areaCanSave(gArea ) ) {
			gArea  = AREA_LARNA
			gLevel  = 1
			gLevelStartOn = 2
			msgtemp += lang("ÉâÅ[ÉiÇÃë∫Ç…íHÇËÇ¬Ç¢ÇΩÅB", "You reached the town of Larna.")
		}
	}
	repeat 16
		cAiAggro(cnt) = 0
		unlockson cnt
		rowactend cnt
		if ( cExist(cnt) != CHAR_STATE_ALIVE ) {
			if ( cExist(cnt) == CHAR_STATE_SUSPEND ) {
				cExist(cnt) = CHAR_STATE_ALIVE
			}
			continue
		}
		mapChara(cX(cnt), cY(cnt)) = 0
		if ( cnt != 0 ) {
			if ( cType(cnt) != 0 ) {
				cExist(cnt) = CHAR_STATE_ALLY_WORK
			}
		}
	loop
	if ( mCanSave == 1 ) {
		gosub *label_2172
	}
	else {
		gosub *label_2169
		tmpload "mdata_" + mid + ".s2"
		exist exedir + "tmp\\mdata_" + mid + ".s2"
		if ( strsize != (-1) ) {
			ctrlfile 11
		}
		repeat 188, 57
			if ( cExist(cnt) != CHAR_STATE_DEAD ) {
				modnpcmemory 1, cnt, -1
			}
		loop
	}
	mode = MODELIST_NEW
	goto *map_init

*label_2169
	repeat 57
		rowactend cnt
		cAiItem(cnt) = 0
	loop
	repeat 40 - 1, 16
		if ( cExist(cnt) == CHAR_STATE_ALIVE ) {
			mapChara(cX(cnt), cY(cnt)) = 0
			cExist(cnt) = CHAR_STATE_ADV
		}
	loop
	return

*label_2172
	gosub *label_2169
	repeat mHeight
		y = cnt
		repeat mWidth
			mapFragment(cnt, y) = 0
		loop
	loop
	ctrlfile 2
	file = "inv_" + mid + ".s2"
	ctrlfile 4
	return

*map_init
	procid = (procid + 1) \ 10
	proclist(procid) = "map_init" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	mapupdate = 0
	dim mondmg, 16, 20
	sdim mondmgn, 20, 20
	mondmgcnt = 0
	dim txtpopup, 16, 20
	sdim txtpopupn, 1000
	txtpopupcnt = 0
	if ( gLevel  > areaCanSave(gArea ) ) {
		gLevel  = areaCanSave(gArea )
	}
	if ( gLevel  < areaMinLevel(gArea ) ) {
		gLevel  = areaMinLevel(gArea )
	}
	if ( gDeepest < gLevel  ) {
		if ( gArea  != AREA_SHELTER ) {
			gDeepest = gLevel 
		}
	}
	if ( areaDeepest(gArea ) < gLevel  ) {
		areaDeepest(gArea ) = gLevel 
	}
	repeat 16
		if ( cnt == 0 ) {
			continue
		}
		if ( cType(cnt) != 0 ) {
			if ( cType(cnt) == gArea  ) {
				if ( cExist(cnt) == CHAR_STATE_ALLY_WORK ) {
					cExist(cnt) = CHAR_STATE_ALIVE
				}
			}
		}
	loop
	if ( cfg_floormove == 1 ) {
		repeat 16, 1
			if ( cType(cnt) == gArea  ) {
				if ( ocdata(80, cnt) != 0 ) {
					if ( ocdata(80, cnt) != (gLevel  + 1) * (-1) ) {
						cExist(cnt) = CHAR_STATE_ALLY_WORK
					}
				}
			}
		loop
	}
	mid = "" + gArea  + "_" + (100 + gLevel )
	if ( mode == MODELIST_CONTINUE ) {
		memset ocAIStrategy(57), 0, 245000 - 57000
		ctrlfile 1
		file = "inv_" + mid + ".s2"
		ctrlfile 3
		goto *map_begin
	}
	getkey a, 8
	if ( a ) {
		tmpload "mdata_" + mid + ".s2"
		exist exedir + "tmp\\mdata_" + mid + ".s2"
		if ( strsize != (-1) ) {
			dialog lang("Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@ É}ÉbÉvÇèâä˙âªÇµÇ‹Ç∑Ç©ÅH\nÅ@Å@( â©ã‡ )Å@Å@Å@Å@Å@Å@ÅiíçÅFÉQÅ[ÉÄÇ…âeãøÇ™èoÇÈâ¬î\ê´Ç™Ç†ÇËÇ‹Ç∑ÅB\nÅQ(__Ç¬/ÅPÅPÅP/ÅQÅ@ÉGÉâÅ[Ç™èoÇƒÉ}ÉbÉvÇ™ì«Ç›çûÇﬂÇ»Ç¢èÍçáÇÃÇ›ÅA\nÅ@Å@Å_/Å@Å@ Å@Å@/Å@Å@Å@ïKÇ∏å≥ÇÃÉZÅ[ÉuÇÃÉoÉbÉNÉAÉbÉvÇÇ∆Ç¡ÇΩè„Ç≈é¿çsÇµÇƒÇ≠ÇæÇ≥Ç¢ÅBÅj", "Initialize this map? (Warning, only do this if an error occurs when loading this map. Make sure make a backup of the current save folder before doing this.)"), 3
			if ( stat == 6 ) {
				ctrlfile 11
			}
		}
	}
	tmpload "mdata_" + mid + ".s2"
	exist exedir + "tmp\\mdata_" + mid + ".s2"
	if ( strsize != (-1) ) {
		memset ocAIStrategy(57), 0, 245000 - 57000
		ctrlfile 1
		if ( mCanSave == 0 | oabit(13, gArea ) ) {
			goto *map_init_main
		}
		if ( mVersion != gMapVersion | (gWorldRenew == TRUE & mType == MAP_TYPE_WORLD & areaId(gArea ) != AREA_TEST_WORLD) ) {
			if ( mType == MAP_TYPE_TOWN | mType == MAP_TYPE_VILLAGE | mType == MAP_TYPE_FIELD | mType == MAP_TYPE_WORLD ) {
				mapupdate = 1
				goto *map_init_main
			}
		}
		file = "inv_" + mid + ".s2"
		ctrlfile 3
		if ( mode == MODELIST_NEW ) {
			map_placeplayer
		}
		goto *skip_advPlace
	}

*map_init_main
	procid = (procid + 1) \ 10
	proclist(procid) = "map_init_main" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	if ( mapupdate == 1 ) {
		procid = (procid + 1) \ 10
		proclist(procid) = "map_init_mapUpdate" + " ct:" + ct
		if ( dbg_outputdebuglog ) {
		}
		maxnpcbk = 0
		dim rolebk, 2, 245
		repeat 245
			if ( cExist(cnt) == CHAR_STATE_DEAD ) {
				continue
			}
			if ( cRole(cnt) >= (1000 /*!!!@[ROLE_SHOP_MIN @@@ ROLE_SHOP_WEAPON]@!!! */) & cRole(cnt) < (2000 /*!!!@[ROLE_GUEST_BEGGAR @@@ ROLE_GUEST_MIN]@!!! */) | cRole(cnt) == ROLE_GUEST_MERCHANT | cRole(cnt) == ROLE_SHOP_MATERIAL | cRole(cnt) == ROLE_SHOP_SPELLBOOK | cRole(cnt) == ROLE_SHOP_APHRODISIAC | cRole(cnt) == ROLE_SHOP_DOUJINSHI | cRole(cnt) == ROLE_SHOP_UNKNOWN3104 | cRole(cnt) == ROLE_SHOP_HERB_MERCHANT | cRole(cnt) == ROLE_SHOP_PROSTITUTE_GUILD | cRole(cnt) == ROLE_SHOP_BLACKSMITH_GUILD | cRole(cnt) == ROLE_SHOP_MYSTERIOUS_PRODUCER | cRole(cnt) == ROLE_SHOP_FAIRY | cRole(cnt) == ROLE_SHOP_MORPHY ) {
				rolebk(0, maxnpcbk) = cRole(cnt), cRoleShopLv(cnt)
				maxnpcbk++
			}
		loop
		maxmedal = 0
		dim medalbk, 2, 30
		repeat mHeight
			y = cnt
			repeat mWidth
				x = cnt
				if ( mapFeat(x, y) / 1000 \ 100 == 32 ) {
					if ( maxmedal < 30 ) {
						medalbk(0, maxmedal) = x, y
						maxmedal++
					}
				}
			loop
		loop
	}
	mRenew = 0
	repeat 188, 57
		cExist(cnt) = CHAR_STATE_DEAD
	loop
	repeat 5480 - 1320, 1320
		iNum(cnt) = 0
	loop
	dim mdata, 100
	mLevel = gLevel 
	mTileFile = areaTileFile(gArea )
	mTileSet = areaTileSet(gArea )
	mType = areaType(gArea )
	mTimeScale = areaMaxLevel(gArea )
	mCanSave = areaRestorePos(gArea )
	mRestorePos = areaIcon(gArea )
	mField = areaField(gArea )
	if ( mapupdate ) {
		randomize gRandSeedA + gArea  * 1000 + gLevel 
	}
	if ( gArea  == AREA_HOME ) {
		if ( mdatan(0) == "" | mdatan(0) == lang("ÉmÅ[ÉXÉeÉBÉäÉX", "North Tyris") ) {
			mdatan(0) = lang("ÇÌÇ™â∆", "Your Home")
		}
	}
	else {
		mdatan(0) = mapname(gArea )
	}
	if ( gArea  == AREA_SHELTER ) {
		if ( gLevel  == 1 ) {
			map_initcustom "shelter_2"
			mCanSave = 0
			mType = MAP_TYPE_FIELD
			if ( rnd(50) == 0 ) {
				repeat 188, 57
					if ( cExist(cnt) != CHAR_STATE_DEAD ) {
						cExist(cnt) = CHAR_STATE_DEAD
						cRole(cnt) = ROLE_NONE
						mapChara(cX(cnt), cY(cnt)) = 0
					}
				loop
				repeat rnd(5) + 5
					flt
					characreate -1, CREATURE_ID_YOUNGER_SISTER, -3, 0
					cRelation(rc) = RELATION_NEUTRAL
					cOrgRelation(rc) = RELATION_NEUTRAL
				loop
			}
		}
		else {
			map_initcustom "shelter_1"
			mWall = 0
		}
		mModerateCrowd = 0
		mMaxInv = 5
		map_placeplayer
		mMusic = MUSICLIST_MCLONELY
	}
	if ( areaId(gArea ) == AREA_RANDOM_DUNGEON ) {
		gosub *map_randomDungeon
		if ( gLevel  == areaCanSave(gArea ) ) {
			evadd EVENT_BOSS_RANDOM
		}
	}
	if ( areaId(gArea ) == AREA_SHOW_HOUSE ) {
		file = "" + userfile
		id = 0
		gosub *unzip
		ctrlfile 19
		repeat mHeight
			y = cnt
			repeat mWidth
				x = cnt
				mapChara(x, y) = 0
			loop
		loop
		importmode = 0
		ctrlfile 21
		mModerateCrowd = 0
		mCanSave = 0
		mWall = 0
		mType = MAP_TYPE_QUEST
		mTimeScale = 10000
		gQuestStatus = QUEST_STATE_SUCCESS
		inv_getheader -1
		repeat invrange, invhead
			if ( iID(cnt) >= maxitemid - 2 | iID(cnt) > length(ioriginalnameref) ) {
				iNum(cnt) = 0
				cell_refresh iX(cnt), iY(cnt)
				continue
			}
			if ( iNum(cnt) > 0 ) {
				iProperty(cnt) = PROP_SPECIAL
			}
		loop
		gosub *del_userTemp
		evadd EVENT_SHOW_HOUSE
		map_placeplayer
	}
	if ( areaId(gArea ) == AREA_MUSEUM ) {
		map_initcustom "museum_1"
		mMusic = MUSICLIST_MCTOWN3
		map_placeplayer
		mWall = 0
		flt
		itemcreate -1, ITEM_ID_RED_BOOK, 15, 17, 0
		iParam1(ci) = 4
	}
	if ( areaId(gArea ) == AREA_SHOP ) {
		map_initcustom "shop_1"
		mMusic = MUSICLIST_MCTOWN3
		mMaxInv = 10
		map_placeplayer
		mWall = 0
		flt
		itemcreate -1, ITEM_ID_RED_BOOK, 17, 14, 0
		iParam1(ci) = 8
		flt
		itemcreate -1, ITEM_ID_SHOP_STRONGBOX, 19, 10, 0
		inv((9 /*!!!@[INV_ITEM_AMMO @@@ INV_ITEM_CHARGE @@@ INV_ITEM_CLIENT @@@ INV_ITEM_FILE @@@ INV_ITEM_NEXT_PERIOD]@!!! */), ci) = 5
		flt
		itemcreate -1, ITEM_ID_REGISTER, 17, 11, 0
	}
	if ( areaId(gArea ) == AREA_CROP ) {
		map_initcustom "crop_1"
		mMusic = MUSICLIST_MCLONELY
		map_placeplayer
		mMaxInv = 80
		mWall = 0
		flt
		itemcreate -1, ITEM_ID_RED_BOOK, 14, 5, 0
		iParam1(ci) = 9
	}
	if ( areaId(gArea ) == AREA_RANCH ) {
		map_initcustom "ranch_1"
		mMusic = MUSICLIST_MCLONELY
		map_placeplayer
		mMaxInv = 80
		mWall = 0
		flt
		itemcreate -1, ITEM_ID_RED_BOOK, 23, 8, 0
		iParam1(ci) = 11
		flt
		itemcreate -1, ITEM_ID_REGISTER, 22, 6, 0
	}
	if ( areaId(gArea ) == AREA_DUNGEON ) {
		if ( gLevel  == 0 ) {
			gosub *label_2060
		}
		else {
			map_initcustom "dungeon1"
			mMusic = MUSICLIST_MCLONELY
			map_placeplayer
			mMaxInv = 350
			mWall = 0
			if ( gLevel  == 1 ) {
				flt
				itemcreate -1, ITEM_ID_RED_BOOK, 39, 54, 0
				iParam1(ci) = 15
			}
			else {
				flt
				itemcreate -1, ITEM_ID_TIGHT_ROPE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			}
		}
	}
	if ( areaId(gArea ) == AREA_STORAGE_HOUSE ) {
		if ( areaParent(gArea ) != AREA_TEST_WORLD ) {
			map_initcustom "storage_1"
			mMaxInv = 200
		}
		else {
			map_initcustom "dungeon1"
			mMaxInv = 400
		}
		mMusic = MUSICLIST_MCLONELY
		map_placeplayer
		mWall = 0
	}
	if ( gArea  == AREA_QUEST ) {
		gosub *map_randomDungeon
	}
	if ( gArea  == AREA_TEST_GROUND ) {
		mWidth = 16
		mHeight = 16
		mModerateCrowd = 0
		map_initialize
		repeat mHeight
			p = cnt
			repeat mWidth
				mapId(cnt, p) = tile_default + (rnd(tile_default(2)) == 0) * rnd(tile_default(1))
			loop
		loop
		map_placeplayer
		repeat rqop(1)
			flt
			characreate -1, rqop, cX(CHARA_PLAYER), cY(CHARA_PLAYER) + 5
		loop
		if ( dbg_friend ) {
			repeat rqop(1)
				flt
				characreate 3, rqop - 1, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
				cRelation(rc) = RELATION_ALLY
			loop
		}
		repeat 280
		loop
		repeat 100
			x = rnd(mWidth)
			y = rnd(mHeight)
		loop
		flt
		characreate -1, CREATURE_ID_WIZARD, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
		cRole(rc) = ROLE_HORSE_MASTER
		cbitmod CHARA_BIT_LIVESTOCK, rc, TRUE
		repeat 6 + rnd(6)
		loop
	}
	if ( gArea  == AREA_GRAVEYARD ) {
		map_initcustom "grave_1"
		mModerateCrowd = 7
		mMusic = MUSICLIST_MCRUIN
		map_placeplayer
		repeat mModerateCrowd / 2
			gosub *label_2163
			characreate -1, CREATURE_ID_BUG, -3, 0
			if ( stat ) {
				gosub *label_4551
			}
		loop
		if ( itemfind(-1, 171) != (-1) ) {
			ibitmod ITEM_BIT_PRECIOUS, stat, TRUE
		}
	}
	if ( gArea  == AREA_JAIL ) {
		map_initcustom "jail1"
		mModerateCrowd = 0
		mMusic = MUSICLIST_MCRUIN
		map_placeplayer
	}
	if ( gArea  == AREA_TRUCE_GROUND ) {
		map_initcustom "shrine_1"
		mModerateCrowd = 10
		flt
		itemcreate -1, ITEM_ID_ALTAR, 10, 8, 0
		iParam1(ci) = 1
		iProperty(ci) = PROP_NPC
		ibitmod ITEM_BIT_PRECIOUS, ci, TRUE
		flt
		itemcreate -1, ITEM_ID_ALTAR, 13, 8, 0
		iParam1(ci) = 2
		iProperty(ci) = PROP_NPC
		ibitmod ITEM_BIT_PRECIOUS, ci, TRUE
		flt
		itemcreate -1, ITEM_ID_ALTAR, 10, 13, 0
		iParam1(ci) = 5
		iProperty(ci) = PROP_NPC
		ibitmod ITEM_BIT_PRECIOUS, ci, TRUE
		flt
		itemcreate -1, ITEM_ID_ALTAR, 13, 13, 0
		iParam1(ci) = 4
		iProperty(ci) = PROP_NPC
		ibitmod ITEM_BIT_PRECIOUS, ci, TRUE
		flt
		itemcreate -1, ITEM_ID_ALTAR, 20, 8, 0
		iParam1(ci) = 3
		iProperty(ci) = PROP_NPC
		ibitmod ITEM_BIT_PRECIOUS, ci, TRUE
		flt
		itemcreate -1, ITEM_ID_ALTAR, 23, 8, 0
		iParam1(ci) = 7
		iProperty(ci) = PROP_NPC
		ibitmod ITEM_BIT_PRECIOUS, ci, TRUE
		flt
		itemcreate -1, ITEM_ID_ALTAR, 20, 13, 0
		iParam1(ci) = 6
		iProperty(ci) = PROP_NPC
		ibitmod ITEM_BIT_PRECIOUS, ci, TRUE
		flt
		itemcreate -1, ITEM_ID_ALTAR, 23, 13, 0
		iProperty(ci) = PROP_NPC
		ibitmod ITEM_BIT_PRECIOUS, ci, TRUE
		mMusic = MUSICLIST_MCRUIN
		map_placeplayer
		repeat mModerateCrowd / 2
			gosub *label_2163
			characreate -1, CREATURE_ID_BUG, -3, 0
			if ( stat ) {
				gosub *label_4551
			}
		loop
	}
	if ( gArea  == AREA_EMBASSY ) {
		map_initcustom "office_1"
		mModerateCrowd = 0
		flt
		characreate -1, CREATURE_ID_SALES_PERSON, 9, 2
		cRole(rc) = ROLE_SHOP_OFFICE, 10
		flt
		characreate -1, CREATURE_ID_SALES_PERSON, 15, 2
		cRole(rc) = ROLE_SHOP_OFFICE, 10
		flt
		characreate -1, CREATURE_ID_SALES_PERSON, 21, 2
		cRole(rc) = ROLE_SHOP_DEED, 10
		flt
		characreate -1, CREATURE_ID_SALES_PERSON, 3, 2
		cRole(rc) = ROLE_SHOP_DEED, 10
		repeat 3
			flt
			characreate -1, CREATURE_ID_CITIZEN, -3, 0
			cRole(rc) = ROLE_CITIZEN
			flt
			characreate -1, CREATURE_ID_CITIZEN2, -3, 0
			cRole(rc) = ROLE_CITIZEN
		loop
		repeat 4
			flt
			characreate -1, CREATURE_ID_GUARD2, 3 + cnt * 6, 9
			cRole(rc) = ROLE_GUARD
		loop
		mMusic = MUSICLIST_MCRUIN
		map_placeplayer
	}
	if ( gArea  == AREA_TW_NORTH_BORDER ) {
		map_initcustom "nc_fairyzort_barrier"
		mModerateCrowd = 0
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 3, 7
		cRole(rc) = ROLE_SHOP_INN, 8
		sninn cnName(rc)
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_BARTENDER, 5, 10
		cRole(rc) = ROLE_BARTENDER
		flt
		characreate -1, CREATURE_ID_INFORMER, 13, 13
		cRole(rc) = ROLE_INFORMER
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_HEALER, 21, 11
		cRole(rc) = ROLE_HEALER
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 13, 15
		cRole(rc) = ROLE_SHOP_GOODS, 10
		sngoods cnName(rc)
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_WIZARD, 15, 15
		cRole(rc) = ROLE_SHOP_MAGIC, 11
		snmagic cnName(rc)
		flt
		characreate -1, CREATURE_ID_CARAVAN_MASTER, 19, 2
		cRole(rc) = ROLE_CARAVAN_MASTER
		flt
		characreate -1, CREATURE_ID_MORPHEME_THE_HUNTER, 25, 3
		cRole(rc) = ROLE_SHOP_MORPHY, 100
		cRoleFileId(rc) = 3112
		mMusic = MUSICLIST_MAX
		map_placeplayer
		evadd EVENT_GOD_INSIDE_MY_EYES
	}
	if ( gArea  == AREA_NT_SOUTH_BORDER ) {
		map_initcustom "station-nt1"
		mModerateCrowd = 0
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 7, 23
		cRole(rc) = ROLE_SHOP_GENERAL, 10
		sngeneral cnName(rc)
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 5, 17
		cRole(rc) = ROLE_SHOP_TRADE, 12
		sntrade cnName(rc)
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 16, 19
		cRole(rc) = ROLE_SHOP_INN, 8
		sninn cnName(rc)
		flt
		characreate -1, CREATURE_ID_BARTENDER, 17, 13
		cRole(rc) = ROLE_BARTENDER
		flt
		characreate -1, CREATURE_ID_CARAVAN_MASTER, 7, 3
		cRole(rc) = ROLE_CARAVAN_MASTER
		flt
		characreate -1, CREATURE_ID_INFORMER, 16, 20
		cRole(rc) = ROLE_INFORMER
		cAiCalm(rc) = 3
		flt
		repeat 2
			flt
			characreate -1, CREATURE_ID_BEGGAR, -3, 0
			flt
			characreate -1, CREATURE_ID_MERCENARY_WARRIOR, -3, 0
			cRelation(rc) = RELATION_DISLIKE
			cOrgRelation(rc) = RELATION_DISLIKE
			flt
			characreate -1, CREATURE_ID_MERCENARY_ARCHER, -3, 0
			cRelation(rc) = RELATION_DISLIKE
			cOrgRelation(rc) = RELATION_DISLIKE
			flt
			characreate -1, CREATURE_ID_MERCENARY_WIZARD, -3, 0
			cRelation(rc) = RELATION_DISLIKE
			cOrgRelation(rc) = RELATION_DISLIKE
		loop
		flt
		characreate -1, CREATURE_ID_GUARD2, 5, 7
		cRole(rc) = ROLE_GUARD
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_GUARD2, 8, 7
		cRole(rc) = ROLE_GUARD
		cAiCalm(rc) = 3
		mMusic = MUSICLIST_MCRUIN
		map_placeplayer
	}
	if ( gArea  == AREA_ST_NORTH_BORDER ) {
		map_initcustom "station-nt1"
		mModerateCrowd = 0
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 7, 23
		cRole(rc) = ROLE_SHOP_GENERAL, 10
		sngeneral cnName(rc)
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 5, 17
		cRole(rc) = ROLE_SHOP_TRADE, 12
		sntrade cnName(rc)
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 16, 19
		cRole(rc) = ROLE_SHOP_INN, 8
		sninn cnName(rc)
		flt
		characreate -1, CREATURE_ID_BARTENDER, 17, 13
		cRole(rc) = ROLE_BARTENDER
		flt
		characreate -1, CREATURE_ID_CARAVAN_MASTER, 7, 3
		cRole(rc) = ROLE_CARAVAN_MASTER
		characreate -1, CREATURE_ID_INFORMER, 16, 20
		cRole(rc) = ROLE_INFORMER
		cAiCalm(rc) = 3
		flt
		repeat 2
			flt
			characreate -1, CREATURE_ID_BEGGAR, -3, 0
			flt
			characreate -1, CREATURE_ID_MERCENARY_WARRIOR, -3, 0
			cRelation(rc) = RELATION_DISLIKE
			cOrgRelation(rc) = RELATION_DISLIKE
			flt
			characreate -1, CREATURE_ID_MERCENARY_ARCHER, -3, 0
			cRelation(rc) = RELATION_DISLIKE
			cOrgRelation(rc) = RELATION_DISLIKE
			flt
			characreate -1, CREATURE_ID_MERCENARY_WIZARD, -3, 0
			cRelation(rc) = RELATION_DISLIKE
			cOrgRelation(rc) = RELATION_DISLIKE
		loop
		flt
		characreate -1, CREATURE_ID_GUARD2, 5, 7
		cRole(rc) = ROLE_GUARD
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_GUARD2, 8, 7
		cRole(rc) = ROLE_GUARD
		cAiCalm(rc) = 3
		mMusic = MUSICLIST_MCRUIN
		map_placeplayer
	}
	if ( gArea  == AREA_SMOKE_AND_PIPE ) {
		map_initcustom "inn1"
		mModerateCrowd = 0
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 19, 10
		cRole(rc) = ROLE_SHOP_INN, 8
		sninn cnName(rc)
		flt
		characreate -1, CREATURE_ID_THE_LEOPARD_WARRIOR, 26, 16
		cRole(rc) = ROLE_SPECIAL
		cAiCalm(rc) = 3
		flt
		characreate -1, 35, 25, 15
		cAiCalm(rc) = 3
		flt
		characreate -1, 35, 25, 17
		cAiCalm(rc) = 3
		flt
		characreate -1, 35, 27, 18
		cAiCalm(rc) = 3
		flt
		characreate -1, 35, 27, 16
		cAiCalm(rc) = 3
		flt
		characreate -1, 35, 26, 17
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_SILVIA_THE_PRINCESS, 4, 3
		cRole(rc) = ROLE_SPECIAL
		flt
		characreate -1, CREATURE_ID_ROGUE, 4, 2
		flt
		characreate -1, CREATURE_ID_FARMER, 3, 3
		flt
		characreate -1, CREATURE_ID_ARTIST, 4, 4
		flt
		characreate -1, CREATURE_ID_NOBLE, 5, 4
		flt
		characreate -1, CREATURE_ID_HOT_SPRING_MANIAC, 24, 3
		flt
		characreate -1, CREATURE_ID_HOT_SPRING_MANIAC, 26, 4
		flt
		characreate -1, CREATURE_ID_HOT_SPRING_MANIAC, 25, 5
		flt
		characreate -1, CREATURE_ID_HOT_SPRING_MANIAC, 25, 9
		flt
		characreate -1, CREATURE_ID_BARD, 12, 9
		repeat 2
			flt
			characreate -1, CREATURE_ID_BEGGAR, -3, 0
			flt
			characreate -1, CREATURE_ID_MERCENARY_WARRIOR, -3, 0
			cRelation(rc) = RELATION_DISLIKE
			cOrgRelation(rc) = RELATION_DISLIKE
			flt
			characreate -1, CREATURE_ID_OLD_PERSON, -3, 0
			cRelation(rc) = RELATION_DISLIKE
			cOrgRelation(rc) = RELATION_DISLIKE
			flt
			characreate -1, CREATURE_ID_MERCENARY, -3, 0
			flt
			characreate -1, CREATURE_ID_TOURIST, -3, 0
		loop
		mMusic = MUSICLIST_MCRUIN
		map_placeplayer
	}
	if ( gArea  == AREA_MIROK_WORKSHOP ) {
		map_initcustom "smith0"
		mModerateCrowd = 0
		flt
		characreate -1, CREATURE_ID_GAROK_THE_LEGENDARY_SMITH, 17, 11
		cRole(rc) = ROLE_SPECIAL
		flt
		characreate -1, CREATURE_ID_MIRAL_THE_LEGENDARY_SMITH, 8, 16
		cRole(rc) = ROLE_SHOP_MIROK, 100
		repeat 5
			flt
			characreate -1, CREATURE_ID_CAT, -3, 0
			cRole(rc) = ROLE_SPECIAL
		loop
		mMusic = MUSICLIST_MCRUIN
		map_placeplayer
	}
	if ( gArea  == AREA_SISTER_MANSION ) {
		map_initcustom "sister"
		mModerateCrowd = 0
		mMusic = MUSICLIST_MCRUIN
		if ( mapupdate == 0 ) {
			flt
			itemcreate -1, ITEM_ID_BOOK_RACHEL, 12, 8, 0
			iParam2(ci) = 4
		}
		flt
		characreate -1, CREATURE_ID_YOUNGER_SISTER2, 12, 6
		cRole(rc) = ROLE_SHOP_SISTER
		repeat 6
			flt
			characreate -1, CREATURE_ID_YOUNG_LADY, -3, 0
			cRole(rc) = ROLE_SPECIAL
		loop
		repeat 8
			flt
			characreate -1, CREATURE_ID_SILVER_CAT, -3, 0
			cRole(rc) = ROLE_SPECIAL
		loop
		map_placeplayer
	}
	if ( gArea  == AREA_CYBER_DOME ) {
		map_initcustom "cyberdome"
		mModerateCrowd = 10
		flt
		itemcreate -1, ITEM_ID_ALTAR, 19, 5, 0
		iParam1(ci) = 1
		iProperty(ci) = PROP_NPC
		ibitmod ITEM_BIT_PRECIOUS, ci, TRUE
		flt
		characreate -1, CREATURE_ID_SALES_PERSON, 9, 16
		cRole(rc) = ROLE_SHOP_SALESPERSON, 10
		flt
		characreate -1, CREATURE_ID_SALES_PERSON, 9, 8
		cRole(rc) = ROLE_SHOP_SALESPERSON, 10
		flt
		characreate -1, CREATURE_ID_STRANGE_SCIENTIST, 28, 7
		cRole(rc) = ROLE_SPECIAL
		repeat 4
			flt
			characreate -1, CREATURE_ID_CITIZEN_OF_CYBER_DOME, -3, 0
			cRole(rc) = ROLE_CITIZEN
			flt
			characreate -1, CREATURE_ID_CITIZEN_OF_CYBER_DOME2, -3, 0
			cRole(rc) = ROLE_CITIZEN
		loop
		repeat mModerateCrowd / 2
			gosub *label_2163
			characreate -1, CREATURE_ID_BUG, -3, 0
			if ( stat ) {
				gosub *label_4551
			}
		loop
		mMusic = MUSICLIST_MCRUIN
		map_placeplayer
	}
	if ( gArea  == AREA_LARNA ) {
		map_initcustom "highmountain"
		mModerateCrowd = 20
		flt
		characreate -1, CREATURE_ID_WIZARD, 21, 23
		cRole(rc) = ROLE_RETURNER
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 9, 44
		cRole(rc) = ROLE_SHOP_MOUNTAIN1, 5
		cnName(rc) = lang("êıêFìXÇÃ" + cnName(rc), sncnv(cnName(rc)) + "the dye vendor")
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 13, 37
		cRole(rc) = ROLE_SHOP_MOUNTAIN2, 30
		cnName(rc) = lang("Ç®Ç›Ç‚Ç∞âÆÇÃ" + cnName(rc), sncnv(cnName(rc)) + "the souvenir vendor")
		flt
		characreate -1, CREATURE_ID_BARTENDER, 24, 48
		cRole(rc) = ROLE_BARTENDER
		flt
		characreate -1, CREATURE_ID_HOT_SPRING_MANIAC, 7, 36
		flt
		characreate -1, CREATURE_ID_HOT_SPRING_MANIAC, 9, 38
		flt
		characreate -1, CREATURE_ID_HOT_SPRING_MANIAC, 6, 33
		flt
		characreate -1, CREATURE_ID_HOT_SPRING_MANIAC, 3, 33
		flt
		characreate -1, CREATURE_ID_HOT_SPRING_MANIAC, 8, 31
		flt
		characreate -1, CREATURE_ID_HOT_SPRING_MANIAC, 4, 36
		repeat 7
			flt
			characreate -1, CREATURE_ID_CITIZEN, -3, 0
			cRole(rc) = ROLE_CITIZEN
			flt
			characreate -1, CREATURE_ID_CITIZEN2, -3, 0
			cRole(rc) = ROLE_CITIZEN
			flt
			characreate -1, CREATURE_ID_HOT_SPRING_MANIAC, -3, 0
		loop
		repeat 15
			flt
			characreate -1, CREATURE_ID_HOT_SPRING_MANIAC, -3, 0
		loop
		repeat mModerateCrowd / 2
			gosub *label_2163
			characreate -1, CREATURE_ID_BUG, -3, 0
			if ( stat ) {
				gosub *label_4551
			}
		loop
		mMusic = MUSICLIST_MCRUIN
		map_placeplayer
	}
	if ( gArea  == AREA_ARENA ) {
		map_initcustom "arena_1"
		map_placeplayer
		repeat 16
			if ( cExist(cnt) == CHAR_STATE_ALIVE ) {
				if ( cRelation(cnt) == RELATION_ALLY ) {
					if ( cnt != 0 ) {
						mapChara(cX(cnt), cY(cnt)) = 0
						cExist(cnt) = CHAR_STATE_SUSPEND
					}
				}
			}
		loop
		if ( arenaop == 0 ) {
			fixlv = arenaop(2)
			if ( arenaop(1) == 176 ) {
				x = cX(CHARA_PLAYER) - 1
				y = cY(CHARA_PLAYER) - 4
				initlv = 10000
				fixlv = FIX_QUALITY_GODLY
				characreate -1, CREATURE_ID_YOUNGER_SISTER, x, y
				cnName(rc) = "ÅsÉ`ÉÉÉåÉìÉWÉÉÅ[ÇÃñÖÅt"
				cAiSub(rc) = 50
				cdata(STARTING_CDATA_ACT_MAIN, rc) = 903
				cdata(STARTING_CDATA_ACT_SUB, rc) = SKILL_SPACT_MANIS_DISASSEMBLY, 900, 904
				cActIndex(rc) = 31
				cbitmod CHARA_BIT_RES_ELEMENTAL, rc, TRUE
				cbitmod CHARA_BIT_SPLIT_NO_EFFECT, rc, TRUE
				cbitmod CHARA_BIT_METAL, rc, TRUE
				cbitmod 39, rc, TRUE
				ocbitmod 13, rc, 1
				cRole(rc) = ROLE_SHOP_CHALLENGER_YOUNGER_SISTER
				cAiAggro(rc) = 30
				cRelation(rc) = RELATION_ENEMY
				cOrgRelation(rc) = RELATION_ENEMY
			}
			else {
				if ( arenaop(1) == 363 ) {
					x = cX(CHARA_PLAYER) - 1
					y = cY(CHARA_PLAYER) - 4
					gosub *label_4574
				}
				else {
					rank = arenaop(3)
					if ( arenaop(1) == 343 ) {
						initunid = arenaop(4) + 1
					}
					characreate -1, arenaop(1), cX(CHARA_PLAYER) - 1, cY(CHARA_PLAYER) - 4
				}
			}
			cAiAggro(rc) = 30
			cRelation(rc) = RELATION_ENEMY
			cOrgRelation(rc) = RELATION_ENEMY
			cbitmod CHARA_BIT_PRECIOUS, rc, TRUE
			if ( arenaop(1) == 363 ) {
				evadd 105
			}
		}
		if ( arenaop == 1 ) {
			repeat 3 + rnd(4)
				flt arenaop(1), FIX_QUALITY_GOOD
				characreate -1, CREATURE_ID_BUG, cX(CHARA_PLAYER) - 1, cY(CHARA_PLAYER) - 5
				cRelation(rc) = RELATION_ENEMY
				cOrgRelation(rc) = RELATION_ENEMY
				cAiAggro(rc) = 30
				cRelation(rc) = RELATION_ENEMY
				cbitmod CHARA_BIT_PRECIOUS, rc, TRUE
				addfaction rc, "pet," + 56
				if ( cLevel(rc) > arenaop(1) | cRelation(rc) != RELATION_ENEMY ) {
					chara_vanquish rc
					continue cnt
				}
			loop
		}
		noaggrorefresh = 1
	}
	if ( gArea  == AREA_PET_ARENA ) {
		map_initcustom "arena_2"
		mModerateCrowd = 0
		mMusic = MUSICLIST_MCPETARENA
		repeat 16
			if ( cnt == 0 | cnt == 56 ) {
				continue
			}
			if ( followerin(cnt) == 0 ) {
				cExist(cnt) = CHAR_STATE_SUSPEND
				cX(cnt) = 0
				cY(cnt) = 0
			}
			else {
				cExist(cnt) = CHAR_STATE_ALIVE
			}
		loop
		map_placeplayer
		petarenawin = 0
		if ( arenaimport == 1 ) {
			file = "" + userfile
			id = 0
			gosub *unzip
			importmode = 1
			ctrlfile 21
			gosub *del_userTemp
		}
		else {
			repeat arenaop(1)
				if ( arenaop(0) == 2 ) {
					relocate_chara 56, -1, -3
					mapChara(cX(rc), cY(rc)) = 0
					cHP(rc) = cMHP(rc)
					cMP(rc) = cMMP(rc)
					cSP(rc) = cMSP(rc)
				}
				else {
					flt arenaop(2), calcfixlv(FIX_QUALITY_GREAT)
					characreate -1, CREATURE_ID_BUG, -3, 0
					mapChara(cX(rc), cY(rc)) = 0
					f = 1
					if ( arenaop == 0 ) {
						if ( cLevel(rc) < arenaop(2) / 2 ) {
							f = 0
						}
					}
					if ( cRelation(rc) != RELATION_ENEMY ) {
						f = 0
					}
					if ( f == 0 ) {
						chara_vanquish rc
						continue cnt
					}
				}
				map_placearena rc, 1
				if ( cnt == 0 ) {
					enemyteam = rc
				}
			loop
		}
		repeat 245 - 57, 57
			if ( cRelation(cnt) == RELATION_ENEMY ) {
				cbitmod CHARA_BIT_STETHOSCOPE, cnt, TRUE
			}
		loop
	}
	if ( gArea  == 49 ) {
		if ( nc_horse_001 == 0 ) {
			map_initcustom "nc_derby"
		}
		else {
			map_initcustom "nc_derby_long"
		}
		mModerateCrowd = 0
		mMusic = MUSICLIST_MCPETARENA
		repeat 16
			if ( cnt == 0 | cnt == 56 ) {
				continue
			}
			if ( followerin(cnt) == 0 ) {
				cExist(cnt) = CHAR_STATE_SUSPEND
				cX(cnt) = 0
				cY(cnt) = 0
			}
			else {
				cExist(cnt) = CHAR_STATE_ALIVE
			}
		loop
		map_placeplayer
		petarenawin = 0
		repeat 5
			flt
			fixlv = FIX_QUALITY_GREAT
			initlv = (100 - gdata(129) / 100) * 2 + 1 + rnd(10)
			if ( nc_horse_002 == 2 ) {
				initlv = 5
			}
			if ( nc_horse_002 == 3 ) {
				initlv = 800
			}
			fltn "horse"
			characreate -1, CREATURE_ID_BUG, 1, 7 + cnt
			if ( stat == 0 ) {
				continue cnt
			}
			sdata(18 + STARTING_SKILL_SPACT, rc) = limit(cLevel(rc) * 3 * 1000000, 50 * 1000000, 2000 * 1000000)
			skillinit SKILL_ATTR_WIL, rc, 20 + cLevel(rc) * (rnd(8) + 3) + 50 * nc_horse_001
			skillinit SKILL_ATTR_CON, rc, 20 + cLevel(rc) * (rnd(4) + 2) + 30 * nc_horse_001
			if ( nc_horse_002 == 3 ) {
				sdata(18 + STARTING_SKILL_SPACT, rc) = 800 * 1000000
				skillinit SKILL_ATTR_DEX, rc, 100
				skillinit SKILL_ATTR_LUC, rc, 100
				sdata(11 + STARTING_SKILL_SPACT, rc) = 2000 * 1000000
				sdataex(11, rc) = 10000
				sdata(15 + STARTING_SKILL_SPACT, rc) = 2000 * 1000000
				sdataex(15, rc) = 80000
			}
			gosub *charaRefresh
			cHP(rc) = cMHP(rc)
			cMP(rc) = cMMP(rc)
			cSP(rc) = cMSP(rc)
			horsestat(cnt + 1, 0) = rc
			if ( nc_horse_002 != 2 | nc_horse_002 != 3 ) {
				repeat limitmax((100 - gdata(129) / 100) / 25, 3) + 1
					nc_intb_001 = rnd(26)
					if ( nc_intb_001 > 8 & nc_intb_001 < 21 ) {
						continue cnt
					}
					if ( horse_getskill(rc, nc_intb_001) > 0 ) {
						continue
					}
					nc_intb_002 = rnd(limitmax((100 - gdata(129) / 100) / 25, 2) + 1) + 1
					addfaction rc, "horskill" + nc_intb_001 + "," + nc_intb_002
				loop
			}
			if ( nc_horse_002 == 3 ) {
				nc_intb_001 = rnd(4)
				if ( nc_intb_001 == 0 ) {
					addfaction rc, "horskill21,3"
					addfaction rc, "horskill4,5"
					addfaction rc, "horskill6,5"
					addfaction rc, "horskill5,3"
					addfaction rc, "horskill9,3"
				}
				if ( nc_intb_001 == 1 ) {
					addfaction rc, "horskill6,3"
					addfaction rc, "horskill7,5"
					addfaction rc, "horskill8,5"
					addfaction rc, "horskill25,3"
					addfaction rc, "horskill9,3"
				}
				if ( nc_intb_001 == 2 ) {
					addfaction rc, "horskill2,5"
					addfaction rc, "horskill3,5"
					addfaction rc, "horskill4,5"
					addfaction rc, "horskill24,3"
					addfaction rc, "horskill9,3"
				}
				if ( nc_intb_001 == 3 ) {
					addfaction rc, "horskill0,5"
					addfaction rc, "horskill1,5"
					addfaction rc, "horskill2,5"
					addfaction rc, "horskill3,3"
					addfaction rc, "horskill4,3"
					addfaction rc, "horskill9,5"
				}
			}
			else {
				if ( nc_horse_002 != 2 ) {
					if ( gdata(129) / 100 <= 30 ) {
						if ( horse_getskill(rc, 6) == 0 ) {
							addfaction rc, "horskill6,3"
						}
					}
					if ( gdata(129) / 100 <= 10 ) {
						if ( horse_getskill(cc, 5) == 0 ) {
							addfaction rc, "horskill5,3"
						}
					}
					if ( gdata(129) / 100 <= 1 ) {
						if ( horse_getskill(cc, 1) == 0 ) {
							addfaction rc, "horskill5,5"
						}
					}
				}
			}
			refreshspeed rc
		loop
		mMusic = 93
	}
	if ( gArea  == AREA_BEAST_FORT ) {
		map_initcustom "god"
		mModerateCrowd = 0
		mMusic = MUSICLIST_MCBOSS2
		flt
		characreate -1, CREATURE_ID_FRISIA_THE_CAT_QUEEN, 12, 14
		map_placeplayer
	}
	if ( gArea  == AREA_MACHINE_FORT ) {
		map_initcustom "god"
		mModerateCrowd = 0
		mMusic = MUSICLIST_MCBOSS2
		flt
		characreate -1, CREATURE_ID_UTIMA_THE_DESTROYER_OF_XEREN, 12, 14
		map_placeplayer
	}
	if ( gArea  == AREA_COLLAPSED_FORT ) {
		map_initcustom "god"
		mMusic = MUSICLIST_MCBOSS2
		mModerateCrowd = 0
		flt
		characreate -1, CREATURE_ID_AZZRSSIL_THE_IMPURE, 12, 14
		map_placeplayer
	}
	if ( gArea  == AREA_HOME ) {
		map_initcustom "home" + gHomeLevel
		mMusic = MUSICLIST_MCLONELY
		gLevelStartOn = 4
		map_placeplayer
		mWall = 0
		mTileSet = MAP_TILESET_HOME
		if ( gLevel  == 1 ) {
			if ( gHomeLevel == 0 ) {
				mFireSound = 1
				flt
				characreate -1, CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND, 18, 10
				cRole(rc) = ROLE_SPECIAL
				flt
				characreate -1, CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE, 16, 11
				cRole(rc) = ROLE_SPECIAL
				flt
				itemcreate -1, ITEM_ID_HEIR_TRUNK, 6, 10, 0
				inv((9 /*!!!@[INV_ITEM_AMMO @@@ INV_ITEM_CHARGE @@@ INV_ITEM_CLIENT @@@ INV_ITEM_FILE @@@ INV_ITEM_NEXT_PERIOD]@!!! */), ci) = 3
				flt
				itemcreate -1, ITEM_ID_SALARY_CHEST, 15, 19, 0
				inv((9 /*!!!@[INV_ITEM_AMMO @@@ INV_ITEM_CHARGE @@@ INV_ITEM_CLIENT @@@ INV_ITEM_FILE @@@ INV_ITEM_NEXT_PERIOD]@!!! */), ci) = 4
				flt
				itemcreate -1, ITEM_ID_FREEZER, 9, 8, 0
				inv((9 /*!!!@[INV_ITEM_AMMO @@@ INV_ITEM_CHARGE @@@ INV_ITEM_CLIENT @@@ INV_ITEM_FILE @@@ INV_ITEM_NEXT_PERIOD]@!!! */), ci) = 6
				flt
				itemcreate -1, ITEM_ID_RED_BOOK, 18, 19, 0
				iParam1(ci) = 1
			}
			else {
				file = "inv_" + mid + ".s2"
				ctrlfile 3
				inv_getheader -1
				repeat invrange, invhead
					if ( iNum(cnt) == 0 ) {
						continue
					}
					iX(cnt) = mWidth / 2
					iY(cnt) = mHeight / 2
					cell_refresh iX(cnt), iY(cnt)
				loop
				memset ocAIStrategy(57), 0, 245000 - 57000
				ctrlfile 17
				repeat 188, 57
					cX(cnt) = mWidth / 2
					cY(cnt) = mHeight / 2
					cXorg(cnt) = mWidth / 2
					cYorg(cnt) = mHeight / 2
				loop
			}
			if ( gHomeLevel == 5 ) {
				p = 0
				repeat 188, 57
					if ( cExist(cnt) == CHAR_STATE_ALIVE | cExist(cnt) == CHAR_STATE_SPIRIT ) {
						if ( cRole(cnt) != ROLE_NONE ) {
							p++
						}
					}
				loop
				if ( 7 + (ogTitleBillionaire == 2) * 10 - p > 0 ) {
					repeat 7 + (ogTitleBillionaire == 2) * 10 - p
						flt
						if ( cnt == 0 ) {
							characreate -1, CREATURE_ID_SHOPKEEPER, 31, 20
							cRole(rc) = ROLE_SHOP_GENERAL, 10
							sngeneral cnName(rc)
						}
						if ( cnt == 1 ) {
							characreate -1, CREATURE_ID_SHOPKEEPER, 9, 20
							cRole(rc) = ROLE_SHOP_ARMOR, 12
							snarmor cnName(rc)
						}
						if ( cnt == 2 ) {
							characreate -1, CREATURE_ID_SHOPKEEPER, 4, 20
							cRole(rc) = ROLE_SHOP_GOODS, 10
							sngoods cnName(rc)
						}
						if ( cnt == 3 ) {
							characreate -1, CREATURE_ID_WIZARD, 4, 11
							cRole(rc) = ROLE_IDENTIFIER
						}
						if ( cnt == 4 ) {
							characreate -1, CREATURE_ID_BARTENDER, 30, 11
							cRole(rc) = ROLE_BARTENDER
						}
						if ( cnt == 5 ) {
							characreate -1, CREATURE_ID_HEALER, 30, 4
							cRole(rc) = ROLE_HEALER
						}
						if ( cnt == 6 ) {
							characreate -1, CREATURE_ID_WIZARD, 4, 4
							cRole(rc) = ROLE_SHOP_MAGIC, 11
							snmagic cnName(rc)
						}
					loop
				}
			}
		}
		else {
			flt
			itemcreate -1, ITEM_ID_TIGHT_ROPE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
		}
		gosub *label_2098
	}
	if ( gArea  == AREA_NORTH_TYRIS ) {
		map_initcustom "ntyris"
		gosub *label_2349
		map_placeplayer
	}
	if ( gArea  == AREA_SOUTH_TYRIS ) {
		map_initcustom "st_styris"
		gosub *label_2349
		map_placeplayer
	}
	if ( gArea  == AREA_TEST_WORLD ) {
		mCanSave = 1
		mNoRenew = 0
		map_initcustom "nc_fairesorts"
		gosub *label_2349
		map_placeplayer
		mWall = 0
	}
	if ( gArea  == AREA_DERPHY ) {
		if ( gLevel  == 1 ) {
			mModerateCrowd = 35
			map_initcustom "rogueden"
			map_placeplayer
			mWall = 0
			flt
			characreate -1, CREATURE_ID_MARKS_THE_GREAT_THIEF, 23, 14
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_NOEL_THE_BOMBER, 13, 18
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_ABYSS_THE_THIEF_WATCHMAN, 16, 17
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 10, 17
			cRole(rc) = ROLE_SHOP_TRADE, 12
			sntrade cnName(rc)
			flt
			characreate -1, CREATURE_ID_BARTENDER, 15, 15
			cRole(rc) = ROLE_BARTENDER
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 13, 3
			cRole(rc) = ROLE_SHOP_GENERAL, 10
			sngeneral cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 29, 23
			cRole(rc) = ROLE_SHOP_INN, 8
			sninn cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 26, 7
			cRole(rc) = ROLE_SHOP_GOODS, 10
			sngoods cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 30, 4
			cRole(rc) = ROLE_SHOP_BLACKMARKET, 10
			snblack cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 29, 4
			cRole(rc) = ROLE_SLAVER
			cnName(rc) = lang("ì‰ÇÃìzóÍè§êl", "The slave master")
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 10, 6
			cRole(rc) = ROLE_SHOP_ARMOR, 12
			snarmor cnName(rc)
			flt
			characreate -1, CREATURE_ID_ARENA_MASTER, 7, 15
			cRole(rc) = ROLE_ARENA_MASTER
			flt
			characreate -1, CREATURE_ID_ELDER, 9, 18
			cRole(rc) = ROLE_MAYOR
			cnName(rc) = lang("É_ÉãÉtÉB" + cnName(rc), cnName(rc) + " of Derphy")
			flt
			characreate -1, CREATURE_ID_TRAINER, 13, 18
			cRole(rc) = ROLE_TRAINER
			sntrainer cnName(rc)
			flt
			characreate -1, CREATURE_ID_WIZARD, 5, 26
			cRole(rc) = ROLE_IDENTIFIER
			flt
			characreate -1, CREATURE_ID_INFORMER, 3, 28
			cRole(rc) = ROLE_INFORMER
			repeat 4
				flt
				characreate -1, CREATURE_ID_CITIZEN, -3, 0
				cRole(rc) = ROLE_CITIZEN
				flt
				characreate -1, CREATURE_ID_CITIZEN2, -3, 0
				cRole(rc) = ROLE_CITIZEN
			loop
			gosub *label_3950
			repeat 20
				dbid = 0
				gosub *label_2163
				characreate -1, dbid, -3, 0
				if ( stat ) {
					gosub *label_4551
				}
			loop
		}
		if ( gLevel  == 3 ) {
			mTileSet = MAP_TILESET_DUNGEON
			map_initcustom "thiefguild"
			mField = MAP_FIELD_INDOOR
			mType = MAP_TYPE_VILLAGE
			mModerateCrowd = 25
			mMusic = MUSICLIST_MCRUIN
			mNoRenew = 0
			mdatan(0) = lang("ìêëØÉMÉãÉh", "Thieves Guild")
			map_placeplayer
			flt
			characreate -1, CREATURE_ID_SIN_THE_THIEF_GUILDMASTER, 21, 9
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_TRAINER, 3, 6
			cRole(rc) = ROLE_TRAINER
			sntrainer cnName(rc)
			flt
			characreate -1, CREATURE_ID_WIZARD, 3, 12
			cRole(rc) = ROLE_IDENTIFIER
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 5, 18
			cRole(rc) = ROLE_SHOP_BLACKMARKET, 10
			snblack cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 27, 13
			cRole(rc) = ROLE_SHOP_BLACKMARKET, 10
			snblack cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 21, 19
			cRole(rc) = ROLE_SHOP_THIEF, 10
			cnName(rc) = lang("ìêëØìXÇÃ" + cnName(rc), sncnv(cnName(rc)) + "the fence")
			repeat 16
				flt
				characreate -1, CREATURE_ID_THIEF_GUILD_MEMBER, -3, 0
			loop
		}
	}
	if ( gArea  == AREA_PALMIA ) {
		mModerateCrowd = 45
		map_initcustom "palmia"
		map_placeplayer
		mWall = 0
		flt
		characreate -1, CREATURE_ID_BARTENDER, 42, 27
		cRole(rc) = ROLE_BARTENDER
		flt
		characreate -1, CREATURE_ID_HEALER, 34, 3
		cRole(rc) = ROLE_HEALER
		flt
		characreate -1, CREATURE_ID_ARENA_MASTER, 22, 31
		cRole(rc) = ROLE_ARENA_MASTER
		flt
		characreate -1, CREATURE_ID_ERYSTIA_THE_SCHOLAR_OF_HISTORY, 5, 15
		cRole(rc) = ROLE_SPECIAL
		flt
		characreate -1, CREATURE_ID_MIA_THE_CAT_FREAK, 41, 11
		cRole(rc) = ROLE_SPECIAL
		flt
		characreate -1, CREATURE_ID_CONERY_PALMIAN_MAJOR_GENERAL, 5, 6
		cRole(rc) = ROLE_SPECIAL
		flt
		characreate -1, CREATURE_ID_CLEANER, 24, 6
		cRole(rc) = ROLE_SPECIAL
		flt
		characreate -1, CREATURE_ID_CLEANER, 15, 22
		cRole(rc) = ROLE_SPECIAL
		flt
		characreate -1, CREATURE_ID_BARD, 15, 22
		cRole(rc) = ROLE_SPECIAL
		if ( sqSilverCat == 1000 ) {
			flt
			characreate -1, CREATURE_ID_SILVER_CAT, 42, 11
			cRole(rc) = ROLE_SPECIAL
		}
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 48, 18
		cRole(rc) = ROLE_SHOP_GENERAL, 10
		sngeneral cnName(rc)
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 30, 17
		cRole(rc) = ROLE_SHOP_INN, 8
		sninn cnName(rc)
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 48, 3
		cRole(rc) = ROLE_SHOP_GOODS, 8
		sngoods cnName(rc)
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 42, 17
		cRole(rc) = ROLE_SHOP_ARMOR, 12
		snarmor cnName(rc)
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 11, 14
		cRole(rc) = ROLE_SHOP_BAKERY, 9
		snbakery cnName(rc)
		cPic(rc) = xy2pic(6, 4)
		flt
		characreate -1, CREATURE_ID_WIZARD, 41, 3
		cRole(rc) = ROLE_SHOP_MAGIC, 11
		snmagic cnName(rc)
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 41, 28
		cRole(rc) = ROLE_SHOP_TRADE, 12
		sntrade cnName(rc)
		flt
		characreate -1, CREATURE_ID_STERSHA_THE_QUEEN_OF_PALMIA, 7, 2
		cRole(rc) = ROLE_KING
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_XABI_THE_KING_OF_PALMIA, 6, 2
		cRole(rc) = ROLE_KING
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_ELDER, 49, 11
		cRole(rc) = ROLE_MAYOR
		cnName(rc) = lang("ÉpÉãÉ~ÉAésäXínÇÃ" + cnName(rc), cnName(rc) + " of Palmia city")
		flt
		characreate -1, CREATURE_ID_TRAINER, 30, 27
		cRole(rc) = ROLE_TRAINER
		sntrainer cnName(rc)
		flt
		characreate -1, CREATURE_ID_WIZARD, 32, 27
		cRole(rc) = ROLE_IDENTIFIER
		flt
		characreate -1, CREATURE_ID_INFORMER, 29, 28
		cRole(rc) = ROLE_INFORMER
		flt
		characreate -1, CREATURE_ID_GUARD2, 16, 5
		cRole(rc) = ROLE_GUARD
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_GUARD2, 16, 9
		cRole(rc) = ROLE_GUARD
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_GUARD2, 5, 3
		cRole(rc) = ROLE_GUARD
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_GUARD2, 8, 3
		cRole(rc) = ROLE_GUARD
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_GUARD2, 35, 14
		cRole(rc) = ROLE_GUARD
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_GUARD2, 38, 14
		cRole(rc) = ROLE_GUARD
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_GUARD2, 29, 2
		cRole(rc) = ROLE_GUARD
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_GUARD2, 19, 18
		cRole(rc) = ROLE_GUARD
		cAiCalm(rc) = 3
		flt
		characreate -1, CREATURE_ID_GUARD2, 22, 18
		cRole(rc) = ROLE_GUARD
		cAiCalm(rc) = 3
		repeat 5
			flt
			characreate -1, CREATURE_ID_CITIZEN, -3, 0
			cRole(rc) = ROLE_CITIZEN
			flt
			characreate -1, CREATURE_ID_CITIZEN2, -3, 0
			cRole(rc) = ROLE_CITIZEN
		loop
		repeat 4
			flt
			characreate -1, CREATURE_ID_GUARD2, -3, 0
			cRole(rc) = ROLE_GUARD
		loop
		gosub *label_3950
		repeat 25
			dbid = 0
			gosub *label_2163
			characreate -1, dbid, -3, 0
			if ( stat ) {
				gosub *label_4551
			}
		loop
	}
	if ( gArea  == AREA_LUMIEST ) {
		if ( gLevel  == 1 ) {
			mModerateCrowd = 40
			map_initcustom "lumiest"
			map_placeplayer
			mWall = 0
			if ( sqSewer ) {
				cell_featset 18, 45, tile_downstairs, CELL_FEATURE_DOWNSTAIRS, 20
			}
			flt
			characreate -1, CREATURE_ID_RENTON_THE_SUFFERING_WIZARD, 12, 24
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_BALZAK_THE_JANITOR, 21, 3
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_LEXUS_THE_MAGE_WATCHMAN, 5, 20
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_CLEANER, 28, 29
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_BARD, 41, 19
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_BARD, 32, 43
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_BARD, 29, 28
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_BARD, 16, 45
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_BARD, 13, 24
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_BARTENDER, 41, 42
			cRole(rc) = ROLE_BARTENDER
			flt
			characreate -1, CREATURE_ID_HEALER, 10, 16
			cRole(rc) = ROLE_HEALER
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 47, 30
			cRole(rc) = ROLE_SHOP_GENERAL, 10
			sngeneral cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 24, 47
			cRole(rc) = ROLE_SHOP_INN, 8
			sninn cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 37, 30
			cRole(rc) = ROLE_SHOP_ARMOR, 12
			snarmor cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 37, 12
			cRole(rc) = ROLE_SHOP_BAKERY, 9
			snbakery cnName(rc)
			cPic(rc) = xy2pic(6, 4)
			flt
			characreate -1, CREATURE_ID_WIZARD, 6, 15
			cRole(rc) = ROLE_SHOP_MAGIC, 11
			snmagic cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 33, 43
			cRole(rc) = ROLE_SHOP_TRADE, 12
			sntrade cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 47, 12
			cRole(rc) = ROLE_SHOP_FISH, 5
			snfish cnName(rc)
			flt
			characreate -1, CREATURE_ID_ELDER, 3, 38
			cRole(rc) = ROLE_MAYOR
			cnName(rc) = lang("ÉãÉ~ÉGÉXÉgÇÃ" + cnName(rc), cnName(rc) + " of Lumiest")
			flt
			characreate -1, CREATURE_ID_TRAINER, 21, 28
			cRole(rc) = ROLE_TRAINER
			sntrainer cnName(rc)
			flt
			characreate -1, CREATURE_ID_WIZARD, 21, 30
			cRole(rc) = ROLE_IDENTIFIER
			flt
			characreate -1, CREATURE_ID_INFORMER, 23, 38
			cRole(rc) = ROLE_INFORMER
			repeat 6
				flt
				characreate -1, CREATURE_ID_CITIZEN, -3, 0
				cRole(rc) = ROLE_CITIZEN
				flt
				characreate -1, CREATURE_ID_CITIZEN2, -3, 0
				cRole(rc) = ROLE_CITIZEN
			loop
			repeat 7
				flt
				characreate -1, CREATURE_ID_GUARD2, -3, 0
				cRole(rc) = ROLE_GUARD
			loop
			gosub *label_3950
			repeat 25
				dbid = 0
				gosub *label_2163
				characreate -1, dbid, -3, 0
				if ( stat ) {
					gosub *label_4551
				}
			loop
		}
		if ( gLevel  == 3 ) {
			mTileSet = MAP_TILESET_DUNGEON
			map_initcustom "mageguild"
			mField = MAP_FIELD_INDOOR
			mType = MAP_TYPE_VILLAGE
			mModerateCrowd = 25
			mMusic = MUSICLIST_MCRUIN
			mNoRenew = 0
			mdatan(0) = lang("ñÇèpémÉMÉãÉh", "Mages Guild")
			map_placeplayer
			flt
			characreate -1, CREATURE_ID_REVLUS_THE_MAGE_GUILDMASTER, 24, 3
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_WIZARD, 27, 8
			cRole(rc) = ROLE_SHOP_BOOK_RESERVE
			cnName(rc) = lang("ñÇñ@èëçÏâ∆ÇÃ" + cnName(rc), sncnv(cnName(rc)) + "the spell writer")
			flt
			characreate -1, CREATURE_ID_WIZARD, 22, 8
			cRole(rc) = ROLE_SHOP_MAGIC, 11
			snmagic cnName(rc)
			flt
			characreate -1, CREATURE_ID_HEALER, 3, 9
			cRole(rc) = ROLE_HEALER
			flt
			characreate -1, CREATURE_ID_TRAINER, 12, 6
			cRole(rc) = ROLE_TRAINER
			sntrainer cnName(rc)
			flt
			characreate -1, CREATURE_ID_WIZARD, 3, 3
			cRole(rc) = ROLE_IDENTIFIER
			repeat 16
				flt
				characreate -1, CREATURE_ID_MAGE_GUILD_MEMBER, -3, 0
			loop
		}
		if ( gLevel  == 20 ) {
			mTileSet = MAP_TILESET_DUNGEON
			map_initcustom "sqSewer"
			mField = MAP_FIELD_INDOOR
			mType = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
			mModerateCrowd = 0
			mMusic = MUSICLIST_MCPUTI
			mNoRenew = 1
			mdatan(0) = lang("ÉãÉ~ÉGÉXÉgâ∫êÖìπ", "The Sewer")
			put_questtarget
			gLevelStartOn = 1
			map_placeplayer
		}
	}
	if ( gArea  == AREA_YOWYN ) {
		if ( gLevel  == 1 ) {
			mModerateCrowd = 35
			map_initcustom "yowyn"
			map_placeplayer
			mWall = 0
			if ( sqCat ) {
				cell_featset 23, 22, tile_downstairs, CELL_FEATURE_DOWNSTAIRS, 3
			}
			flt
			characreate -1, CREATURE_ID_AINC_THE_NOVICE_KNIGHT, 3, 17
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_TAM_THE_CAT_HATER, 26, 11
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_GILBERT_THE_COLONEL, 14, 20
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 11, 5
			cRole(rc) = ROLE_SHOP_GENERAL, 10
			sngeneral cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 25, 8
			cRole(rc) = ROLE_SHOP_INN, 8
			sninn cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 7, 8
			cRole(rc) = ROLE_SHOP_GOODS, 8
			sngoods cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 14, 14
			cRole(rc) = ROLE_SHOP_TRADE, 12
			sntrade cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 35, 18
			cRole(rc) = ROLE_HORSE_MASTER
			cnName(rc) = lang("înâÆÇÃ" + cnName(rc), sncnv(cnName(rc)) + "the horse master")
			flt
			characreate -1, CREATURE_ID_LAME_HORSE, 33, 16
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_LAME_HORSE, 37, 19
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_YOWYN_HORSE, 34, 19
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_YOWYN_HORSE, 38, 16
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_ELDER, 3, 4
			cRole(rc) = ROLE_MAYOR
			cnName(rc) = lang("ÉàÉEÉBÉìÇÃ" + cnName(rc), cnName(rc) + " of Yowyn")
			flt
			characreate -1, CREATURE_ID_TRAINER, 20, 14
			cRole(rc) = ROLE_TRAINER
			sntrainer cnName(rc)
			flt
			characreate -1, CREATURE_ID_WIZARD, 24, 16
			cRole(rc) = ROLE_IDENTIFIER
			flt
			characreate -1, CREATURE_ID_INFORMER, 26, 16
			cRole(rc) = ROLE_INFORMER
			flt
			characreate -1, CREATURE_ID_GWEN_THE_INNOCENT, 14, 12
			cRole(rc) = ROLE_SPECIAL
			repeat 2
				flt
				characreate -1, CREATURE_ID_CITIZEN, -3, 0
				cRole(rc) = ROLE_CITIZEN
				flt
				characreate -1, CREATURE_ID_CITIZEN2, -3, 0
				cRole(rc) = ROLE_CITIZEN
			loop
			repeat 3
				flt
				characreate -1, CREATURE_ID_GUARD2, -3, 0
				cRole(rc) = ROLE_GUARD
			loop
			gosub *label_3950
			repeat 15
				dbid = 0
				gosub *label_2163
				characreate -1, dbid, -3, 0
				if ( stat ) {
					gosub *label_4551
				}
			loop
		}
		if ( gLevel  == 3 ) {
			mTileSet = MAP_TILESET_DUNGEON
			map_initcustom "sqcat"
			mField = MAP_FIELD_INDOOR
			mType = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
			mModerateCrowd = 0
			mMusic = MUSICLIST_MCPUTI
			mNoRenew = 1
			mdatan(0) = lang("É^ÉÄÇÃîLâÆï~", "Cat Mansion")
			put_questtarget
			map_placeplayer
		}
		if ( gLevel  == 4 ) {
			mTileSet = MAP_TILESET_DUNGEON
			map_initcustom "sqwar"
			mField = MAP_FIELD_OUTDOOR
			mType = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
			mModerateCrowd = 0
			mMusic = MUSICLIST_MCPUTI
			mNoRenew = 1
			mCanSave = 0
			mdatan(0) = lang("ñhâqê¸", "Battle Field")
			put_questtarget
			gLevelStartOn = 8
			map_placeplayer
			listmax = 0
			repeat 188, 57
				if ( cExist(cnt) == CHAR_STATE_ALIVE ) {
					if ( cbit(CHARA_BIT_QUEST_TARGET, cnt) == TRUE ) {
						list(0, listmax) = cnt
						listmax++
					}
				}
			loop
			repeat 30
				flt
				characreate -1, 233 + 2 * (cnt > 22), 11, 16
				cRelation(rc) = RELATION_ALLY
				cOrgRelation(rc) = RELATION_ALLY
				cAiAggro(rc) = 100
				p = list(0, rnd(listmax))
				lockon rc, p, 5
				cAiAggro(p) = 100
				lockon p, rc, 6
			loop
			noaggrorefresh = 1
		}
	}
	if ( gArea  == AREA_NOYEL ) {
		mModerateCrowd = 35
		map_initcustom "noyel"
		map_placeplayer
		mWall = 0
		flt
		characreate -1, CREATURE_ID_EBON_THE_FIRE_GIANT, 46, 18
		fireGiantId = rc
		cRole(rc) = ROLE_SPECIAL
		flt
		characreate -1, CREATURE_ID_MOYER_THE_CROOKED, 47, 18
		cRole(rc) = ROLE_SHOP_NOYEL
		flt
		characreate -1, 35, 47, 20
		cRole(rc) = ROLE_SPECIAL
		flt
		characreate -1, 35, 45, 19
		cRole(rc) = ROLE_SPECIAL
		flt
		characreate -1, 35, 49, 20
		cRole(rc) = ROLE_SPECIAL
		flt
		characreate -1, CREATURE_ID_BARD, 28, 22
		cRole(rc) = ROLE_SPECIAL
		flt
		characreate -1, CREATURE_ID_LONELY_PAEL, 19, 3
		cRole(rc) = ROLE_SPECIAL
		if ( sqMother != 1001 ) {
			flt
			characreate -1, CREATURE_ID_PAELS_MOM_LILY, 19, 2
			cRole(rc) = ROLE_SPECIAL
		}
		flt
		characreate -1, CREATURE_ID_BARTENDER, 40, 33
		cRole(rc) = ROLE_BARTENDER
		flt
		characreate -1, CREATURE_ID_HEALER, 44, 6
		cRole(rc) = ROLE_HEALER
		flt
		characreate -1, CREATURE_ID_SISTER, 44, 3
		cRole(rc) = ROLE_SISTER
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 19, 31
		cRole(rc) = ROLE_SHOP_ARMOR, 12
		snarmor cnName(rc)
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 11, 31
		cRole(rc) = ROLE_SHOP_GENERAL, 10
		sngeneral cnName(rc)
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 38, 34
		cRole(rc) = ROLE_SHOP_INN, 8
		sninn cnName(rc)
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 5, 27
		cRole(rc) = ROLE_SHOP_BAKERY, 9
		snbakery cnName(rc)
		cPic(rc) = xy2pic(6, 4)
		flt
		characreate -1, CREATURE_ID_WIZARD, 56, 5
		cRole(rc) = ROLE_SHOP_MAGIC, 11
		snmagic cnName(rc)
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 39, 35
		cRole(rc) = ROLE_SHOP_TRADE, 12
		sntrade cnName(rc)
		flt
		characreate -1, CREATURE_ID_ELDER, 5, 18
		cRole(rc) = ROLE_MAYOR
		cnName(rc) = lang("ÉmÉCÉGÉãÇÃ" + cnName(rc), cnName(rc) + " of Noyel")
		flt
		characreate -1, CREATURE_ID_TRAINER, 18, 20
		cRole(rc) = ROLE_TRAINER
		sntrainer cnName(rc)
		flt
		characreate -1, CREATURE_ID_WIZARD, 4, 33
		cRole(rc) = ROLE_IDENTIFIER
		flt
		characreate -1, CREATURE_ID_INFORMER, 6, 33
		cRole(rc) = ROLE_INFORMER
		repeat 3
			flt
			characreate -1, CREATURE_ID_CITIZEN, rnd(32), rnd(mHeight)
			cRole(rc) = ROLE_CITIZEN
			flt
			characreate -1, CREATURE_ID_CITIZEN2, rnd(32), rnd(mHeight)
			cRole(rc) = ROLE_CITIZEN
		loop
		repeat 3
			flt
			characreate -1, CREATURE_ID_GUARD2, rnd(32), rnd(mHeight)
			cRole(rc) = ROLE_GUARD
		loop
		gosub *label_3950
		repeat 8
			gosub *label_2163
			characreate -1, 35, rnd(11) + 25, rnd(5) + 15
			if ( stat ) {
				gosub *label_4551
				cRole(rc) = ROLE_SPECIAL
			}
		loop
		repeat 20
			dbid = 0
			gosub *label_2163
			characreate -1, dbid, rnd(55), rnd(mHeight)
			if ( stat ) {
				gosub *label_4551
			}
		loop
	}
	if ( gArea  == AREA_PORT_KAPUL ) {
		if ( gLevel  == 1 ) {
			mModerateCrowd = 40
			map_initcustom "kapul"
			map_placeplayer
			mWall = 0
			flt
			characreate -1, CREATURE_ID_RAPHAEL_THE_WOMANIZER, 15, 18
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_ARNORD_THE_INJURED_SOLDIER, 36, 27
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_ICOLLE_THE_BIOLOGIST, 5, 26
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_DORIA_THE_FIGHTER_WATCHMAN, 29, 3
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_CLEANER, 24, 21
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_CLEANER, 12, 26
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_CLEANER, 8, 11
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_BARD, 8, 14
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 16, 17
			cRole(rc) = ROLE_SHOP_TRADE, 12
			sntrade cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 23, 7
			cRole(rc) = ROLE_SHOP_ARMOR, 12
			snarmor cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 32, 14
			cRole(rc) = ROLE_SHOP_GENERAL, 10
			sngeneral cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 22, 14
			cRole(rc) = ROLE_SHOP_GOODS, 10
			sngoods cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 16, 25
			cRole(rc) = ROLE_SHOP_BLACKMARKET, 10
			snblack cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 17, 28
			cRole(rc) = ROLE_SHOP_FOOD, 10
			snfood cnName(rc)
			flt
			characreate -1, CREATURE_ID_WIZARD, 22, 22
			cRole(rc) = ROLE_SHOP_MAGIC, 11
			snmagic cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 35, 3
			cRole(rc) = ROLE_SHOP_INN, 8
			sninn cnName(rc)
			flt
			characreate -1, CREATURE_ID_BARTENDER, 15, 15
			cRole(rc) = ROLE_BARTENDER
			flt
			characreate -1, CREATURE_ID_ARENA_MASTER, 26, 3
			cRole(rc) = ROLE_ARENA_MASTER
			flt
			characreate -1, CREATURE_ID_MASTER_OF_PET_ARENA, 25, 4
			cRole(rc) = ROLE_PET_ARENA_MASTER
			flt
			characreate -1, CREATURE_ID_ELDER, 8, 12
			cRole(rc) = ROLE_MAYOR
			cnName(rc) = lang("É|Å[ÉgÅEÉJÉvÅ[ÉãÇÃ" + cnName(rc), cnName(rc) + " of Port Kapul")
			flt
			characreate -1, CREATURE_ID_TRAINER, 16, 4
			cRole(rc) = ROLE_TRAINER
			sntrainer cnName(rc)
			flt
			characreate -1, CREATURE_ID_WIZARD, 14, 4
			cRole(rc) = ROLE_IDENTIFIER
			flt
			characreate -1, CREATURE_ID_INFORMER, 17, 5
			cRole(rc) = ROLE_INFORMER
			flt
			characreate -1, CREATURE_ID_HEALER, 27, 11
			cRole(rc) = ROLE_HEALER
			repeat 2
				flt
				characreate -1, CREATURE_ID_CITIZEN, -3, 0
				cRole(rc) = ROLE_CITIZEN
				flt
				characreate -1, CREATURE_ID_CITIZEN2, -3, 0
				cRole(rc) = ROLE_CITIZEN
			loop
			repeat 4
				flt
				characreate -1, CREATURE_ID_SAILOR, -3, 0
				cRole(rc) = ROLE_CITIZEN
			loop
			repeat 5
				flt
				characreate -1, CREATURE_ID_GUARD, -3, 0
				cRole(rc) = ROLE_GUARD
			loop
			flt
			characreate -1, CREATURE_ID_CAPTAIN, 7, 6
			cRole(rc) = ROLE_CITIZEN
			gosub *label_3950
			repeat 20
				gosub *label_2163
				characreate -1, CREATURE_ID_BUG, -3, 0
				if ( stat ) {
					gosub *label_4551
				}
			loop
		}
		if ( gLevel  == 3 ) {
			mTileSet = MAP_TILESET_DUNGEON
			map_initcustom "fighterguild"
			mField = MAP_FIELD_INDOOR
			mType = MAP_TYPE_VILLAGE
			mModerateCrowd = 25
			mMusic = MUSICLIST_MCRUIN
			mNoRenew = 0
			mdatan(0) = lang("êÌémÉMÉãÉh", "Fighters Guild")
			map_placeplayer
			flt
			characreate -1, CREATURE_ID_FRAY_THE_FIGHTER_GUILDMASTER, 27, 4
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_HEALER, 28, 10
			cRole(rc) = ROLE_HEALER
			flt
			characreate -1, CREATURE_ID_TRAINER, 15, 10
			cRole(rc) = ROLE_TRAINER
			sntrainer cnName(rc)
			flt
			characreate -1, CREATURE_ID_WIZARD, 14, 18
			cRole(rc) = ROLE_IDENTIFIER
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 29, 15
			cRole(rc) = ROLE_SHOP_ARMOR, 12
			snarmor cnName(rc)
			repeat 16
				flt
				characreate -1, CREATURE_ID_FIGHTER_GUILD_MEMBER, -3, 0
			loop
		}
		if ( gLevel  == 25 ) {
			mTileSet = MAP_TILESET_DUNGEON
			map_initcustom "sqkamikaze"
			mField = MAP_FIELD_OUTDOOR
			mType = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
			mModerateCrowd = 0
			mMusic = MUSICLIST_MCPUTI
			mNoRenew = 1
			mCanSave = 0
			mdatan(0) = lang("êÌèÍ", "Doom Ground")
			gLevelStartOn = 4
			flagKamikaze = 0
			map_placeplayer
			repeat 10
				flt
				characreate -1, CREATURE_ID_PALMIAN_ELITE_SOLDIER, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
				cRelation(rc) = RELATION_ALLY
				cOrgRelation(rc) = RELATION_ALLY
			loop
			noaggrorefresh = 1
		}
	}
	if ( gArea  == MAX_AREA_OLD ) {
		mModerateCrowd = 40
		map_initcustom "nc_crippletown"
		mdatan(0) = lang("ÉNÉäÉbÉvÉãÉ^ÉEÉì", "Town of Void")
		mType = MAP_TYPE_TOWN
		areaRestorePos(gArea ) = 1
		mTimeScale = 10000
		mField = MAP_FIELD_OUTDOOR
		mWall = 0
		mNoRenew = 0
		mapstartx = 7
		mapstarty = 35
		areaType(gArea ) = MAP_TYPE_TOWN
		mMusic = 94
		map_placeplayer
		flt
		characreate -1, CREATURE_ID_HEALER, 12, 22
		cRole(rc) = ROLE_HEALER
		cAiCalm(rc) = 2
		flt
		characreate -1, CREATURE_ID_WIZARD, 4, 8
		cRole(rc) = ROLE_SHOP_MAGIC, 40
		cAiCalm(rc) = 2
		snmagic cnName(rc)
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 15, 4
		cAiCalm(rc) = 3
		cRole(rc) = ROLE_SHOP_BLACKMARKET, 1000
		cRelation(rc) = RELATION_NEUTRAL
		cOrgRelation(rc) = RELATION_NEUTRAL
		cAiCalm(rc) = 2
		snblack cnName(rc)
		cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 17, 4
		cAiCalm(rc) = 3
		cRole(rc) = ROLE_SHOP_BLACKMARKET, 1000
		cRelation(rc) = RELATION_NEUTRAL
		cOrgRelation(rc) = RELATION_NEUTRAL
		cAiCalm(rc) = 2
		snblack cnName(rc)
		cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
		flt
		characreate -1, CREATURE_ID_FAIRY, 17, 8
		cQuality(rc) = FIX_QUALITY_GODLY
		cRelation(rc) = RELATION_NEUTRAL
		cOrgRelation(rc) = RELATION_NEUTRAL
		cRole(rc) = ROLE_SHOP_MATERIAL, 10
		cPersonality(rc) = 0
		cTone(rc) = 6
		cAiCalm(rc) = 2
		cnName(rc) = lang("ÅwëfçﬁîÃîÑìXÇÃå©èKÇ¢ódê∏Åx", "Apprentice Fairy")
		faction(rc) = ""
		addfaction rc, "family,man"
		addfaction rc, "align,neutral"
		addfaction rc, "god,eyth"
		flt
		characreate -1, CREATURE_ID_ROGUE_WIZARD, 16, 17
		cRelation(rc) = RELATION_NEUTRAL
		cOrgRelation(rc) = RELATION_NEUTRAL
		cRole(rc) = ROLE_SHOP_SPELLBOOK, 20
		cAiCalm(rc) = 2
		cnName(rc) = lang("ñÇñ@èëêÍñÂìXÇÃÉãÉCÉGÉX", "Ruies the magic vendor")
		faction(rc) = ""
		addfaction rc, "family,man"
		addfaction rc, "align,neutral"
		addfaction rc, "god,eyth"
		flt
		characreate -1, CREATURE_ID_WARRIOR_OF_ELEA, 9, 8
		cRole(rc) = ROLE_RETURNER
		cRelation(rc) = RELATION_NEUTRAL
		cOrgRelation(rc) = RELATION_NEUTRAL
		cAiCalm(rc) = 2
		cnName(rc) = lang("ãAä“ë„çsÇÃÉNÉBÉi", "Cuina the home warper")
		faction(rc) = ""
		addfaction rc, "family,man"
		addfaction rc, "align,neutral"
		addfaction rc, "god,eyth"
		flt
		characreate -1, CREATURE_ID_CITIZEN, 34, 7
		cRelation(rc) = RELATION_NEUTRAL
		cOrgRelation(rc) = RELATION_NEUTRAL
		cRole(rc) = ROLE_SHOP_APHRODISIAC, 1000
		cAiCalm(rc) = 2
		cnName(rc) = lang("õZñÚè§êlÇÃÉAÉ|Éì", "Apon the aphrodisiac vendor")
		flt
		characreate -1, CREATURE_ID_CITIZEN, 45, 7
		cRelation(rc) = RELATION_NEUTRAL
		cOrgRelation(rc) = RELATION_NEUTRAL
		cRole(rc) = ROLE_SHOP_DOUJINSHI, 1000
		cAiCalm(rc) = 2
		cnName(rc) = lang("ìØêléèè§êlÇÃÉhÉäÅ[", "Dory the doujinshi vendor")
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 40, 7
		cRole(rc) = ROLE_SLAVER
		cnName(rc) = lang("ì‰ÇÃìzóÍè©ïwè§êl", "The slave whole master")
		flt
		characreate -1, CREATURE_ID_BARTENDER, 7, 10
		cRole(rc) = ROLE_BARTENDER
		flt
		initlv = 50
		characreate -1, CREATURE_ID_FAIRY, 15, 8
		cQuality(rc) = FIX_QUALITY_GODLY
		cRelation(rc) = RELATION_NEUTRAL
		cOrgRelation(rc) = RELATION_NEUTRAL
		cSex(rc) = 1
		cPic(rc) = xy2pic(5, 15)
		cnName(rc) = lang("ódê∏ÇÃíbñËémÅwÉãÅ[ÉWÉBÅx", "<lurgy> the metallurgy fairy")
		cRole(rc) = 3200
		faction(rc) = ""
		addfaction rc, "family,man"
		addfaction rc, "align,neutral"
		addfaction rc, "god,eyth"
		addfaction rc, "lurgy"
		flt
		characreate -1, CREATURE_ID_GUILD_TRAINER, 9, 4
		cRole(rc) = 3201
		cnName(rc) = lang("ÉXÉyÉVÉÉÉãÉMÉãÉhÉgÉåÉCÉiÅ[", "Spacial Guild Trainer")
		flt
		initlv = 3000
		fixlv = FIX_QUALITY_GODLY
		characreate -1, CREATURE_ID_FAIRY, 41, 22
		cRelation(rc) = RELATION_NEUTRAL
		cOrgRelation(rc) = RELATION_NEUTRAL
		cSex(rc) = 1
		cRole(rc) = ROLE_SHOPKEEPER
		cnName(rc) = lang("ódê∏è©ïwÅwÉtÉBÅ[Åx", "<Fea> the fairy whole")
		faction(rc) = ""
		addfaction rc, "whole"
		addfaction rc, "family,man"
		addfaction rc, "align,neutral"
		addfaction rc, "god,eyth"
		flt
		initlv = 3000
		fixlv = FIX_QUALITY_GODLY
		characreate -1, CREATURE_ID_YOUNGER_SISTER, 34, 19
		cRelation(rc) = RELATION_NEUTRAL
		cOrgRelation(rc) = RELATION_NEUTRAL
		cSex(rc) = 1
		cRole(rc) = ROLE_SHOPKEEPER
		cnName(rc) = lang("è©ïwÇ»ñÖÅwÉVÉXÅx", "<Sis> the sister whole")
		faction(rc) = ""
		addfaction rc, "whole"
		addfaction rc, "family,man"
		addfaction rc, "align,neutral"
		addfaction rc, "god,eyth"
		flt
		initlv = 3000
		fixlv = FIX_QUALITY_GODLY
		characreate -1, CREATURE_ID_PROSTITUTE, 34, 26
		cRelation(rc) = RELATION_NEUTRAL
		cOrgRelation(rc) = RELATION_NEUTRAL
		cSex(rc) = 1
		cRole(rc) = ROLE_SHOPKEEPER
		cnName(rc) = lang("è©ïwÅwÉtÉHÅ[ÉäÅx", "<Foory> the whole")
		faction(rc) = ""
		addfaction rc, "whole"
		addfaction rc, "family,man"
		addfaction rc, "align,neutral"
		addfaction rc, "god,eyth"
		flt
		initlv = 3000
		fixlv = FIX_QUALITY_GODLY
		characreate -1, CREATURE_ID_YOUNGER_CAT_SISTER, 35, 13
		cRelation(rc) = RELATION_NEUTRAL
		cOrgRelation(rc) = RELATION_NEUTRAL
		cSex(rc) = 1
		cRole(rc) = ROLE_SHOPKEEPER
		cnName(rc) = lang("è©ïwÇ»ñÖîLÅwÉLÉÉÉVÅ[Åx", "<Casy> the cat sister whole")
		faction(rc) = ""
		addfaction rc, "whole"
		addfaction rc, "family,man"
		addfaction rc, "align,neutral"
		addfaction rc, "god,eyth"
		flt
		initlv = 3000
		fixlv = FIX_QUALITY_GODLY
		characreate -1, CREATURE_ID_YOUNG_LADY, 44, 13
		cRelation(rc) = RELATION_NEUTRAL
		cOrgRelation(rc) = RELATION_NEUTRAL
		cSex(rc) = 1
		cRole(rc) = ROLE_SHOPKEEPER
		cnName(rc) = lang("è©ïwÇ»Ç®èÏólÅwÉfÉBÉåÅ[Åx", "<Dele> the Lady whole")
		faction(rc) = ""
		addfaction rc, "whole"
		addfaction rc, "family,man"
		addfaction rc, "align,neutral"
		addfaction rc, "god,eyth"
		map_generateitemifneeded 171, 7, 16
		if ( stat != 0 ) {
			iParam1(ci) = 0
			iParam2(ci) = findgodid("Dorein the Tipsies")
			iParam3(ci) = creategoduid(iParam2(ci))
			iProperty(ci) = PROP_NPC
		}
		gosub *label_3950
	}
	if ( gArea  == AREA_VERNIS ) {
		if ( gLevel  == 1 ) {
			mModerateCrowd = 40
			map_initcustom "vernis"
			map_placeplayer
			mWall = 0
			if ( sqRogue ) {
				cell_featset 48, 5, tile_downstairs, CELL_FEATURE_DOWNSTAIRS, 4
			}
			flt
			characreate -1, CREATURE_ID_WHOM_DWELL_IN_THE_VANITY, 39, 3
			flt
			characreate -1, CREATURE_ID_LOYTER_THE_CRIMSON_OF_ZANAN, 42, 23
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_MICHES_THE_APPRENTICE, 24, 5
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_SHENA_THE_DRAW, 40, 24
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_DUNGEON_CLEANER, 40, 25
			cRole(rc) = ROLE_SPECIAL
			modnpcmemory 1, rc, -1
			flt
			characreate -1, CREATURE_ID_RILIAN_THE_DOG_LOVER, 30, 5
			cRole(rc) = ROLE_SPECIAL
			flt
			characreate -1, CREATURE_ID_BARD, 42, 24
			cRole(rc) = ROLE_SPECIAL
			if ( sqDog == 1000 ) {
				flt
				characreate -1, CREATURE_ID_POPPY_THE_LITTLE_DOG, 31, 4
				cRole(rc) = ROLE_SPECIAL
			}
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 47, 9
			cRole(rc) = ROLE_SHOP_FISH, 5
			snfish cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 14, 12
			cRole(rc) = ROLE_SHOP_ARMOR, 12
			snarmor cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 39, 27
			cRole(rc) = ROLE_SHOP_TRADE, 12
			sntrade cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 10, 15
			cRole(rc) = ROLE_SHOP_GENERAL, 10
			sngeneral cnName(rc)
			flt
			characreate -1, CREATURE_ID_WIZARD, 7, 26
			cRole(rc) = ROLE_SHOP_MAGIC, 11
			snmagic cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 14, 25
			cRole(rc) = ROLE_SHOP_INN, 8
			sninn cnName(rc)
			flt
			characreate -1, CREATURE_ID_SHOPKEEPER, 22, 26
			cRole(rc) = ROLE_SHOP_BAKERY, 9
			snbakery cnName(rc)
			cPic(rc) = xy2pic(6, 4)
			flt
			characreate -1, CREATURE_ID_WIZARD, 28, 16
			cRole(rc) = ROLE_IDENTIFIER
			flt
			characreate -1, CREATURE_ID_BARTENDER, 38, 27
			cRole(rc) = ROLE_BARTENDER
			flt
			characreate -1, CREATURE_ID_HEALER, 6, 25
			cRole(rc) = ROLE_HEALER
			flt
			characreate -1, CREATURE_ID_ELDER, 10, 7
			cRole(rc) = ROLE_MAYOR
			cnName(rc) = lang("ÉîÉFÉãÉjÅ[ÉXÇÃ" + cnName(rc), cnName(rc) + " of Vernis")
			flt
			characreate -1, CREATURE_ID_TRAINER, 27, 16
			cRole(rc) = ROLE_TRAINER
			sntrainer cnName(rc)
			flt
			characreate -1, CREATURE_ID_INFORMER, 25, 16
			cRole(rc) = ROLE_INFORMER
			repeat 4
				flt
				characreate -1, CREATURE_ID_CITIZEN, -3, 0
				cRole(rc) = ROLE_CITIZEN
				flt
				characreate -1, CREATURE_ID_CITIZEN2, -3, 0
				cRole(rc) = ROLE_CITIZEN
			loop
			repeat 4
				flt
				characreate -1, CREATURE_ID_GUARD2, -3, 0
				cRole(rc) = ROLE_GUARD
			loop
			gosub *label_3950
			repeat 25
				dbid = 0
				gosub *label_2163
				characreate -1, dbid, -3, 0
				if ( stat ) {
					gosub *label_4551
				}
			loop
		}
		if ( gLevel  == 3 ) {
			mTileSet = MAP_TILESET_DUNGEON
			map_initcustom "puti"
			mField = MAP_FIELD_INDOOR
			mType = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
			mModerateCrowd = 0
			mMusic = MUSICLIST_MCPUTI
			mNoRenew = 1
			mdatan(0) = lang("ÉXÉâÉCÉÄÇÃçBìπ", "The Mine")
			put_questtarget
			map_placeplayer
		}
		if ( gLevel  == 4 ) {
			mTileSet = MAP_TILESET_DUNGEON
			map_initcustom "sqrogue"
			mField = MAP_FIELD_INDOOR
			mType = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
			mModerateCrowd = 0
			mMusic = MUSICLIST_MCPUTI
			mNoRenew = 1
			mdatan(0) = lang("ìêëØÇÃâBÇÍâ∆", "Robber's Hideout")
			put_questtarget
			map_placeplayer
		}
		if ( gLevel  == 5 ) {
			mTileSet = MAP_TILESET_DUNGEON
			map_initcustom "sqNightmare"
			mField = MAP_FIELD_INDOOR
			mType = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
			mModerateCrowd = 0
			mMusic = MUSICLIST_MCPUTI
			mNoRenew = 1
			mdatan(0) = lang("ê∂ëÃï∫äÌé¿å±èÍ", "Test Site")
			put_questtarget
			gLevelStartOn = 7
			mapstartx = 6
			mapstarty = 27
			map_placeplayer
		}
	}
	if ( gArea  == AREA_WILDERNESS ) {
		mWidth = 34
		mHeight = 22
		mModerateCrowd = 4
		mWall = 0
		map_initialize
		repeat mHeight
			p = cnt
			repeat mWidth
				mapId(cnt, p) = tile_default + (rnd(tile_default(2)) == 0) * rnd(tile_default(1))
			loop
		loop
		mdatan(0) = ""
		if ( 4 <= gWorldTile & gWorldTile < 9 ) {
			mdatan(0) = lang("êX", "Forest")
			map_randomtile 8, 25
			map_randomtile 0, 10
			map_randomtile 1, 4
			map_randomtile 4, 2
			repeat 20 + rnd(20)
				flt
				flttypemajor = FILTER_ENVIRONMENT
				itemcreate -1, ITEM_ID_DUMMY, -1, -1, 0
				iProperty(ci) = PROP_NPC
				mapId(iX(ci), iY(ci)) = xy2pic(0, 0)
			loop
		}
		if ( 264 <= gWorldTile & gWorldTile < 363 ) {
			mdatan(0) = lang("êÖè„", "Sea")
		}
		if ( 9 <= gWorldTile & gWorldTile < 13 ) {
			mdatan(0) = lang("ëêå¥", "Grassland")
			map_randomtile 9, 10
			map_randomtile 10, 10
			map_randomtile 0, 30
			map_randomtile 1, 4
			map_randomtile 4, 2
			map_randomtile 3, 2
			map_randomtile 4, 2
			map_randomtile 5, 2
			repeat 10 + rnd(10)
				flt
				flttypemajor = FILTER_ENVIRONMENT
				itemcreate -1, ITEM_ID_DUMMY, -1, -1, 0
				iProperty(ci) = PROP_NPC
			loop
		}
		if ( 13 <= gWorldTile & gWorldTile < 17 ) {
			mdatan(0) = lang("çrñÏ", "Desert")
			map_randomtile 18, 25
			map_randomtile 17, 10
			map_randomtile 19, 2
			map_randomtile 20, 4
			map_randomtile 21, 2
			repeat 4 + rnd(4)
				flt
				itemcreate -1, ITEM_ID_TREE_DEAD_TREE, -1, -1, 0
				iProperty(ci) = PROP_NPC
			loop
		}
		if ( chipm(CHIPM_ROLE, gWorldTile) == MAP_CHIP_ROLE_SNOW ) {
			mdatan(0) = lang("ê·å¥", "Snow Field")
			map_randomtile 57, 4
			map_randomtile 56, 4
			map_randomtile 49, 2
			map_randomtile 46, 1
			map_randomtile 47, 1
			map_randomtile 48, 1
			map_randomtile 51, 1
			repeat 3 + rnd(5)
				flt
				flttypemajor = FILTER_ENVIRONMENT
				fltselect = 8
				itemcreate -1, ITEM_ID_DUMMY, -1, -1, 0
				iProperty(ci) = PROP_NPC
			loop
		}
		if ( mdatan(0) == "" ) {
			mdatan(0) = lang("ïΩín", "Plain Field")
			map_randomtile 1, 10
			map_randomtile 2, 2
			map_randomtile 3, 2
			map_randomtile 4, 2
			map_randomtile 5, 2
			map_randomtile 6, 2
			repeat 5 + rnd(5)
				flt
				flttypemajor = FILTER_ENVIRONMENT
				itemcreate -1, ITEM_ID_DUMMY, -1, -1, 0
				iProperty(ci) = PROP_NPC
			loop
		}
		map_placeplayer
		if ( 264 <= gWorldTile & gWorldTile < 363 ) {
		}
		else {
			repeat 4 + rnd(5)
				flt
				flttypeminor = FILTER_JUNK
				itemcreate -1, ITEM_ID_DUMMY, -1, -1, 0
			loop
		}
		if ( encounter == ENCOUNTER_NONE ) {
			repeat mModerateCrowd + 1
				gosub *label_2163
				flt
				characreate -1, CREATURE_ID_BUG, -3, 0
				if ( stat ) {
					gosub *label_4551
				}
			loop
		}
		if ( encounter == 6 ) {
			mModerateCrowd = 0
			flt
			characreate -1, CREATURE_ID_SILVER_EYED_WITCH_2, 14, 11
			flt
			characreate -1, CREATURE_ID_TOWN_CHILD, 14, 11
			evadd EVENT_ROGUE
		}
		if ( encounter == 5 ) {
			mModerateCrowd = 0
			enemylim = 3 + rnd(6)
			enemycount = 0
			repeat 50
				if ( enemycount == enemylim ) {
					break
				}
				flt calcobjlv(difficulty() * 3 / 2 + 3), 4 + rnd(2)
				initlv = encounterlv / 3 * 2 + rnd(10)
				characreate MAX_CHARA_NC, CREATURE_ID_BUG, -3, 0
				if ( cRelation(rc) != RELATION_ENEMY | cOrgRelation(rc) != RELATION_ENEMY ) {
					continue
				}
				if ( cId(rc) == CREATURE_ID_PLATINA_BELL | cId(rc) == CREATURE_ID_GOLD_BELL | cId(rc) == CREATURE_ID_LITTLE_GIRL ) {
					continue
				}
				cnName(rc) += " Lv" + cLevel(rc)
				relocate_chara 56, -1
				modnpcmemory 1, rc, 1
				cHP(rc) = cMHP(rc)
				cMP(rc) = cMMP(rc)
				cSP(rc) = cMSP(rc)
				enemycount++
			loop
			put_questtarget
			repeat 6 + rnd(6)
				flt
				characreate -1, 360 + rnd(362 - 360 + 1), 14, 11
			loop
			gdatan(GDATAN_TEAM2) = random_title(2)
			evadd 103
		}
		if ( encounter == ENCOUNTER_ROGUE ) {
			mModerateCrowd = 0
			if ( rnd(10) == 0 | seasonal_check(SEASON_YOUNGER_SISTERS_DAY, FALSE) ) {
				ccbk = cc
				flt
				initlv = encounterlv
				characreate -1, CREATURE_ID_YOUNGER_SISTERS_ROGUE_BOSS, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
				cc = rc
				repeat 2 + rnd(2)
					flt
					initlv = encounterlv + rnd(10)
					characreate -1, CREATURE_ID_YOUNGER_SISTERS_ROGUE_WARRIOR, 14, 11
					cnName(rc) += " Lv" + cLevel(rc)
					addfaction rc, "pet," + cc
					ocAIStrategy(rc) = AI_STRATEGY_DEFEND_ME
					ocAIDistance(rc) = 1
				loop
				repeat 2 + rnd(2)
					flt
					initlv = encounterlv + rnd(10)
					characreate -1, CREATURE_ID_YOUNGER_SISTERS_ROGUE_ARCHER, 14, 11
					cnName(rc) += " Lv" + cLevel(rc)
					addfaction rc, "pet," + cc
					ocAIStrategy(rc) = AI_STRATEGY_DEFEND_ME
					ocAIDistance(rc) = 1
				loop
				repeat 2 + rnd(2)
					flt
					initlv = encounterlv + rnd(10)
					characreate -1, CREATURE_ID_YOUNGER_SISTERS_ROGUE_WIZARD, 14, 11
					cnName(rc) += " Lv" + cLevel(rc)
					addfaction rc, "pet," + cc
					ocAIStrategy(rc) = AI_STRATEGY_DEFEND_ME
				loop
				cc = ccbk
			}
			else {
				ccbk = cc
				flt
				initlv = encounterlv
				characreate -1, CREATURE_ID_ROGUE_BOSS, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
				cc = rc
				repeat 6 + rnd(6)
					flt
					initlv = encounterlv + rnd(10)
					characreate -1, 303 + rnd(305 - 303 + 1), 14, 11
					if ( stat ) {
						cnName(rc) += " Lv" + cLevel(rc)
						addfaction rc, "pet," + cc
						ocAIStrategy(rc) = AI_STRATEGY_DEFEND_ME
						if ( cId(rc) != CREATURE_ID_ROGUE_WIZARD ) {
							ocAIDistance(rc) = 1
						}
					}
				loop
				cc = ccbk
			}
			gdatan(GDATAN_TEAM2) = random_title(2)
			evadd EVENT_ROGUE
		}
		if ( encounter == ENCOUNTER_ASSASSIN ) {
			mModerateCrowd = 0
			mType = MAP_TYPE_QUEST
			rq = encounterref
			gQuest = QUEST_TYPE_ESCORT, 1, rq, 1
			p = rnd(3) + 5
			repeat p
				flt qLevel(rq), FIX_QUALITY_GREAT
				characreate -1, CREATURE_ID_BUG, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
				if ( stat != 0 ) {
					cAiAggro(rc) = 30
					cRelation(rc) = RELATION_ENEMY
					cOrgRelation(rc) = RELATION_ENEMY
				}
			loop
		}
		if ( encounter == ENCOUNTER_MERCHANT ) {
			if ( rnd(20) == 0 | seasonal_check(SEASON_YOUNGER_SISTERS_DAY, FALSE) ) {
				flt
				initlv = difficulty() * 2 / 3
				characreate -1, CREATURE_ID_YOUNGER_SISTER2, 10, 11
				cRole(rc) = ROLE_SHOP_WANDER, encounterlv
				cnName(rc) = lang("çsè§" + cnName(rc), sncnv(cnName(rc)) + "the wandering younger sister vendor")
				generatemoney rc
				repeat encounterlv / 2 + 1
					r1 = rc
					r2 = 1
					gosub *label_1588
				loop
				evadd EVENT_SHOP_WANDER
			}
			else {
				encounterlv = limit(cFame(CHARA_PLAYER) / 100, 10, 1000)
				ccbk = cc
				flt
				initlv = limitmin(encounterlv / 2 + 1, 35)
				characreate -1, CREATURE_ID_SHOPKEEPER, 10, 11
				cRole(rc) = ROLE_SHOP_WANDER, encounterlv
				cnName(rc) = lang("çsè§êlÇÃ" + cnName(rc), sncnv(cnName(rc)) + "the wandering vendor")
				generatemoney rc
				evadd EVENT_SHOP_WANDER
				cc = rc
				repeat 6 + rnd(6)
					flt
					initlv = encounterlv + rnd(10)
					characreate -1, 159 + rnd(161 - 159 + 1), 14, 11
					if ( stat ) {
						cRole(rc) = ROLE_SHOP_GUARD
						cnName(rc) += " Lv" + cLevel(rc)
						addfaction rc, "pet," + cc
						ocAIStrategy(rc) = AI_STRATEGY_DEFEND_ME
						if ( cId(rc) != CREATURE_ID_MERCENARY_WIZARD ) {
							ocAIDistance(rc) = 1
						}
					}
				loop
				cc = ccbk
			}
		}
		if ( encounter == ENCOUNTER_ENEMY ) {
			p = rnd(9)
			if ( cFame(CHARA_PLAYER) <= 1000 ) {
				p = rnd(3)
			}
			repeat 2 + p
				flt calcobjlv(encounterlv), calcfixlv(FIX_QUALITY_GOOD)
				if ( gWeather == WEATHER_ETHER ) {
					if ( 33 <= gWorldTile & gWorldTile < 66 ) {
					}
					else {
						if ( rnd(3) == 0 ) {
							fixlv = FIX_QUALITY_GODLY
						}
					}
				}
				if ( cnt < 4 ) {
					characreate -1, CREATURE_ID_BUG, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
				}
				else {
					characreate -1, CREATURE_ID_BUG, -3, 0
				}
				cAiAggro(rc) = 30
			loop
		}
		encounter = ENCOUNTER_NONE
	}
	if ( gArea  == AREA_VOID ) {
		gosub *map_randomDungeon
		if ( gVoidBoss == 0 ) {
			gVoidBoss = areaMinLevel(gArea ) + 4
		}
		if ( gVoidBoss <= gLevel  ) {
			evadd EVENT_GOD_INSIDE_RAND_BOSS_2
		}
		else {
			areaBoss(gArea ) = 0
		}
	}
	if ( gArea  == 210 ) {
		gosub *map_randomDungeon
		if ( ncgDeepestAbyssFloor == 0 ) {
			ncgDeepestAbyssFloor = areaMinLevel(gArea ) - 49
		}
		if ( gLevel  == 1 ) {
			ncgDeepestAbyssFloorThisTime = gLevel 
		}
		if ( (gLevel  + 1) \ 5 == 0 & gLevel  != 1 & ncgDeepestAbyssFloorThisTime != gLevel  ) {
			evadd EVENT_GOD_INSIDE_RAND_BOSS_2
		}
		else {
			areaBoss(gArea ) = 0
		}
	}
	if ( gArea  == AREA_LESIMAS ) {
		map_tileset mTileSet
		repeat 1
			if ( gLevel  == areaCanSave(gArea ) ) {
				map_initcustom "lesimas_1"
				mModerateCrowd = 0
				mCanSave = 0
				mMusic = MUSICLIST_MCLASTBOSS
				mdatan(0) = lang("ÉåÉVÉ}ÉXç≈ê[ëw", "The Depth")
				if ( flagMain < 170 ) {
					evadd EVENT_BOSS_LESIMAS
				}
				procid = (procid + 1) \ 10
				proclist(procid) = "lesimas1" + " ct:" + ct
				if ( dbg_outputdebuglog ) {
				}
				x = 16
				y = 13
				cell_featset x, y, tile_upstairs, CELL_FEATURE_UPSTAIRS
				mUpStairPos = y * 1000 + x
				map_placeplayer
				procid = (procid + 1) \ 10
				proclist(procid) = "lesimas2" + " ct:" + ct
				if ( dbg_outputdebuglog ) {
				}
				if ( npcmemory(0, CREATURE_ID_ZEOME_THE_FALSE_PROPHET) == 0 | flagMain < 180 ) {
					flt
					if ( gettrait(0, 194) < 0 ) {
						initlv = 75
					}
					if ( gettrait(0, 194) < (-1) ) {
						initlv = 90
					}
					characreate -1, CREATURE_ID_ZEOME_THE_FALSE_PROPHET, 16, 6
					if ( gettrait(0, 194) < 0 ) {
						cAiMoveFreq(rc) = 66
						cAiDistance(rc) = 2
						cAiSub(rc) = 25
						cdata(STARTING_CDATA_ACT_MAIN, rc) = ACTION_MELEE, ACTION_MELEE, SKILL_SPELL_MAGIC_DART, SKILL_SPELL_SPEED, SKILL_SPELL_HOLY_SHIELD
						cdata(STARTING_CDATA_ACT_SUB, rc) = SKILL_SPELL_SUMMON_MONSTERS, 903, SKILL_SPELL_CHAOS_BALL, SKILL_SPELL_MIST_OF_FRAILNESS, SKILL_SPELL_METEOR
						cActIndex(rc) = 55
					}
					if ( gettrait(0, 194) < (-1) ) {
						cAiMoveFreq(rc) = 66
						cAiDistance(rc) = 2
						cAiSub(rc) = 25
						cActRange(rc) = 500
						cdata(STARTING_CDATA_ACT_MAIN, rc) = ACTION_MELEE, SKILL_SPELL_NERVE_ARROW, SKILL_SPELL_NERVE_ARROW, SKILL_SPELL_NERVE_ARROW, 509
						cdata(STARTING_CDATA_ACT_SUB, rc) = SKILL_SPELL_CRYSTAL_SPEAR, 524, SKILL_SPELL_RAGING_ROAR, 542, 545
						cActHeal(rc) = 500
						cActIndex(rc) = 55
						addfaction rc, "invalid,40"
					}
				}
				else {
					if ( npcmemory(0, CREATURE_ID_ORPHE_THE_CHAOS_CHILD) == 0 ) {
						flt
						characreate -1, CREATURE_ID_ORPHE_THE_CHAOS_CHILD, 16, 6
					}
				}
				procid = (procid + 1) \ 10
				proclist(procid) = "lesimas3" + " ct:" + ct
				if ( dbg_outputdebuglog ) {
				}
				break
			}
			gosub *map_randomDungeon
			break
		loop
		if ( gLevel  == 3 ) {
			characreate -1, CREATURE_ID_SLAN_THE_SHADOW_OF_PALMIA, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			cRole(rc) = ROLE_SPECIAL
			cAiCalm(rc) = 3
		}
		if ( gLevel  == 17 ) {
			characreate -1, CREATURE_ID_KARAM_THE_LONELY_WOLF_OF_KARUNE, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			cRole(rc) = ROLE_SPECIAL
			cAiCalm(rc) = 3
		}
	}
	if ( gArea  == AREA_TOWER_OF_FIRE ) {
		if ( gLevel  == areaCanSave(gArea ) ) {
			map_initcustom "firet1"
			mModerateCrowd = 0
			mMusic = MUSICLIST_MCLASTBOSS
			map_placeplayer
			rc = CHARA_PLAYER
			repeat 188, 57
				if ( cId(cnt) == CREATURE_ID_QURUIZA_THE_RED_EYED_DECEIVER ) {
					rc = cnt
					break
				}
			loop
			if ( rc ) {
				repeat 188, 57
					if ( cId(cnt) == CREATURE_ID_CORGON_THE_STEEL_DRAGON ) {
						addfaction cnt, "pet," + rc
						break
					}
				loop
			}
		}
		else {
			gosub *map_randomDungeon
		}
	}
	if ( gArea  == AREA_CRYPT_OF_THE_DAMNED ) {
		if ( gLevel  == areaCanSave(gArea ) ) {
			map_initcustom "undeadt1"
			mModerateCrowd = 0
			mMusic = MUSICLIST_MCLASTBOSS
			map_placeplayer
		}
		else {
			gosub *map_randomDungeon
		}
	}
	if ( gArea  == AREA_ANCIENT_CASTLE ) {
		if ( gLevel  == areaCanSave(gArea ) ) {
			map_initcustom "roguet1"
			mModerateCrowd = 0
			mMusic = MUSICLIST_MCLASTBOSS
			map_placeplayer
		}
		else {
			gosub *map_randomDungeon
		}
	}
	if ( gArea  == AREA_DRAGON_NEST ) {
		if ( gLevel  == areaCanSave(gArea ) ) {
			map_initcustom "d_1"
			mModerateCrowd = 0
			mMusic = MUSICLIST_MCLASTBOSS
			map_placeplayer
		}
		else {
			gosub *map_randomDungeon
		}
	}
	if ( gArea  == AREA_PUPPY_CAVE ) {
		gosub *map_randomDungeon
		if ( gLevel  == areaCanSave(gArea ) ) {
			if ( sqDog < 2 ) {
				if ( findally(CREATURE_ID_POPPY_THE_LITTLE_DOG) == (-1) ) {
					flt
					characreate -1, CREATURE_ID_POPPY_THE_LITTLE_DOG, -3, 0
					cbitmod CHARA_BIT_NO_TARGET, rc, TRUE
				}
			}
		}
	}
	if ( gArea  == AREA_MINOTAUR_NEST ) {
		gosub *map_randomDungeon
		if ( gLevel  == areaCanSave(gArea ) ) {
			if ( sqMinotaur < 2 ) {
				flt
				characreate -1, CREATURE_ID_UNGAGA_THE_MINOTAUR_KING, -3, 0
			}
		}
	}
	if ( gArea  == AREA_YEEK_NEST ) {
		gosub *map_randomDungeon
		if ( gLevel  == areaCanSave(gArea ) ) {
			if ( sqYeek < 2 ) {
				flt
				characreate -1, CREATURE_ID_RODLOB_THE_YEEK_CHIEF, -3, 0
				tc = rc
				repeat 5
					flt
					characreate -1, CREATURE_ID_MASTER_YEEK, cX(tc), cY(tc)
				loop
				repeat 10
					flt
					characreate -1, CREATURE_ID_YEEK_WARRIOR, cX(tc), cY(tc)
					flt
					characreate -1, CREATURE_ID_KAMIKAZE_YEEK, cX(tc), cY(tc)
				loop
			}
		}
	}
	if ( gArea  == AREA_PYRAMID ) {
		if ( gLevel  == 20 ) {
			map_initcustom "sqPyramid"
			mModerateCrowd = 40
			mMusic = MUSICLIST_MCPUTI
			map_placeplayer
			repeat mModerateCrowd + 1
				gosub *label_2163
				characreate -1, CREATURE_ID_BUG, -3, 0
				if ( stat ) {
					gosub *label_4551
				}
			loop
		}
		if ( gLevel  == 21 ) {
			map_initcustom "sqPyramid2"
			mModerateCrowd = 0
			mMusic = MUSICLIST_MCPUTI
			map_placeplayer
			rc = CHARA_PLAYER
			repeat 188, 57
				if ( cId(cnt) == CREATURE_ID_TUWEN_THE_MASTER_OF_THE_PYRAMID ) {
					rc = cnt
					break
				}
			loop
			if ( rc ) {
				repeat 188, 57
					if ( cId(cnt) != CREATURE_ID_TUWEN_THE_MASTER_OF_THE_PYRAMID ) {
						addfaction cnt, "pet," + rc
					}
				loop
			}
		}
	}
	if ( gArea  == AREA_MOUNTAIN_PASS | gArea  == 201 ) {
		gosub *map_randomDungeon
	}
	if ( gArea  == 50 ) {
		generateserria
		if ( gTeleportLevel == 1 ) {
			f = 0
			repeat 188, 57
				if ( cId(cnt) == CREATURE_ID_TAIF_THE_CAPTAIN_SHINING ) {
					f = 1
					break
				}
			loop
			if ( f == 0 ) {
				f = get_freechara()
				if ( f != (-1) ) {
					flt
					characreate -1, CREATURE_ID_TAIF_THE_CAPTAIN_SHINING, 30, 6
					cRole(rc) = ROLE_UNIQUE_TAIF
				}
			}
			f = 0
			repeat 188, 57
				if ( cId(cnt) == CREATURE_ID_JUST_WAITING_FEN ) {
					f = 1
					break
				}
			loop
			if ( f == 0 ) {
				f = get_freechara()
				if ( f != (-1) ) {
					flt
					characreate -1, CREATURE_ID_JUST_WAITING_FEN, 3, 33
					cRole(rc) = ROLE_UNIQUE_FEN
				}
			}
		}
	}
	if ( gArea  == 51 ) {
		generatetormat
		if ( gTeleportLevel == 1 ) {
			f = 0
			repeat 188, 57
				if ( cId(cnt) == CREATURE_ID_MINA_THE_NEWCOMER_TO_GUILD ) {
					f = 1
					break
				}
			loop
			if ( f == 0 ) {
				f = get_freechara()
				if ( f != (-1) ) {
					flt
					characreate -1, CREATURE_ID_MINA_THE_NEWCOMER_TO_GUILD, 26, 2
					cRole(rc) = ROLE_UNIQUE_MINA
				}
			}
		}
	}
	if ( gArea  == 52 ) {
		generatekhios
		f = 0
		repeat 188, 57
			if ( cId(cnt) == CREATURE_ID_JEN_THE_THIEF ) {
				f = 1
				break
			}
		loop
		if ( f == 0 ) {
			f = get_freechara()
			if ( f != (-1) ) {
				flt
				characreate -1, CREATURE_ID_JEN_THE_THIEF, 23, 13
				cRole(rc) = ROLE_UNIQUE_JEN
			}
		}
	}
	if ( gArea  == 53 ) {
		generatecarlia
		if ( gTeleportLevel == 1 ) {
			f = 0
			repeat 188, 57
				if ( cId(cnt) == CREATURE_ID_NINEDA_THE_DEPENDENT ) {
					f = 1
					break
				}
			loop
			if ( f == 0 ) {
				f = get_freechara()
				if ( f != (-1) ) {
					flt
					characreate -1, CREATURE_ID_NINEDA_THE_DEPENDENT, 30, 23
					cRole(rc) = ROLE_UNIQUE_NINEDA
				}
			}
		}
	}
	if ( gArea  == 54 ) {
		generatetrian
		f = 0
		repeat 188, 57
			if ( cId(cnt) == CREATURE_ID_NITO_THE_CHEMIST ) {
				f = 1
				break
			}
		loop
		if ( f == 0 ) {
			f = get_freechara()
			if ( f != (-1) ) {
				flt
				characreate -1, CREATURE_ID_NITO_THE_CHEMIST, 15, 15
				cRole(rc) = ROLE_UNIQUE_NITO
			}
		}
	}
	if ( gArea  == 57 ) {
		map_tileset mTileSet
		repeat 1
			if ( gLevel  == areaCanSave(gArea ) ) {
				map_initcustom "st_ancientruins"
				mModerateCrowd = 0
				inv_getheader -1
				repeat invrange, invhead
					iProperty(cnt) = PROP_NONE
				loop
				map_placeplayer
				flt
				fixlv = FIX_QUALITY_UNIQUE
				initlv = 30
				characreate -1, CREATURE_ID_MUTANT, 27, 6
				cAiMoveFreq(rc) = 33
				cAiDistance(rc) = 2
				cAiSub(rc) = 25
				cdata(STARTING_CDATA_ACT_MAIN, rc) = ACTION_MELEE
				cdata(STARTING_CDATA_ACT_SUB, rc) = SKILL_SPELL_ELEMENT_SCAR, SKILL_SPELL_LIGHTNING_BOLT, SKILL_SPELL_HOLY_SHIELD
				cActIndex(rc) = 31
				skillinit SKILL_NORMAL_CASTING, rc, 15
				cnName(rc) = lang("Åså√ë„ÇÃÉ~ÉÖÅ[É^ÉìÉgÅt", "<Ruins mutant>")
				addfaction rc, "st_ruinboss"
				ocLight(rc) = 7
				break
			}
			gosub *map_randomDungeon
			break
		loop
	}
	if ( gArea  == 58 ) {
		map_tileset mTileSet
		repeat 1
			if ( gLevel  == areaCanSave(gArea ) ) {
				map_initcustom "st_abandoned"
				mModerateCrowd = 0
				inv_getheader -1
				repeat invrange, invhead
					iProperty(cnt) = PROP_NONE
				loop
				map_placeplayer
				flt
				fixlv = FIX_QUALITY_UNIQUE
				initlv = 10
				characreate -1, CREATURE_ID_HOUND, 24, 9
				cAiMoveFreq(rc) = 60
				cAiDistance(rc) = 1
				cAiSub(rc) = 30
				cdata(STARTING_CDATA_ACT_MAIN, rc) = ACTION_MELEE
				cdata(STARTING_CDATA_ACT_SUB, rc) = SKILL_SPACT_SHADOW_STEP
				cActIndex(rc) = 11
				skillinit SKILL_NORMAL_EYE_OF_MIND, rc, 3
				cnName(rc) = lang("ÅsãQÇ¶ÇΩó¬å¢Åt", "<Hungry hound>")
				ocLight(rc) = 7
				addfaction rc, "st_ruralboss"
				flt
				if ( finditemid("blacksmith hammer") ) {
					inititemid = stat
					itemcreate -1, ITEM_ID_CARNEADES_PLANK, 7, 21
				}
				break
			}
			gosub *map_randomDungeon
			break
		loop
	}
	if ( gArea  == 59 ) {
		map_initcustom "st_fea"
		mModerateCrowd = 0
		inv_getheader -1
		repeat invrange, invhead
			iProperty(cnt) = PROP_NONE
		loop
		mMusic = MUSICLIST_MCBOSS2
		flt
		initlv = 120
		fixlv = FIX_QUALITY_UNIQUE
		characreate -1, CREATURE_ID_FAIRY, 12, 4
		cPic(rc) = xy2pic(26, 13)
		cAiCalm(rc) = 1
		cAiMoveFreq(rc) = 80
		cAiDistance(rc) = 2
		cAiSub(rc) = 20
		creaturepack = FILTER_NOTHING
		cdata(STARTING_CDATA_ACT_MAIN, rc) = ACTION_RANGE, ACTION_RANGE, ACTION_RANGE, SKILL_SPELL_MAGIC_STORM, SKILL_SPELL_MAGIC_STORM
		cdata(STARTING_CDATA_ACT_SUB, rc) = SKILL_SPELL_RAGING_ROAR, SKILL_SPELL_RAGING_ROAR, SKILL_SPELL_CHAOS_BALL, SKILL_SPELL_CHAOS_BALL, 901
		cActIndex(rc) = 55
		skillinit SKILL_ATTR_LIFE, rc, 70
		skillinit SKILL_ATTR_MANA, rc, 300
		skillinit SKILL_ATTR_STR, rc, 10
		skillinit SKILL_ATTR_CON, rc, 10
		skillinit SKILL_ATTR_DEX, rc, 15
		skillinit SKILL_ATTR_PER, rc, 15
		skillinit SKILL_ATTR_LER, rc, 25
		skillinit SKILL_ATTR_WIL, rc, 25
		skillinit SKILL_ATTR_MAG, rc, 30
		skillinit SKILL_ATTR_CHA, rc, 20
		skillinit SKILL_NORMAL_CASTING, rc, 45
		skillinit SKILL_NORMAL_EVASION, rc, 12
		skillinit SKILL_NORMAL_GREATER_EVASION, rc, 10
		gosub *charaRefresh
		cHP(rc) = cMHP(rc)
		cMP(rc) = cMMP(rc)
		if ( jp ) {
			cnName(rc) = "ç¨ì◊ÇÃódê∏ÅwÉJÉIÉVÅ[Åx"
		}
		else {
			cnName(rc) = "<Chaosy> the Chaos fairy"
		}
		faction(rc) = ""
		addfaction rc, "align,chaotic"
		addfaction rc, "st_feaboss"
		map_placeplayer
	}
	if ( gArea  == 60 ) {
		map_tileset mTileSet
		repeat 1
			if ( gLevel  == areaCanSave(gArea ) ) {
				map_initcustom "st_henikutu"
				mModerateCrowd = 0
				mMusic = MUSICLIST_MCLASTBOSS
				mdatan(0) = lang("ç≈ê[ëw", "The Depth")
				flt
				initlv = 100
				fixlv = FIX_QUALITY_UNIQUE
				characreate -1, CREATURE_ID_WIZARD_OF_ELEA, 16, 11
				cAiMoveFreq(rc) = 60
				cAiDistance(rc) = 1
				cAiSub(rc) = 20
				cdata(STARTING_CDATA_ACT_MAIN, rc) = ACTION_MELEE, SKILL_SPACT_SWARM, SKILL_SPACT_SWARM, SKILL_SPACT_SHADOW_STEP, SKILL_SPACT_SHADOW_STEP
				cdata(STARTING_CDATA_ACT_SUB, rc) = SKILL_SPELL_CRYSTAL_SPEAR, SKILL_SPELL_CRYSTAL_SPEAR, SKILL_SPELL_CRYSTAL_SPEAR, SKILL_SPELL_CURE_OF_ERIS, SKILL_SPELL_SUMMON_MONSTERS
				cActIndex(rc) = 55
				skillinit SKILL_ATTR_LIFE, rc, 100
				skillinit SKILL_ATTR_MANA, rc, 100
				skillinit SKILL_ATTR_SPD, rc, 50
				skillinit SKILL_NORMAL_TACTICS, rc, 10
				skillinit SKILL_NORMAL_CASTING, rc, 20
				skillinit SKILL_NORMAL_DUAL_WIELD, rc, 10
				skillinit SKILL_NORMAL_TWO_HAND, rc, 10
				skillinit SKILL_NORMAL_EYE_OF_MIND, rc, 5
				gosub *charaRefresh
				cHP(rc) = cMHP(rc)
				cMP(rc) = cMMP(rc)
				if ( jp ) {
					cnName(rc) = "ì¥åAÇÃéÂÅwÉTÅ[ÉyÉìÉeÅx"
				}
				else {
					cnName(rc) = "<Servente> the Cave Boss"
				}
				addfaction rc, "st_caveboss"
				map_placeplayer
				break
			}
			gosub *map_randomDungeon
			break
		loop
	}
	if ( gArea  == 61 ) {
		map_initcustom "st_secret"
		mModerateCrowd = 0
		flt
		fixlv = FIX_QUALITY_UNIQUE
		initlv = 74
		characreate -1, CREATURE_ID_FAIRY, 20, 26
		cRole(rc) = ROLE_SHOP_FAIRY, 100
		cOrgRelation(rc) = RELATION_NEUTRAL
		cRelation(rc) = RELATION_NEUTRAL
		cRoleFileId(rc) = 3111
		cdata(STARTING_CDATA_ACT_MAIN, rc) = ACTION_RANGE, ACTION_RANGE, ACTION_RANGE, SKILL_SPELL_MAGIC_STORM, SKILL_SPELL_MAGIC_STORM
		cdata(STARTING_CDATA_ACT_SUB, rc) = SKILL_SPACT_PREGNANT
		cActIndex(rc) = 51
		cPic(rc) = xy2pic(27, 13)
		faction(rc) = ""
		addfaction rc, "family,man"
		addfaction rc, "align,neutral"
		addfaction rc, "god,eyth"
		cSex(rc) = 1
		if ( jp ) {
			cnName(rc) = "ÅwóëâÆÇ≥ÇÒÇÃódê∏Åx"
		}
		else {
			cnName(rc) = "<Egg Shop Fairy>"
		}
		itemcreate -1, ITEM_ID_EGG, 17, 26, 1
		iStatus(ci) = ITEM_STATUS_NORMAL
		iSubName(ci) = 250
		ibitmod ITEM_BIT_PRECIOUS, ci, TRUE
		inv(STARTING_INV_ITEM_ENCHANT + 0 * 2, ci) = 10010
		inv(STARTING_INV_ITEM_ENCHANT_POWER + 0 * 2, ci) = 500
		inv(STARTING_INV_ITEM_ENCHANT + 1 * 2, ci) = 60010
		inv(STARTING_INV_ITEM_ENCHANT_POWER + 1 * 2, ci) = 450
		iParam4(ci) = 0
		ibitmod ITEM_BIT_REMAKE, ci, FALSE
		itemcreate -1, ITEM_ID_EGG, 21, 28, 1
		iStatus(ci) = ITEM_STATUS_NORMAL
		iSubName(ci) = 250
		ibitmod ITEM_BIT_PRECIOUS, ci, TRUE
		inv(STARTING_INV_ITEM_ENCHANT + 0 * 2, ci) = 10011
		inv(STARTING_INV_ITEM_ENCHANT_POWER + 0 * 2, ci) = 500
		inv(STARTING_INV_ITEM_ENCHANT + 1 * 2, ci) = 60011
		inv(STARTING_INV_ITEM_ENCHANT_POWER + 1 * 2, ci) = 450
		iParam4(ci) = 0
		ibitmod ITEM_BIT_REMAKE, ci, FALSE
		itemcreate -1, ITEM_ID_EGG, 18, 30, 1
		iStatus(ci) = ITEM_STATUS_NORMAL
		iSubName(ci) = 250
		ibitmod ITEM_BIT_PRECIOUS, ci, TRUE
		inv(STARTING_INV_ITEM_ENCHANT + 0 * 2, ci) = 10012
		inv(STARTING_INV_ITEM_ENCHANT_POWER + 0 * 2, ci) = 500
		inv(STARTING_INV_ITEM_ENCHANT + 1 * 2, ci) = 60012
		inv(STARTING_INV_ITEM_ENCHANT_POWER + 1 * 2, ci) = 450
		iParam4(ci) = 0
		ibitmod ITEM_BIT_REMAKE, ci, FALSE
		mMusic = 95
		map_placeplayer
	}
	if ( gArea  == 62 ) {
		map_tileset mTileSet
		repeat 1
			if ( gLevel  == areaCanSave(gArea ) ) {
				map_initcustom "nc_subquest_ice"
				mModerateCrowd = 0
				map_placeplayer
				flt
				fixlv = FIX_QUALITY_UNIQUE
				initlv = 25
				characreate -1, CREATURE_ID_WHITE_DRAGON, 9, 2
				cAiMoveFreq(rc) = 33
				cAiDistance(rc) = 1
				cAiSub(rc) = 25
				cdata(STARTING_CDATA_ACT_MAIN, rc) = ACTION_MELEE
				cdata(STARTING_CDATA_ACT_SUB, rc) = 932, SKILL_SPACT_COLD_BREATH, SKILL_SPACT_LIGHTNING_BREATH
				cActIndex(rc) = 31
				cnName(rc) = lang("ÅsïXåAÇÃéÂÅt", "<Master of the ice cave>")
				addfaction rc, "nc_iceboss"
				ocLight(rc) = 7
				break
			}
			gosub *map_randomDungeon
			break
		loop
	}
	if ( gArea  == 63 ) {
		map_initcustom "nc_subquest_iseki"
		mMusic = MUSICLIST_MCLASTBOSS
		mModerateCrowd = 0
		map_placeplayer
		flt
		characreate -1, CREATURE_ID_AOCUS_THE_VOICE_OF_SACRIFICE, 25, 9
		addfaction rc, "nc_isekiboss"
	}
	map_setfog
	procid = (procid + 1) \ 10
	proclist(procid) = "map_init:1" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	if ( gArea  == AREA_PET_ARENA | gArea  == 49 | dbg_revealmap | gArea  == AREA_ARENA | mType == MAP_TYPE_TOWN | mType == MAP_TYPE_WORLD | mType == MAP_TYPE_HOME | mType == MAP_TYPE_VILLAGE | gArea  == AREA_SHELTER | gArea  == AREA_EMBASSY | gArea  == AREA_MIROK_WORKSHOP | gArea  == AREA_SHOW_HOUSE | (gArea  == AREA_QUEST & gQuest == QUEST_TYPE_PARTY) ) {
		repeat mHeight
			y = cnt
			repeat mWidth
				mapIdMemory(cnt, y) = mapId(cnt, y)
			loop
		loop
	}
	if ( mapupdate == 1 ) {
		if ( mType == MAP_TYPE_WORLD ) {
			f = 0
			i = 0
			repeat 500 - 300, 300
				p = cnt
				if ( areaX(cnt) == 0 | areaY(cnt) == 0 | areaId(cnt) == AREA_NONE ) {
					continue
				}
				repeat 300
					if ( areaX(cnt) == 0 | areaY(cnt) == 0 | areaId(cnt) == AREA_NONE ) {
						continue
					}
					if ( areaX(p) == areaX(cnt) ) {
						if ( areaY(p) == areaY(cnt) ) {
							if ( areaParent(p) == areaParent(cnt) ) {
								repeat
									await
									dx = limit(rnd(cnt / 4 + 1) + 1, 1, mWidth)
									dy = limit(rnd(cnt / 4 + 1) + 1, 1, mHeight)
									x = areaX(p) + rnd(dx) - rnd(dx)
									y = areaY(p) + rnd(dy) - rnd(dy)
									if ( x < 0 | y < 0 | x >= mWidth | y >= mHeight ) {
										continue
									}
									if ( xy2pic(0, 1) <= mapId(x, y) & mapId(x, y) < xy2pic(0, 2) ) {
										continue
									}
									if ( mapId(x, y) > xy2pic(19, 0) ) {
										continue
									}
									i = 1
									repeat 300
										if ( areaX(cnt) == 0 | areaY(cnt) == 0 | areaId(cnt) == AREA_NONE ) {
											continue
										}
										if ( x == areaX(cnt) ) {
											if ( y == areaY(cnt) ) {
												i = 0
												break
											}
										}
									loop
									if ( i == 0 ) {
										continue
									}
									dialog lang("ÉGÉäÉAÇ™çƒîzíuÇ≥ÇÍÇ‹Ç∑ÅB" + mapname(p) + "ÇÃà íuÇÕÅAx" + areaX(p) + ":y" + areaY(p) + "Ç©ÇÁx" + x + ":y" + y + "Ç…ïœçXÇ≥ÇÍÇ‹Ç∑ÅB", "The location of " + mapname(p) + " has been changed from x" + areaX(p) + ":y" + areaY(p) + " to x" + x + ":y" + y + ".")
									areaX(p) = x
									areaY(p) = y
									f++
									break
								loop
							}
						}
					}
				loop
			loop
			gosub *label_2358
		}
		mapupdate = 0
		repeat 245
			if ( cExist(cnt) == CHAR_STATE_DEAD ) {
				continue
			}
			if ( cRole(cnt) >= (1000 /*!!!@[ROLE_SHOP_MIN @@@ ROLE_SHOP_WEAPON]@!!! */) & cRole(cnt) < (2000 /*!!!@[ROLE_GUEST_BEGGAR @@@ ROLE_GUEST_MIN]@!!! */) | cRole(cnt) == ROLE_GUEST_MERCHANT | cRole(cnt) == ROLE_SHOP_MATERIAL | cRole(cnt) == ROLE_SHOP_SPELLBOOK | cRole(cnt) == ROLE_SHOP_APHRODISIAC | cRole(cnt) == ROLE_SHOP_DOUJINSHI | cRole(cnt) == ROLE_SHOP_UNKNOWN3104 | cRole(cnt) == ROLE_SHOP_HERB_MERCHANT | cRole(cnt) == ROLE_SHOP_PROSTITUTE_GUILD | cRole(cnt) == ROLE_SHOP_BLACKSMITH_GUILD | cRole(cnt) == ROLE_SHOP_MYSTERIOUS_PRODUCER | cRole(cnt) == ROLE_SHOP_FAIRY | cRole(cnt) == ROLE_SHOP_MORPHY ) {
				cnt2 = cnt
				repeat maxnpcbk
					if ( cRole(cnt2) == rolebk(0, cnt) ) {
						cRoleShopLv(cnt2) = rolebk(1, cnt)
						rolebk(0, cnt) = 0, 0
						break
					}
				loop
			}
		loop
		repeat maxmedal
			cell_featset medalbk(0, cnt), medalbk(1, cnt), tile_hidden, CELL_FEATURE_SMALL_MEDAL
		loop
	}
	randomize
	mVersion = gMapVersion
	mVersionFix1 = 1
	if ( areaType(gArea ) >= (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */) ) {
		if ( sDetection(CHARA_PLAYER) > 0 ) {
			evadd 106
		}
	}

*skip_advPlace
	procid = (procid + 1) \ 10
	proclist(procid) = "map_preBegin" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	repeat length(cmgbuff)
		cmgbuff(cnt) = 0
	loop
	if ( gArea  == AREA_NORTH_TYRIS ) {
		if ( flagMain == 180 ) {
			cX(CHARA_PLAYER) = areaX(11)
			cY(CHARA_PLAYER) = areaY(11)
			gRunDir = 1
			gLastEdgeX = -1
			msg_newline
			msgtemp = lang("  éOîNÇÃåéì˙Ç™åoÇøÅAÇ†Ç»ÇΩÇÕçƒÇ—ÉmÅ[ÉXÉeÉBÉäÉXÇ…ç~ÇËóßÇ¡ÇΩÅB", "  Three years elapsed and you set foot on cool soil of North Tyris's again.")
		}
	}
	if ( areaId(gArea ) == AREA_DUNGEON ) {
		if ( gLevel  != ogHeadMaidFloor ) {
			repeat 188, 57
				if ( cId(cnt) == CREATURE_ID_MAID ) {
					cQuality(cnt) = FIX_QUALITY_GOOD
					if ( instr(cnName(cnt), 0, "ÉÅÉCÉhí∑") != (-1) ) {
						sreplace cnName(cnt), cnName(cnt), "ÉÅÉCÉhí∑", "ÉÅÉCÉh"
					}
				}
			loop
		}
	}
	if ( oabit(2, gArea ) ) {
		if ( gRider ) {
			ride_end
		}
		repeat 16
			if ( cExist(cnt) == CHAR_STATE_ALIVE ) {
				if ( cRelation(cnt) == RELATION_ALLY ) {
					if ( cnt != 0 ) {
						mapChara(cX(cnt), cY(cnt)) = 0
						cExist(cnt) = CHAR_STATE_SUSPEND
					}
				}
			}
		loop
	}
	repeat 40 - 1, 16
		if ( cExist(cnt) != CHAR_STATE_ADV ) {
			continue
		}
		if ( ocAdvParty(cnt) != 0 & ocAdvParty(cnt) != cnt ) {
			continue
		}
		if ( cbit(CHARA_BIT_HIRED, cnt) ) {
			cRelation(cnt) = RELATION_ALLY
			cType(cnt) = gArea 
		}
		else {
			if ( cType(cnt) != gArea  ) {
				continue
			}
			if ( mType != MAP_TYPE_TOWN & mType != MAP_TYPE_VILLAGE & mType != (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */) & mType != MAP_TYPE_TOWER & mType != MAP_TYPE_FOREST & mType != (23 /*!!!@[MAP_TYPE_DUNGEON_MAX @@@ MAP_TYPE_FORT]@!!! */) & areaId(gArea ) != AREA_DUNGEON ) {
				continue
			}
			if ( areaId(gArea  == AREA_DUNGEON) ) {
				if ( gLevel  == 0 ) {
					continue
				}
			}
			if ( mType >= (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */) | areaId(gArea  == AREA_DUNGEON) ) {
				if ( rnd(5) != 0 ) {
					continue
				}
			}
			else {
				if ( gLevel  != 1 ) {
					continue
				}
			}
		}
		if ( gArea  == AREA_ARENA | gArea  == AREA_PET_ARENA | gArea  == 49 ) {
			continue
		}
		if ( oabit(2, gArea ) ) {
			continue
		}
		rc = cnt
		cExist(rc) = CHAR_STATE_ALIVE
		if ( cbit(CHARA_BIT_HIRED, cnt) == TRUE ) {
			cxinit = cX(CHARA_PLAYER)
			cyinit = cY(CHARA_PLAYER)
			place_chara rc, cxinit, cyinit
		}
		else {
			cxinit = -1
			place_chara rc, cxinit
			cHP(rc) = cMHP(rc)
			cMP(rc) = cMMP(rc)
			repeat 40 - 1, 16
				if ( ocAdvParty(cnt) == rc ) {
					if ( cnt != rc ) {
						cxinit = cX(rc)
						cyinit = cY(rc)
						cExist(cnt) = CHAR_STATE_ALIVE
						place_chara cnt, cxinit, cyinit
						cHP(cnt) = cMHP(cnt)
						cMP(cnt) = cMMP(cnt)
					}
				}
			loop
		}
		r1 = cnt
		gosub *charaRefresh
	loop
	if ( ogTitleRepeatKillSquad == 2 ) {
		if ( gLevel  == 33 ) {
			if ( ogdata(400) == 1 ) {
				if ( gArea  == AREA_BEAST_FORT ) {
					if ( findchara(CREATURE_ID_FRISIA_THE_CAT_QUEEN) == 0 ) {
						flt
						characreate -1, CREATURE_ID_FRISIA_THE_CAT_QUEEN, 12, 14
						ogdata(400) = 0
					}
				}
			}
			if ( ogdata(401) == 1 ) {
				if ( gArea  == AREA_MACHINE_FORT ) {
					if ( findchara(CREATURE_ID_UTIMA_THE_DESTROYER_OF_XEREN) == 0 ) {
						flt
						characreate -1, CREATURE_ID_UTIMA_THE_DESTROYER_OF_XEREN, 12, 14
						ogdata(401) = 0
					}
				}
			}
			if ( ogdata(402) == 1 ) {
				if ( gArea  == AREA_COLLAPSED_FORT ) {
					if ( findchara(CREATURE_ID_AZZRSSIL_THE_IMPURE) == 0 ) {
						flt
						characreate -1, CREATURE_ID_AZZRSSIL_THE_IMPURE, 12, 14
						ogdata(402) = 0
					}
				}
			}
			if ( ogdata(403) == 1 ) {
				if ( gArea  == 59 ) {
					if ( findchara(CREATURE_ID_FAIRY) == 0 ) {
						flt
						initlv = 120
						fixlv = FIX_QUALITY_UNIQUE
						characreate -1, CREATURE_ID_FAIRY, 12, 4
						cPic(rc) = xy2pic(26, 13)
						cAiCalm(rc) = 1
						cAiMoveFreq(rc) = 80
						cAiDistance(rc) = 2
						cAiSub(rc) = 20
						creaturepack = FILTER_NOTHING
						cdata(STARTING_CDATA_ACT_MAIN, rc) = ACTION_RANGE, ACTION_RANGE, ACTION_RANGE, SKILL_SPELL_MAGIC_STORM, SKILL_SPELL_MAGIC_STORM
						cdata(STARTING_CDATA_ACT_SUB, rc) = SKILL_SPELL_RAGING_ROAR, SKILL_SPELL_RAGING_ROAR, SKILL_SPELL_CHAOS_BALL, SKILL_SPELL_CHAOS_BALL, 901
						cActIndex(rc) = 55
						skillinit SKILL_ATTR_LIFE, rc, 70
						skillinit SKILL_ATTR_MANA, rc, 300
						skillinit SKILL_ATTR_STR, rc, 10
						skillinit SKILL_ATTR_CON, rc, 10
						skillinit SKILL_ATTR_DEX, rc, 15
						skillinit SKILL_ATTR_PER, rc, 15
						skillinit SKILL_ATTR_LER, rc, 25
						skillinit SKILL_ATTR_WIL, rc, 25
						skillinit SKILL_ATTR_MAG, rc, 30
						skillinit SKILL_ATTR_CHA, rc, 20
						skillinit SKILL_NORMAL_CASTING, rc, 45
						skillinit SKILL_NORMAL_EVASION, rc, 12
						skillinit SKILL_NORMAL_GREATER_EVASION, rc, 10
						gosub *charaRefresh
						cHP(rc) = cMHP(rc)
						cMP(rc) = cMMP(rc)
						if ( jp ) {
							cnName(rc) = "ç¨ì◊ÇÃódê∏ÅwÉJÉIÉVÅ[Åx"
						}
						else {
							cnName(rc) = "<Chaosy> the Chaos fairy"
						}
						faction(rc) = ""
						addfaction rc, "align,chaotic"
						addfaction rc, "st_feaboss"
						ogdata(403) = 0
					}
				}
			}
		}
	}
	if ( mCanSave == 1 ) {
		if ( getgametime() >= mRenew ) {
			if ( mNoRenew == 0 ) {
				if ( mRenew != 0 ) {
					if ( gLevel  == 1 ) {
						if ( gArea  == AREA_LUMIEST ) {
							map_reload "lumiest"
						}
						if ( gArea  == AREA_VERNIS ) {
							map_reload "vernis"
						}
						if ( gArea  == AREA_PALMIA ) {
							map_reload "palmia"
						}
						if ( gArea  == AREA_PORT_KAPUL ) {
							map_reload "kapul"
						}
						if ( gArea  == AREA_YOWYN ) {
							map_reload "yowyn"
						}
						if ( gArea  == AREA_DERPHY ) {
							map_reload "rogueden"
						}
						if ( gArea  == AREA_NOYEL ) {
							if ( gMonth  == 12 & ogbit(9) == 0 ) {
								if ( areaFestival(gArea ) == 0 ) {
									areaFestival(gArea ) = 1
									gosub *noyel_festival
								}
								map_reload "noyel_fest"
							}
							else {
								if ( areaFestival(gArea ) == 1 ) {
									areaFestival(gArea ) = 0
									gosub *noyel_festival
								}
								map_reload "noyel"
							}
							flagFireGiant = 0
						}
						if ( gArea  == 50 ) {
							map_reload "st_serria"
							map_placeitemsserria
						}
						if ( gArea  == 51 ) {
							map_reload "st_tormat"
						}
						if ( gArea  == 52 ) {
							map_reload "st_khios"
							map_placeitemskhios
						}
						if ( gArea  == 53 ) {
							map_reload "st_carlia"
						}
						if ( gArea  == 54 ) {
							map_reload "st_trian"
						}
						if ( gArea  == MAX_AREA_OLD ) {
							map_reload "nc_crippletown"
						}
					}
				}
			}
		}
		repeat mHeight
			y = cnt
			repeat mWidth
				mapChara(cnt, y) = 0
			loop
		loop
		repeat 245
			rc = cnt
			cbitmod CHARA_BIT_POISON_FLAG, rc, FALSE
			if ( rc < MAX_CHARA_SAVE ) {
				if ( mode == MODELIST_MAP ) {
					continue
				}
			}
			if ( cExist(rc) == CHAR_STATE_SPIRIT ) {
				if ( getgametime() >= cRespawn(rc) ) {
					gosub *chara_respawn
				}
				else {
					continue
				}
			}
			if ( cExist(rc) != CHAR_STATE_ALIVE ) {
				continue
			}
			if ( cRole(rc) == ROLE_GUARD ) {
				if ( cKarma(CHARA_PLAYER) < (-30) ) {
					if ( difficulty() > cLevel(rc) ) {
						r1 = rc
						r2 = 1
						gosub *label_1588
					}
				}
			}
			if ( rc >= MAX_CHARA_SAVE ) {
				cHP(rc) = cMHP(rc)
				cMP(rc) = cMMP(rc)
				cSAN(rc) = 0
			}
			if ( rc >= MAX_CHARA_SAVE ) {
				if ( mRestorePos == 1 ) {
					cX(rc) = cXorg(rc)
					cY(rc) = cYorg(rc)
				}
				if ( cbit(CHARA_BIT_QUEST_TARGET, rc) == FALSE ) {
					cAiAggro(rc) = 0
					cRelation(rc) = cOrgRelation(rc)
				}
				if ( cRole(rc) == ROLE_GUARD ) {
					if ( cKarma(CHARA_PLAYER) < (-30) ) {
						if ( cbit(CHARA_BIT_INCOGNITO, CHARA_PLAYER) == FALSE ) {
							cAiAggro(rc) = 200
							cRelation(rc) = RELATION_ENEMY
						}
					}
				}
				if ( mType == MAP_TYPE_TOWN | mType == MAP_TYPE_VILLAGE ) {
					cSleep(rc) = 0
					if ( gHour  >= 22 | gHour  < 7 ) {
						if ( rnd(6) == 0 ) {
							cSleep(rc) = rnd(400)
						}
					}
				}
			}
			if ( rc == CHARA_PLAYER | (gRider != rc & ocPetBeingRiddenIdx(rc) == 0) ) {
				cell_check cX(rc), cY(rc)
				if ( mapChara(cX(rc), cY(rc)) != 0 | cellaccess != 1 ) {
					repeat
						x = cX(rc) + rnd(cnt / 2 + 2) - rnd(cnt / 2 + 2)
						y = cY(rc) + rnd(cnt / 2 + 2) - rnd(cnt / 2 + 2)
						if ( cnt > 100 ) {
							x = rnd(mWidth)
							y = rnd(mHeight)
						}
						if ( cnt > 1000 ) {
							break
						}
						cell_check x, y
						if ( cellaccess == 1 ) {
							cX(rc) = x
							cY(rc) = y
							break
						}
					loop
				}
			}
			if ( cbit(CHARA_BIT_RIDE, rc) == FALSE ) {
				mapChara(cX(rc), cY(rc)) = rc + 1
			}
		loop
	}

*map_begin
	dim efmap, 4, mWidth, mHeight
	if ( mWidth == 0 | mHeight == 0 ) {
		dialog lang("É}ÉbÉvÇÃÉçÅ[ÉhÇ…é∏îsÇµÇ‹ÇµÇΩÅB", "Map loading failed.")
		mode = MODELIST_NEW
		gArea  = AREA_HOME
		gLevel  = 1
		gWorldX = areaX(7)
		gWorldY = areaY(7)
		gAreaPrev = 2
		levelexitby = MAP_EXIT_NORMAL
		goto *map_init
	}
	if ( gArea  == AREA_SHOW_HOUSE ) {
		gosub *label_3093
		gosub *label_4258
	}
	if ( cfg_reloadcnpc == 1 ) {
		if ( gAreaPrev == 35 ) {
			gosub *label_3093
			gosub *label_4258
		}
	}
	repeat 5480
		if ( iID(cnt) == ITEM_ID_CARNEADES_PLANK ) {
			getitemid cnt
		}
		checkalter cnt
	loop
	if ( gArea  == AREA_SHOW_HOUSE ) {
		repeat 188, 57
			if ( cExist(cnt) == CHAR_STATE_ALIVE ) {
				if ( cId(cnt) == CREATURE_ID_USER ) {
					if ( cUNID(cnt) == usernpcmax ) {
						mapChara(cX(cnt), cY(cnt)) = 0
						del_chara cnt
						continue
					}
					if ( userdata(12, cUNID(cnt)) == 2 ) {
						mapChara(cX(cnt), cY(cnt)) = 0
						del_chara cnt
						continue
					}
				}
				rc = cnt
				gosub *label_3941
			}
		loop
	}
	memset mapinv, 0, mWidth * mHeight * 4
	inv_getheader -1
	repeat invrange, invhead
		if ( iNum(cnt) > 0 ) {
			if ( mapinv(iX(cnt), iY(cnt)) == 0 ) {
				mapinv(iX(cnt), iY(cnt)) = cnt + 1
			}
			else {
				mapinv(iX(cnt), iY(cnt)) = -1
			}
		}
	loop
	procid = (procid + 1) \ 10
	proclist(procid) = "Map:Prepare tile" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	cType(CHARA_PLAYER) = gArea , gLevel 
	raderx = -1
	radery = -1
	raderw = 120 / mWidth + 2
	raderh = 84 / mHeight + 2
	scx = cX(CHARA_PLAYER)
	scy = cY(CHARA_PLAYER)
	msync = 1
	gosub *label_2348
	gosub *label_1558
	gosub *label_1530
	procid = (procid + 1) \ 10
	proclist(procid) = "Map:Recaluculate crowd" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	gCrowd = 0
	if ( areaId(gArea ) == AREA_DUNGEON ) {
		ogdata(gLevel  + 10) = 0
	}
	repeat 245
		cSpeedSum(cnt) = 0
		if ( cId(cnt) == CREATURE_ID_USER ) {
			getunid cnt
			r1 = cnt
			gosub *charaRefresh
		}
		if ( noaggrorefresh == 0 ) {
			unlockson cnt
			cAiAggro(cnt) = 0
			ocbitmod 14, locvar_copy_chara_c, 0
		}
		cSync(cnt) = 0
		if ( cnt >= 57 ) {
			if ( cExist(cnt) != CHAR_STATE_DEAD ) {
				addcrowd gCrowd, 1
				if ( areaId(gArea ) == AREA_DUNGEON ) {
					if ( cRole(cnt) == ROLE_NONE ) {
						ogdata(gLevel  + 10)++
					}
				}
				if ( gArea  == AREA_SHOW_HOUSE ) {
					cHP(cnt) = cMHP(cnt)
				}
			}
		}
	loop
	repeat 5480
		if ( ICNpcSerialNo(cnt) ) {
			getunid4item cnt
		}
	loop
	procid = (procid + 1) \ 10
	proclist(procid) = "Map:Check renew" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	gosub *check_renew
	procid = (procid + 1) \ 10
	proclist(procid) = "Map:Update quest" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	if ( mType == MAP_TYPE_TOWN ) {
		gosub *label_0238
	}
	if ( mode == MODELIST_MAP ) {
		return
	}
	repeat gClient
		if ( qClient(cnt) == 0 ) {
			continue
		}
		if ( qExist(cnt) == QUEST_TYPE_CONQUER | qExist(cnt) == QUEST_TYPE_HUNTEX & qParam1(cnt) == 343 ) {
			getunid4job cnt
		}
	loop
	procid = (procid + 1) \ 10
	proclist(procid) = "Map:Proc scene" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	if ( flagMain == 9 ) {
		sceneid = 2
		gosub *scene
		flagMain = 10
	}
	if ( flagMain == 60 ) {
		sceneid = 5
		gosub *scene
		flagMain = 65
	}
	if ( flagMain == 110 ) {
		sceneid = 26
		gosub *scene
		flagMain = 115
	}
	if ( flagMain == 115 ) {
		if ( flagMsFool + flagMsKing + flagMsSage >= 1 ) {
			sceneid = 28
			gosub *scene
			flagMain = 116
		}
	}
	if ( flagMain == 116 ) {
		if ( flagMsFool + flagMsKing + flagMsSage >= 2 ) {
			sceneid = 29
			gosub *scene
			flagMain = 117
		}
	}
	if ( flagMain == 117 ) {
		if ( flagMsFool + flagMsKing + flagMsSage >= 3 ) {
			sceneid = 30
			gosub *scene
			flagMain = 120
		}
	}
	if ( gArea  == AREA_LESIMAS ) {
		if ( flagMain == 10 ) {
			sceneid = 3
			gosub *scene
			flagMain = 20
		}
		if ( gLevel  == 4 ) {
			if ( flagMain == 65 ) {
				sceneid = 7
				gosub *scene
				flagMain = 70
			}
		}
		if ( gLevel  == 7 ) {
			if ( flagMain == 70 ) {
				sceneid = 15
				gosub *scene
				flagMain = 75
			}
		}
		if ( gLevel  == 10 ) {
			if ( flagMain == 75 ) {
				sceneid = 16
				gosub *scene
				flagMain = 80
			}
		}
		if ( gLevel  == 14 ) {
			if ( flagMain == 80 ) {
				sceneid = 17
				gosub *scene
				flagMain = 85
			}
		}
		if ( gLevel  == 16 ) {
			if ( flagMain == 85 ) {
				sceneid = 24
				gosub *scene
				flagMain = 90
			}
		}
		if ( gLevel  == 26 ) {
			if ( flagMain == 125 ) {
				sceneid = 33
				gosub *scene
				flagMain = 130
			}
		}
		if ( gLevel  == 28 ) {
			if ( flagMain == 130 ) {
				sceneid = 35
				gosub *scene
				flagMain = 135
			}
		}
		if ( gLevel  == 31 ) {
			if ( flagMain == 135 ) {
				sceneid = 40
				gosub *scene
				flagMain = 140
			}
		}
		if ( gLevel  == 35 ) {
			if ( flagMain == 140 ) {
				sceneid = 60
				gosub *scene
				flagMain = 145
			}
		}
		if ( gLevel  == 38 ) {
			if ( flagMain == 145 ) {
				sceneid = 70
				gosub *scene
				flagMain = 150
			}
		}
		if ( gLevel  == 42 ) {
			if ( flagMain == 150 ) {
				sceneid = 90
				gosub *scene
				flagMain = 160
			}
		}
	}
	procid = (procid + 1) \ 10
	proclist(procid) = "Map:Area specific" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	if ( areaId(gArea ) == AREA_NOYEL ) {
		tc = findchara(CREATURE_ID_PAELS_MOM_LILY)
		if ( tc != CHARA_PLAYER ) {
			if ( sqMother >= 10 ) {
				cPic(tc) = xy2pic(30, 10)
				cPortrait(tc) = -1
			}
		}
	}
	if ( areaId(gArea ) == AREA_LUMIEST ) {
		if ( gLevel  == 3 ) {
			evadd EVENT_GUILD, guildcheck(0) == "mage"
		}
	}
	if ( areaId(gArea ) == AREA_DERPHY ) {
		if ( gLevel  == 3 ) {
			evadd EVENT_GUILD, guildcheck(0) == "thieve"
		}
	}
	if ( areaId(gArea ) == AREA_PORT_KAPUL ) {
		if ( gLevel  == 3 ) {
			evadd EVENT_GUILD, guildcheck(0) == "fighter"
		}
	}
	if ( areaId(gArea ) == 53 ) {
		if ( gLevel  == 3 ) {
			evadd EVENT_GUILD, guildcheck(0) == "blacksmith"
		}
	}
	if ( areaId(gArea ) == 51 ) {
		if ( gLevel  == 3 ) {
			evadd EVENT_GUILD, guildcheck(0) == "prostitute"
		}
	}
	if ( ogQuestGuildWars ) {
		evadd 108
	}
	if ( gArea  == AREA_VERNIS ) {
		if ( flagMain == 0 ) {
			sceneid = 1
			gosub *scene
			flagMain = 9
		}
		if ( flagAlly == 0 ) {
			evadd EVENT_FIRST_ALLY
		}
	}
	if ( gArea  == AREA_PALMIA ) {
		if ( flagMain == 30 ) {
			sceneid = 4
			gosub *scene
			flagMain = 40
		}
		if ( flagMain == 100 ) {
			sceneid = 25
			gosub *scene
			flagMain = 105
		}
	}
	if ( gArea  == AREA_NORTH_TYRIS ) {
		if ( flagMain == 180 ) {
			sceneid = 100
			gosub *scene
			flagMain = 200
			gYear  += 3
			repeat 16
				if ( gettrait(cnt, 131) == 1 ) {
					cAge(cnt) += 3
					if ( cAge(cnt) > gYear  ) {
						cAge(cnt) = gYear 
					}
				}
			loop
		}
	}
	if ( areaId(gArea ) == AREA_RANDOM_DUNGEON ) {
		if ( gLevel  == areaCanSave(gArea ) ) {
			if ( areaBoss(gArea ) == (-1) ) {
				msgtemp += lang("ï”ÇËÇ©ÇÁÇÕâΩÇÃãŸí£ä¥Ç‡ä¥Ç∂ÇÁÇÍÇ»Ç¢ÅB" + mapname(gArea ) + "ÇÃéÂÇÕÇ‡Ç§Ç¢Ç»Ç¢ÇÊÇ§ÇæÅB", "This place is pretty dull. The dungeon master is no longer sighted here.")
			}
		}
	}
	if ( ogQuestCatSister ) {
		if ( findchara(CREATURE_ID_YOUNGER_CAT_SISTER, 6, 1) ) {
			tc = stat
			if ( cRole(tc) == 20001 ) {
				lockon tc, 0, 7
				cAiAggro(tc) = 1000
			}
		}
		else {
			ogQuestCatSister = 0
		}
	}
	else {
		if ( evfind(107) == 0 ) {
			if ( findchara(CREATURE_ID_YOUNGER_CAT_SISTER, 6) ) {
				chara_vanquish stat
			}
		}
	}
	if ( ogQuestKnightsOfLittleGirls == 2 ) {
		if ( findchara(CREATURE_ID_BLACK_ANGEL, 6) == 0 ) {
			ogQuestKnightsOfLittleGirls = 0
			gQuestStatus = QUEST_STATE_SUCCESS
			gQuest = QUEST_TYPE_NONE
			ogdata(60) = 0
		}
	}
	else {
		if ( evfind(110) == 0 ) {
			if ( findchara(CREATURE_ID_BLACK_ANGEL, 6) ) {
				if ( cRole(stat) == 20004 ) {
					chara_vanquish stat
				}
			}
		}
	}
	procid = (procid + 1) \ 10
	proclist(procid) = "Map:Init music" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	gosub *music_play
	gosub *label_3062
	procid = (procid + 1) \ 10
	proclist(procid) = "Map:Init world" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	noaggrorefresh = 0
	if ( areaType(gArea ) == MAP_TYPE_WORLD ) {
		gosub *cloud_init
		gosub *label_2354
	}
	procid = (procid + 1) \ 10
	proclist(procid) = "Map:Continue" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	if ( mode == MODELIST_CONTINUE ) {
		mode = MODELIST_MAIN
		if ( mapsubroutine == 0 ) {
			screenupdate = -1
			gosub *screen_refreshFull
			txt_conv
			gosub *screen_draw
			if ( evnum == 0 ) {
				goto *pc_turn
			}
			else {
				goto *main_init
			}
		}
		else {
			mapsubroutine = 0
			return
		}
	}
	procid = (procid + 1) \ 10
	proclist(procid) = "Map:Update area" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	wake_up
	pcattacker = 0
	unlockson 0
	gScope = 0
	mode = MODELIST_MAIN
	screenupdate = -1
	gosub *screen_refreshFull
	txt_conv
	if ( gArea  == AREA_HOME ) {
		if ( flagMain != 0 ) {
			if ( findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND) != 0 ) {
				if ( cRole(stat) != ROLE_PET_SENTRY & cRole(stat) != ROLE_PET_MAID & eqfaction(stat, "petshop") == 0 ) {
					chara_vanquish findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND)
				}
			}
			if ( findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE) != 0 ) {
				if ( cRole(stat) != ROLE_PET_SENTRY & cRole(stat) != ROLE_PET_MAID & eqfaction(stat, "petshop") == 0 ) {
					chara_vanquish findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE)
				}
			}
		}
	}
	if ( gArea  == AREA_PALMIA ) {
		if ( flagMain >= 90 ) {
			if ( findchara(CREATURE_ID_XABI_THE_KING_OF_PALMIA) != 0 ) {
				chara_vanquish findchara(CREATURE_ID_XABI_THE_KING_OF_PALMIA)
			}
		}
	}
	if ( mType == MAP_TYPE_TOWN ) {
		repeat gClient
			if ( qExist(cnt) == QUEST_TYPE_ESCORT ) {
				if ( qStatus(cnt) == QUEST_STATE_ONGOING ) {
					cnt2 = cnt
					repeat 16
						if ( cbit(CHARA_BIT_BODYGUARD, cnt) == TRUE ) {
							if ( cExist(cnt) == CHAR_STATE_ALIVE ) {
								if ( cId(cnt) == qParam2(cnt2) ) {
									if ( qParam1(cnt2) == gArea  ) {
										evadd EVENT_CLIENT_REACHED, cnt2, cnt
										cbitmod CHARA_BIT_BODYGUARD, cnt, FALSE
										break
									}
								}
							}
						}
					loop
				}
			}
		loop
	}
	if ( areaId(gArea ) == AREA_MUSEUM | areaId(gArea ) == AREA_SHOP ) {
		repeat 5
			gosub *label_2164
		loop
	}
	if ( mCanSave == 1 ) {
		gosub *item_rot
	}
	if ( areaId(gArea ) == AREA_SHOP ) {
		gosub *label_2141
	}
	if ( areaId(gArea ) == AREA_MUSEUM ) {
		gosub *museum_update
	}
	if ( gArea  == AREA_HOME ) {
		gosub *house_update
	}
	if ( areaId(gArea ) == AREA_RANCH ) {
		repeat 245
			if ( cbit(CHARA_BIT_LIVESTOCK, cnt) == TRUE ) {
				cAiAggro(cnt) = 0
				cRelation(cnt) = RELATION_DISLIKE
				cOrgRelation(cnt) = RELATION_DISLIKE
				resetfaction cnt
				addfaction cnt, "pet,0"
			}
		loop
	}
	procid = (procid + 1) \ 10
	proclist(procid) = "Map:Init final" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	if ( mType == MAP_TYPE_WORLD ) {
		if ( cfg_extrahelp ) {
			if ( gdata(STARTING_GDATA_HELP + 2) == 0 ) {
				if ( mode == MODELIST_MAIN ) {
					if ( cActionPeriod(CHARA_PLAYER) == 0 ) {
						gdata(STARTING_GDATA_HELP + 2) = 1
						ghelp = 2
						gosub *elona_help
					}
				}
			}
		}
	}
	if ( mType == MAP_TYPE_TOWN ) {
		if ( cfg_extrahelp ) {
			if ( gdata(STARTING_GDATA_HELP + 3) == 0 ) {
				if ( mode == MODELIST_MAIN ) {
					if ( cActionPeriod(CHARA_PLAYER) == 0 ) {
						gdata(STARTING_GDATA_HELP + 3) = 1
						ghelp = 3
						gosub *elona_help
					}
				}
			}
		}
	}
	if ( gArea  == AREA_SHELTER ) {
		if ( cfg_extrahelp ) {
			if ( gdata(STARTING_GDATA_HELP + 14) == 0 ) {
				if ( mode == MODELIST_MAIN ) {
					if ( cActionPeriod(CHARA_PLAYER) == 0 ) {
						gdata(STARTING_GDATA_HELP + 14) = 1
						ghelp = 14
						gosub *elona_help
					}
				}
			}
		}
	}
	if ( mType == MAP_TYPE_TOWN | gArea  == AREA_HOME | mType == MAP_TYPE_VILLAGE ) {
		if ( gTravelDistance >= 16 ) {
			p = getgametime() - gTravelTime
			txt -1, lang(cnvdate(gTravelTime) + "Ç…" + mapname(gLastTown) + "Çî≠Ç¡ÇƒÇ©ÇÁÅA" + p / 24 + "ì˙Ç∆" + p \ 24 + "éûä‘ÇÃó∑ÇèIÇ¶ÇΩÅB", "" + p / 24 + " days and " + p \ 24 + " hours have passed since you left " + mapname(gLastTown) + ".")
			p = 0
			exp = difficulty() * gTravelDistance * sTravel(CHARA_PLAYER) / 100 + 1
			repeat 16
				if ( cExist(cnt) != CHAR_STATE_ALIVE ) {
					continue
				}
				if ( cType(cnt) ) {
					continue
				}
				p++
				cExp(cnt) += exp
			loop
			if ( p == 1 ) {
				s = "Ç†Ç»ÇΩ"
			}
			else {
				s = "Ç†Ç»ÇΩÇ∆ÇªÇÃíáä‘"
			}
			txt -1, lang(s + "ÇÕ" + gTravelDistance + "É}ÉCÉãÇÃãóó£Çï‡Ç´ÅAåoå±ÇêœÇÒÇæÅB", "You've walked about " + gTravelDistance + " miles and have gained experience.")
			skillexp2 SKILL_NORMAL_TRAVELING, CHARA_PLAYER, 25 + gTravelDistance * 2 / 3, 0, 1000
			ogTotalTravelDistance += gTravelDistance
			gosub *label_2665
			gTravelDistance = 0
		}
	}
	procid = (procid + 1) \ 10
	proclist(procid) = "Map:Quest message" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	if ( gArea  == AREA_QUEST ) {
		if ( gQuest == QUEST_TYPE_PARTY ) {
			txtef COLOR_SKY_BLUE
			txt -1, lang("" + gTimelimit + "ï™ä‘ÇÃä‘Ç…ÉpÅ[ÉeÉBÅ[Çê∑ÇËè„Ç∞ÇÊÇ§ÅBñ⁄ïWÇÕ" + qParam1(gQuestRef) + "É|ÉCÉìÉgÅB", "You have to warm up the party within " + gTimelimit + " minitues. Your target score is " + qParam1(gQuestRef) + " points.")
			if ( ogTitleMoldKiller == 2 ) {
				repeat 188, 57
					if ( cId(cnt) == CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE ) {
						txtef COLOR_SKY_BLUE
						txt -1, lang("Ç±ÇÃÉpÅ[ÉeÉBÅ[Ç…ÇÕàŸå`ÇÃêXÇÃégé“ÅwÉçÉ~ÉAÉXÅxÇ™éQâ¡ÇµÇƒÇ¢ÇÈÇÊÇ§ÇæÅB", "<Lomias> the messenger from Vindale seems to be participating in this party.")
						throwsstpevent "LomiasInTheParty", 0, "", 0
					}
				loop
			}
		}
		if ( gQuest == QUEST_TYPE_HARVEST ) {
			if ( qParam1(gQuestRef) <= 0 ) {
				qParam1(gQuestRef) = 15000
				qReward(gQuestRef) = 400
			}
			txtef COLOR_SKY_BLUE
			txt -1, lang("" + gTimelimit + "ï™à»ì‡Ç…ÅAî[ì¸î†Ç…" + cnvweight(qParam1(gQuestRef)) + "ÇÃçÏï®Çî[ì¸ÇµÇÊÇ§ÅB", "To complete the quest, you have to harvest " + cnvweight(qParam1(gQuestRef)) + " worth farm products and put them into the delivery chest within " + gTimelimit + " minutes.")
		}
		if ( gQuest == QUEST_TYPE_CONQUER ) {
			txtef COLOR_SKY_BLUE
			if ( qParam1(gQuestRef) == 343 ) {
				if ( qParam2(gQuestRef) != usernpcmax ) {
					s = userdatan(1, qParam2(gQuestRef))
				}
				else {
					s = lang("écÇËÉJÉX", "garbage")
				}
			}
			else {
				s = refchara(qParam1(gQuestRef), DBSPEC_CHARA_NAME_ORG, 1)
			}
			txt -1, lang("" + gTimelimit + "ï™à»ì‡Ç…ÅA" + s + "Çì¢î∞ÇµÇ»ÇØÇÍÇŒÇ»ÇÁÇ»Ç¢ÅB", "You have to slay " + s + " within " + gTimelimit + " minitues.")
		}
		if ( gQuest == 1020 ) {
			txtef COLOR_SKY_BLUE
			txt -1, lang("" + gTimelimit + "ï™ä‘ÇÃä‘Ç…ãqÇëΩÇ≠éÊÇÎÇ§ÅBñ⁄ïWÇÕ" + qParam1(gQuestRef) + "êlÅB", "" + "Let's get more customers in a " + gTimelimit + " minute. Target is " + qParam1(gQuestRef) + " people.")
		}
		if ( gQuest == 1021 ) {
			txtef COLOR_SKY_BLUE
			txt -1, lang("" + gTimelimit + "ï™ä‘ÇÃä‘ÅAórÇéÁÇËî≤Ç±Ç§ÅBëSÇƒÇÃìGÇì|Ç∑Ç∆É{Å[ÉiÉXÇ™ñ·Ç¶ÇÈÅB", "" + "You have " + gTimelimit + " minutes to protect your sheep. You will get a bonus if you defeat all the enemies.")
			if ( qLevel(gQuestRef) >= 15 ) {
				txtef COLOR_RED
				txt -1, lang("ÉÇÉìÉXÉ^Å[íBÇ™Ç±ÇøÇÁÇ…å¸Ç©Ç¡ÇƒóàÇÈÅI", "The monsters are coming towards us!")
				repeat 188, 57
					if ( cExist(cnt) == CHAR_STATE_ALIVE ) {
						if ( eqfaction(cnt, "nc_sheep") == 0 ) {
							cRelation(cnt) = RELATION_ENEMY
							lockon cnt, 0, 29
							cAiAggro(cnt) = 250
						}
					}
				loop
			}
		}
	}
	if ( gAreaPrev >= 0 ) {
		repeat 245
			if ( cExist(cnt) == CHAR_STATE_ALIVE ) {
				ctalk cnt, 1372, cnt, cnt
			}
			if ( cExist(cnt) == CHAR_STATE_SPIRIT ) {
				ctalk cnt, 1374, cnt, cnt
			}
		loop
		txtgod godcheck(), 2431
		throwsstpevent "MapChanged", 0, "", 0
	}
	if ( gArea  != gAreaPrev & gAreaPrev != 2 & gAreaPrev != 6 & gAreaPrev != 13 & gAreaPrev != 13 & gAreaPrev != 35 & gAreaPrev != 40 & gAreaPrev >= 0 ) {
		ctalk 0, 1315, 0, 0
		if ( stat == 0 ) {
			ctalk 0, 723, 0, 0
		}
		repeat 16 - 1, 1
			if ( cExist(cnt) == CHAR_STATE_ALIVE & cType(cnt) == 0 ) {
				ctalk cnt, 1315, cnt, cnt
				if ( stat == 0 ) {
					ctalk cnt, 723, cnt, cnt
				}
			}
		loop
		repeat 56 - 16, 16
			if ( cExist(cnt) == CHAR_STATE_ALIVE & cbit(CHARA_BIT_HIRED, cnt) != FALSE ) {
				ctalk cnt, 1315, cnt, cnt
				if ( stat == 0 ) {
					ctalk cnt, 1371, cnt, cnt
				}
			}
		loop
		if ( gArea  != AREA_HOME ) {
			repeat 188, 57
				if ( cExist(cnt) == CHAR_STATE_ALIVE & (cRole(cnt) == ROLE_PET_SENTRY | cRole(cnt) == ROLE_PET_MAID | eqfaction(cnt, "petshop")) ) {
					ctalk cnt, 1316, cnt, cnt
				}
			loop
		}
		txtgod godcheck(), 2429
		if ( stat == 0 ) {
			txtgod godcheck(), 2430
		}
		throwsstpevent "AreaChanged", 0, "" + mapname(gAreaPrev), gAreaPrev
		throwsstpevent "AreaChanged" + gArea , 0, "" + mapname(gAreaPrev), gAreaPrev
	}
	goto *main_init

*check_renew
	if ( getgametime() >= areaRandRenew(gArea ) ) {
		areaRandSeed(gArea ) = rnd(10000)
		areaRandRenew(gArea ) = getgametime() + 24
	}
	if ( getgametime() >= mRenew ) {
		procid = (procid + 1) \ 10
		proclist(procid) = "renew_major" + " ct:" + ct
		if ( dbg_outputdebuglog ) {
		}
		if ( mNoRenew == 0 ) {
			if ( mRenew != 0 ) {
				repeat mHeight
					y = cnt
					repeat mWidth
						if ( mapFeat(cnt, y) != 0 ) {
							cell_featread cnt, y
							if ( featId >= CELL_FEATURE_SAMPLING_SPOT_DETECTION & featId <= CELL_FEATURE_SAMPLING_SPOT_GARDENING ) {
								cell_featclear cnt, y
							}
						}
					loop
				loop
				inv_getheader -1
				repeat invrange, invhead
					if ( iNum(cnt) == 0 ) {
						continue
					}
					if ( iID(cnt) == ITEM_ID_TREE_FRUIT ) {
						if ( iParam1(cnt) < 10 ) {
							iParam1(cnt) += (getgametime() - mRenew) / 120 + 1
							if ( iParam1(cnt) > 10 ) {
								iParam1(cnt) = 10
							}
							iPic(cnt) = xy2pic(30, 17)
							cell_refresh iX(cnt), iY(cnt)
						}
					}
					if ( areaId(gArea ) == AREA_CROP ) {
						if ( iID(cnt) == ITEM_ID_TREE_FRUIT ) {
							if ( chipm(CHIPM_ROLE, mapId(iX(cnt), iY(cnt))) == MAP_CHIP_ROLE_CROP ) {
								nc_intb_001 = cnt
								repeat (getgametime() - mRenew) / 120 + 1
									if ( rnd(10) == 0 ) {
										if ( inv_sum(-1) < mMaxInv ) {
											fx = iX(nc_intb_001) + rnd(3) - 1
											fy = iY(nc_intb_001) + rnd(3) - 1
											if ( fx >= 0 & fx < mWidth & (fx != iX(nc_intb_001) | fy != iY(nc_intb_001)) ) {
												if ( fy >= 0 & fy < mHeight ) {
													if ( chipm(CHIPM_ROLE, mapId(fx, fy)) == MAP_CHIP_ROLE_CROP & mapItems(fx, fy) == 0 ) {
														flt
														itemcreate -1, ITEM_ID_BOOK_BOKONON, fx, fy, 0
														if ( iParam2(nc_intb_001) != 290 & iParam2(nc_intb_001) != 505 ) {
															iParam2(ci) = iParam2(nc_intb_001)
														}
														cell_refresh iX(ci), iY(ci)
													}
												}
											}
										}
									}
								loop
							}
						}
						if ( iID(cnt) == ITEM_ID_BOOK_BOKONON ) {
							if ( iParam1(cnt) < iParam3(cnt) ) {
								iParam1(cnt) += (getgametime() - mRenew) / 120 * iSkillRef(cnt) + iSkillRef(cnt)
								if ( iParam1(cnt) > iParam3(cnt) ) {
									iParam1(cnt) = iParam3(cnt)
								}
								iPic(cnt) = xy2pic(30, 17)
								cell_refresh iX(cnt), iY(cnt)
							}
							if ( chipm(CHIPM_ROLE, mapId(iX(cnt), iY(cnt))) == MAP_CHIP_ROLE_CROP ) {
								nc_intb_001 = cnt
								repeat (getgametime() - mRenew) / 120 + 1
									if ( inv_sum(-1) < mMaxInv ) {
										fx = iX(nc_intb_001) + rnd(3) - 1
										fy = iY(nc_intb_001) + rnd(3) - 1
										if ( fx >= 0 & fx < mWidth & fy >= 0 & fy < mHeight & (fx != iX(nc_intb_001) | fy != iY(nc_intb_001)) ) {
											if ( chipm(CHIPM_ROLE, mapId(fx, fy)) == MAP_CHIP_ROLE_CROP ) {
												f = mapitemfind(fx, fy, ITEM_ID_BOOK_BOKONON)
												if ( f != (-1) ) {
													dim fip, 3
													fip(0) = iParam2(f)
													fip(1) = iParam3(f)
													fip(2) = iSkillRef(f)
													fx = iX(nc_intb_001) + rnd(3) - 1
													fy = iY(nc_intb_001) + rnd(3) - 1
													if ( fx != iX(nc_intb_001) | fy != iY(nc_intb_001) & (fx != iX(f) | fy != iY(f)) ) {
														if ( fy >= 0 & fy < mHeight & fx >= 0 & fx < mWidth ) {
															if ( chipm(CHIPM_ROLE, mapId(fx, fy)) == MAP_CHIP_ROLE_CROP ) {
																if ( mapItems(fx, fy) == 0 ) {
																	flt
																	itemcreate -1, ITEM_ID_BOOK_BOKONON, fx, fy, 0
																	iParam2(ci) = kouhai(fip(0), iParam2(nc_intb_001))
																	iParam3(ci) = rnd((iParam3(f) + iParam3(nc_intb_001)) / 2 + 3) + 1
																	if ( iParam3(ci) > 1000 ) {
																		iParam3(ci) = 1000
																	}
																	if ( iParam3(ci) > int(sqrt(sGardening(CHARA_PLAYER))) + 1 ) {
																		iParam3(ci) = int(sqrt(sGardening(CHARA_PLAYER))) + 1
																	}
																	iSkillRef(ci) = rnd((iSkillRef(ci) + iSkillRef(ci)) / 2 + 1) + 1
																	if ( iSkillRef(ci) > SKILL_RES_FIRE ) {
																		iSkillRef(ci) = SKILL_RES_FIRE
																	}
																	cell_refresh iX(ci), iY(ci)
																}
															}
														}
													}
												}
											}
										}
									}
								loop
							}
						}
					}
					if ( mType == MAP_TYPE_TOWN | mType == MAP_TYPE_VILLAGE ) {
						if ( gLevel  != 3 ) {
							if ( iProperty(cnt) < PROP_NONE ) {
								iProperty(cnt)++
							}
							if ( iProperty(cnt) == PROP_NONE ) {
								iNum(cnt) = 0
								cell_refresh iX(cnt), iY(cnt)
							}
						}
					}
				loop
				if ( mModerateCrowd != 0 ) {
					repeat (getgametime() - mRenew) / (24 * 3)
						gosub *label_2164
					loop
				}
			}
			repeat 188, 57
				rc = cnt
				gosub *label_1718
				if ( cExist(cnt) != CHAR_STATE_ALIVE ) {
					continue
				}
				if ( cbit(CHARA_BIT_SUMMONED, cnt) == TRUE ) {
					if ( rnd(2) ) {
						cExist(cnt) = CHAR_STATE_DEAD
						mapChara(cX(cnt), cY(cnt)) = 0
					}
				}
			loop
			p = rnd(mHeight * mWidth / 400 + 3)
			if ( mType == MAP_TYPE_WORLD ) {
				p = rnd(40)
			}
			if ( mType == MAP_TYPE_TOWN ) {
				p = rnd(rnd(rnd(12) + 1) + 1)
			}
			if ( mType == MAP_TYPE_VILLAGE ) {
				p = rnd(p + 1)
			}
			repeat p
				map_randsite
			loop
		}
		if ( mType == MAP_TYPE_TOWN | areaId(gArea ) == AREA_DUNGEON | (areaId(gArea ) == AREA_RANDOM_DUNGEON & gLevel  == areaMinLevel(gArea )) ) {
			if ( oabit(10, gArea ) == 0 ) {
				if ( rnd(limit(50 - sLUC(CHARA_PLAYER) / 50, 15, 50)) == 0 ) {
					flt
					initlv = difficulty() + rnd(5)
					characreate -1, CREATURE_ID_YOUNGER_CAT_SISTER_2, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
					if ( areaId(gArea ) == AREA_DUNGEON ) {
						cRole(rc) = 20003
						cAiCalm(rc) = 3
						cdata(STARTING_CDATA_ACT_MAIN, rc) = SKILL_NONE
						cdata(STARTING_CDATA_ACT_SUB, rc) = SKILL_NONE
						cActIndex(rc) = 1
						cAiMoveFreq(rc) = 0
						cAiDistance(rc) = 1
						ocAIStrategy(rc) = AI_STRATEGY_DONT_ATTACK
						evadd 107
					}
					else {
						if ( areaId(gArea ) == AREA_RANDOM_DUNGEON ) {
							cRole(rc) = 20005
							ogQuestCatSister = 0
							tc = CHARA_PLAYER
							repeat 20
								p = rnd(gCrowd + 1) + 57
								if ( p >= 245 ) {
									continue cnt
								}
								if ( cExist(p) == CHAR_STATE_ALIVE ) {
									tc = p
									break
								}
							loop
							telex = cX(tc)
							teley = cY(tc)
							tc = rc
							efid = SKILL_SPACT_SHADOW_STEP
							gosub *effect_SWEND1
							evadd 107
						}
						else {
							cRole(rc) = 20001
							evadd 107
						}
					}
				}
			}
		}
		if ( areaId(gArea ) == AREA_RANDOM_DUNGEON ) {
			if ( oabit(7, gArea ) ) {
				if ( gLevel  == areaMinLevel(gArea ) ) {
					if ( rnd(50) == 0 ) {
						flt
						initlv = 150 + difficulty()
						characreate -1, CREATURE_ID_BLACK_ANGEL_2, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
						cRole(rc) = 20004
						ocAIStrategy(rc) = AI_STRATEGY_RUSH_IN
						f = 0
						repeat 30
							body = 100 + cnt
							if ( cdata(body, rc) \ EXT_EQUIP_SLOTS == 0 ) {
								continue
							}
							if ( cdata(body, rc) / EXT_EQUIP_SLOTS == 11 ) {
								ci = cdata(body, rc) \ EXT_EQUIP_SLOTS - 1
								f = 1
								break
							}
						loop
						if ( f ) {
							encadd ci, 90005, 7007, 0, 1
						}
						evadd 110
					}
				}
			}
		}
		if ( gLevel  == 3 ) {
			if ( gRankGuild < 3000 ) {
				if ( areaId(gArea ) == AREA_LUMIEST & guildcheck(0) == "mage" | (areaId(gArea ) == AREA_DERPHY & guildcheck(0) == "thieve") | (areaId(gArea ) == AREA_PORT_KAPUL & guildcheck(0) == "fighter") ) {
					if ( rnd(25) == 0 ) {
						guildlistmax = 0
						dim guildlist, 3
						if ( guildcheck(0) != "mage" ) {
							guildlist(guildlistmax) = 0
							guildlistmax++
						}
						if ( guildcheck(0) != "thieve" ) {
							guildlist(guildlistmax) = 2
							guildlistmax++
						}
						if ( guildcheck(0) != "fighter" ) {
							guildlist(guildlistmax) = 1
							guildlistmax++
						}
						rndshuffle guildlist, guildlistmax
						repeat 2
							ambushtarget = cnt
							guildrank = gRankGuild / 100
							if ( guildrank <= 10 ) {
								flt
								characreate -1, csetguildmaster(guildlist(ambushtarget)), -3, 0
								if ( stat != 0 ) {
									cRelation(rc) = RELATION_DISLIKE
									cOrgRelation(rc) = RELATION_DISLIKE
								}
							}
							if ( guildrank == 1 ) {
								p = 1
							}
							else {
								if ( guildrank <= 5 ) {
									p = 2
								}
								else {
									if ( guildrank <= 10 ) {
										p = 3
									}
									else {
										p = guildrank / 15 + 4
									}
								}
							}
							repeat rnd(20 / p) + 6
								flt
								characreate -1, csetguildmember(guildlist(ambushtarget)), -3, 0
								if ( stat != 0 ) {
									cRelation(rc) = RELATION_DISLIKE
									cOrgRelation(rc) = RELATION_DISLIKE
								}
							loop
							if ( rnd(5) ) {
								break
							}
						loop
						evadd 108
						ogQuestGuildWars = 1
					}
				}
			}
		}
		mRenew = getgametime() + 120
	}
	if ( ncgSignsOfProsperity ) {
		if ( areaId(gArea ) == AREA_RANCH ) {
			ncgSignsOfProsperity = 0
			renewmulti += 1080
			gosub *ranch_update
			renewmulti = 0
		}
	}
	if ( getgametime() >= mRenewMinor ) {
		procid = (procid + 1) \ 10
		proclist(procid) = "renew_minor" + " ct:" + ct
		if ( dbg_outputdebuglog ) {
		}
		if ( mRenewMinor == 0 ) {
			renewmulti = 1
		}
		else {
			renewmulti = (getgametime() - mRenewMinor) / 24 + 1
		}
		if ( areaId(gArea ) == AREA_RANCH ) {
			gosub *ranch_update
		}
		if ( areaId(gArea ) == AREA_HOME ) {
			repeat 188, 57
				if ( cExist(cnt) != CHAR_STATE_ALIVE ) {
					continue
				}
				if ( cbit(CHARA_BIT_SUMMONED, cnt) == TRUE ) {
					cExist(cnt) = CHAR_STATE_DEAD
					mapChara(cX(cnt), cY(cnt)) = 0
				}
			loop
		}
		if ( mNoRenew == 0 ) {
			repeat mHeight
				y = cnt
				repeat mWidth
					if ( mapFeat(cnt, y) != 0 ) {
						cell_featread cnt, y
						x = cnt
						if ( featId == CELL_FEATURE_PLANTED_SEED ) {
							locvar_dmghp_p = 0
							repeat 15, 1
								if ( cExist(cnt) != CHAR_STATE_ALIVE ) {
									continue
								}
								if ( ocPetJobSkill(cnt) == 180 ) {
									if ( locvar_dmghp_p < sGardening(cnt) ) {
										locvar_dmghp_p = sGardening(cnt)
									}
								}
							loop
							repeat renewmulti
								if ( feat >= tile_plant + 2 ) {
									break
								}
								if ( chipm(CHIPM_ROLE, mapId(x, y)) == MAP_CHIP_ROLE_CROP ) {
									val = 1
								}
								else {
									val = 0
								}
								gosub *label_3705
							loop
							cell_featset cnt, y, feat, featId, featIdSub, featParam1
						}
					}
				loop
			loop
			if ( mType == MAP_TYPE_TOWN | mType == MAP_TYPE_VILLAGE | gArea  == AREA_HOME ) {
				repeat 188, 57
					if ( cRole(cnt) == ROLE_PET_SENTRY | cRole(cnt) == ROLE_PET_MAID | eqfaction(cnt, "petshop") ) {
						continue
					}
					if ( cExist(cnt) != CHAR_STATE_ALIVE ) {
						continue
					}
					generatemoney cnt
					if ( cId(cnt) == CREATURE_ID_BARD ) {
						if ( itemfind(cnt, 60005, ITEM_ID_LONG_SWORD) == (-1) ) {
							if ( rnd(150) == 0 ) {
								flt
								itemcreate cnt, ITEM_ID_STRADIVARIUS, -1, -1, 0
							}
							else {
								flt calcobjlv(cLevel(cnt)), calcfixlv()
								flttypeminor = FILTER_FURNITURE_INSTRUMENT
								itemcreate cnt, ITEM_ID_DUMMY, -1, -1, 0
							}
						}
					}
					rc = cnt
					if ( rnd(5) == 0 ) {
						gosub *supplyEquip
					}
					if ( rnd(2) == 0 ) {
						if ( inv_sum(rc) < 8 ) {
							flt calcobjlv(cLevel(rc)), calcfixlv(FIX_QUALITY_GOOD)
							itemcreate rc, ITEM_ID_DUMMY, -1, -1, 0
							if ( stat != 0 ) {
								if ( iWeight(ci) <= 0 | iWeight(ci) >= 4000 ) {
									iNum(ci) = 0
								}
							}
						}
					}
				loop
			}
		}
		mRenewMinor = getgametime() + 24
	}
	if ( areaId(gArea ) == AREA_RANCH ) {
		if ( getworker(gArea ) != (-1) ) {
			msgtemp += lang("ëOâÒÇÃóàñKÇ©ÇÁÅA" + nc_intb_101 + "âÒî…êBÇµÅA" + nc_intb_102 + "å¬ÇÃóëÅA" + nc_intb_103 + "å¬ÇÃì˚Ç™ê∂éYÇ≥ÇÍÇΩÅB", "Since our last visit, bred " + nc_intb_001 + " times, producing " + nc_intb_002 + " eggs and " + nc_intb_003 + " milk.")
			if ( nc_intb_104 != 0 ) {
				msgtemp += lang("çXÇ…ÅAçzêŒÇ" + nc_intb_104 + "å¬èEÇ¡ÇƒÇ´ÇƒÇ¢ÇÈÅB", "In addition, we are picking up " + nc_intb_104 + " ore.")
			}
			ncgLivestockBred += nc_intb_101
			if ( ncgLivestockBred >= 100 ) {
				newtitle TITLE_THE_TETSUWAN_RUSH
			}
		}
	}
	return

*label_2348
	procid = (procid + 1) \ 10
	proclist(procid) = "map_prepareTile:begin" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	gsel BUFFER_MAP_S
	redraw 0
	if ( mTileFile != mtilefilecur | areaType(gArea ) == MAP_TYPE_HOME | firstturn == 1 ) {
		pos 0, 0
		mtilefilecur = mTileFile
		if ( areaType(gArea ) == MAP_TYPE_HOME ) {
			if ( existfile_map == 1 ) {
				picload_ exedir + "user\\graphic\\map1.bmp", 1
				mtilefilecur = -1
			}
			else {
				picload_ exedir + "\\graphic\\map" + mTileFile + ".bmp", 1
			}
		}
		else {
			picload_ exedir + "\\graphic\\map" + mTileFile + ".bmp", 1
		}
		gosub *mapchip_init
	}
	map_tileset mTileSet
	gsel BUFFER_MAP
	gmode 0
	pos 0, 0
	gcopy BUFFER_MAP_S, 0, 0, 33 * inf_tiles, 25 * inf_tiles
	p = 5, 5, 5
	shade = 15
	if ( mField == MAP_FIELD_OUTDOOR ) {
		if ( gHour  >= 24 ) {
			p = 110, 90, 60
			shade = 8
		}
		if ( gHour  >= 0 & gHour  < 4 ) {
			p = 110, 90, 60
			shade = 8
		}
		if ( gHour  >= 4 & gHour  < 10 ) {
			p = 70 - (gHour  - 3) * 10, 80 - (gHour  - 3) * 12, 60 - (gHour  - 3) * 10
			if ( p < 10 ) {
				p = 10
				shade = (gHour  - 3) * 2 + 8
			}
		}
		if ( gHour  >= 10 & gHour  < 12 ) {
			p = 10, 10, 10
			shade = 25
		}
		if ( gHour  >= 12 & gHour  < 17 ) {
			p = 0, 0, 0
			shade = 25
		}
		if ( gHour  >= 17 & gHour  < 21 ) {
			p = 0 + (gHour  - 17) * 20, 15 + (gHour  - 16) * 15, 10 + (gHour  - 16) * 10
			shade = 12
		}
		if ( gHour  >= 21 & gHour  < 24 ) {
			p = 80 + (gHour  - 21) * 10, 70 + (gHour  - 21) * 10, 40 + (gHour  - 21) * 5
			shade = 7
		}
		if ( gWeather == WEATHER_RAIN ) {
			if ( p < 40 ) {
				p = 40, 40, 40
			}
		}
		if ( gWeather == WEATHER_HARD_RAIN ) {
			if ( p < 65 ) {
				p = 65, 65, 65
			}
		}
		if ( gArea  == AREA_NOYEL ) {
			if ( gHour  >= 17 | gHour  < 7 ) {
				p += 35
				p(1) += 35
				p(2) += 35
			}
		}
	}
	pos 0, 0
	gfini 33 * inf_tiles, 25 * inf_tiles
	gfdec2 p, p(1), p(2)
	color 255, 255, 255
	gmode 4, , , 30
	if ( mTileFile == 0 ) {
		pos 0, 192
		gcopy BUFFER_MAP_S, 0, 192, 1360, 48
	}
	if ( mTileFile == 1 ) {
		pos 0, 1056
		gcopy BUFFER_MAP_S, 0, 1056, 1360, 48
	}
	if ( mTileFile != 2 ) {
		pos 0, 336
		gcopy BUFFER_MAP_S, 0, 336, 1360, 48
	}
	gmode 0
	gsel BUFFER_SCREEN
	gmode 2, 24, 24
	procid = (procid + 1) \ 10
	proclist(procid) = "map_prepareTile:end" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	return

*label_2349
	procid = (procid + 1) \ 10
	proclist(procid) = "world_newRandArea" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	p = 0
	repeat 500 - 450, 450
		if ( areaId(cnt) == AREA_RANDOM_DUNGEON ) {
			if ( areaBoss(cnt) != (-1) ) {
				p++
			}
		}
	loop
	p = 40 - p
	if ( p < 1 ) {
		p = 1
	}
	repeat p
		cxinit = rnd(mWidth)
		cyinit = rnd(mHeight)
		gosub *label_2368
	loop
	gosub *label_2358
	return 1
	repeat 500 - 450, 450
		if ( areaId(cnt) == AREA_NONE ) {
			continue
		}
		if ( areaId(cnt) == AREA_RANDOM_DUNGEON ) {
			if ( rnd(3) == 0 ) {
				areaBoss(cnt) = -1
			}
		}
	loop
	gosub *label_2354
	repeat 500 - 450, 450
		if ( areaId(cnt) == AREA_NONE ) {
			continue
		}
		if ( areaId(cnt) == AREA_RANDOM_DUNGEON ) {
			areaX(cnt) = cnt * 3 \ mWidth
			areaY(cnt) = cnt * 3 \ mHeight
			areaMinLevel(cnt) = 33
			areaCanSave(cnt) = 33
		}
	loop
	gosub *label_2364
	gosub *label_2359
	return

*label_2354
	procid = (procid + 1) \ 10
	proclist(procid) = "world_update" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	if ( gWorldRenew == TRUE ) {
		gosub *label_2367
		gosub *label_2358
		repeat 500 - 450, 450
			areaId(cnt) = AREA_NONE
		loop
	}
	p = 0
	repeat 500 - 450, 450
		if ( areaId(cnt) == AREA_NONE ) {
			continue
		}
		if ( areaId(cnt) == AREA_RANDOM_DUNGEON ) {
			if ( areaBoss(cnt) != (-1) ) {
				p++
			}
		}
	loop
	if ( ncgQuestAwaitOnesReturn == 5 ) {
		ncgQuestAwaitOnesReturn++
		gosub *label_2358
	}
	if ( ncgQuestForMyFriends == 1 ) {
		ncgQuestForMyFriends++
		gosub *label_2358
	}
	if ( p <= 25 | rnd(150) == 0 | flagRenewDungeon != 0 | gWorldRenew ) {
		procid = (procid + 1) \ 10
		proclist(procid) = "world_update_rand_dungeon" + " ct:" + ct
		if ( dbg_outputdebuglog ) {
		}
		flagRenewDungeon = 0
		msgtemp += lang("Ç±ÇÃëÂó§Ç…ëÂÇ´Ç»ínäkïœìÆÇ™ãNÇ±Ç¡ÇΩÅB", "A sudden diastrophism hits the continent.")
		repeat 500 - 450, 450
			if ( areaId(cnt) == AREA_RANDOM_DUNGEON ) {
				if ( rnd(5) == 0 | areaBoss(cnt) == (-1) & (oabit(17, cnt) == 0 & oabit(18, cnt) == 0) ) {
					areaId(cnt) = AREA_NONE
				}
			}
		loop
		gosub *label_2349
		gosub *label_2358
	}
	gWorldRenew = FALSE
	return

*label_2358
	gosub *label_2364
	gosub *label_2359
	return

*label_2359
	procid = (procid + 1) \ 10
	proclist(procid) = "world_setArea:building" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	gosub *mapchip_init
	repeat 20
		cnt2 = cnt
		if ( gWorld != AREA_NORTH_TYRIS ) {
			break
		}
		repeat 10
			if ( bddata(0, cnt2, cnt) != 0 ) {
				p = bddata(0, cnt2, cnt)
				cell_featset bddata(1, cnt2, cnt), bddata(2, cnt2, cnt), bddata(3, cnt2, cnt), CELL_FEATURE_BUILDING, cnt2, cnt
			}
		loop
	loop
	repeat 500
		procid = (procid + 1) \ 10
		proclist(procid) = "world_setArea:fix:id" + cnt + "/" + areaId(cnt) + " ct:" + ct
		if ( dbg_outputdebuglog ) {
		}
		if ( areaId(cnt) == AREA_NONE | areaIcon(cnt) == xy2pic(0, 0) ) {
			continue
		}
		if ( areaParent(cnt) != gWorld ) {
			continue
		}
		if ( areaId(cnt) == 900 ) {
			areaId(cnt) = AREA_PET_ARENA
			continue
		}
		if ( areaId(cnt) >= 900 ) {
			areaId(cnt) -= 800
			continue
		}
		procid = (procid + 1) \ 10
		proclist(procid) = "world_setArea:fix:begin" + areaX(cnt) + "/" + areaY(cnt) + " ct:" + ct
		if ( dbg_outputdebuglog ) {
		}
		if ( areaX(cnt) <= 0 | areaY(cnt) <= 0 | areaX(cnt) >= mWidth | areaY(cnt) >= mHeight ) {
			areaX(cnt) = mWidth / 2
			areaY(cnt) = mHeight / 2
		}
		p = cnt
		if ( chipm(CHIPM_ATTRIB, mapId(areaX(cnt), areaY(cnt))) & CHIPM_ATTRIB_CANT_PASS | mapFeat(areaX(cnt), areaY(cnt)) != 0 ) {
			procid = (procid + 1) \ 10
			proclist(procid) = "world_setArea:fix:loop" + " ct:" + ct
			if ( dbg_outputdebuglog ) {
			}
			repeat
				await
				dx = limit(rnd(cnt / 4 + 1) + 1, 1, mWidth)
				dy = limit(rnd(cnt / 4 + 1) + 1, 1, mHeight)
				x = areaX(p) + rnd(dx) - rnd(dx)
				y = areaY(p) + rnd(dy) - rnd(dy)
				if ( x <= 0 | y <= 0 | x >= mWidth - 1 | y >= mHeight - 1 ) {
					continue
				}
				if ( xy2pic(0, 1) <= mapId(x, y) & mapId(x, y) < xy2pic(0, 2) ) {
					continue
				}
				if ( chipm(CHIPM_ATTRIB, mapId(x, y)) & CHIPM_ATTRIB_CANT_PASS ) {
					continue
				}
				if ( mapFeat(x, y) != 0 ) {
					continue
				}
				areaX(p) = x
				areaY(p) = y
				break
			loop
		}
		procid = (procid + 1) \ 10
		proclist(procid) = "world_setArea:fix:xy:" + x + ":" + y + " ct:" + ct
		if ( dbg_outputdebuglog ) {
		}
		procid = (procid + 1) \ 10
		proclist(procid) = "world_setArea:fix:map:" + mapId(areaX(cnt), areaY(cnt)) + " ct:" + ct
		if ( dbg_outputdebuglog ) {
		}
		cell_featset areaX(cnt), areaY(cnt), areaIcon(cnt), CELL_FEATURE_NEFIA, cnt \ 100, cnt / 100
		procid = (procid + 1) \ 10
		proclist(procid) = "world_setArea:fix:'" + " ct:" + ct
		if ( dbg_outputdebuglog ) {
		}
		if ( areaType(cnt) == MAP_TYPE_TOWN | areaType(cnt) == MAP_TYPE_VILLAGE ) {
			mapLight(areaX(cnt), areaY(cnt)) = 11
		}
	loop
	procid = (procid + 1) \ 10
	proclist(procid) = "world_setArea:end" + " ct:" + ct
	if ( dbg_outputdebuglog ) {
	}
	return

*label_2364
	repeat mHeight
		y = cnt
		repeat mWidth
			x = cnt
			cell_featread x, y
			if ( featId >= CELL_FEATURE_SAMPLING_SPOT_DETECTION & featId <= CELL_FEATURE_SAMPLING_SPOT_GARDENING ) {
			}
			else {
				mapFeat(x, y) = 0
			}
			mapLight(x, y) = 0
		loop
	loop
	return

*label_2367
	p = 47
	areaId(p) = AREA_TEST_WORLD
	areaIcon(p) = xy2pic(0, 0)
	areaType(p) = MAP_TYPE_WORLD
	areaX(p) = 18
	areaY(p) = 14
	areaStartOn(p) = 6
	areaTileFile(p) = 2
	areaTileSet(p) = 1
	areaMaxLevel(p) = 50000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 2
	areaRestorePos(p) = 1
	areaIcon(p) = 0
	areaParent(p) = AREA_TEST_WORLD
	p = 48
	areaId(p) = AREA_TW_NORTH_BORDER
	areaIcon(p) = xy2pic(26, 4)
	areaType(p) = MAP_TYPE_VILLAGE
	areaStartOn(p) = 8
	areaTileFile(p) = 1
	areaTileSet(p) = 2
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaParent(p) = AREA_TEST_WORLD
	if ( ncgMovedBorder == 0 ) {
		areaX(p) = 18
		areaY(p) = 14
	}
	p = 44
	areaId(p) = AREA_SOUTH_TYRIS
	areaIcon(p) = xy2pic(0, 0)
	areaType(p) = MAP_TYPE_WORLD
	areaX(p) = 26
	areaY(p) = 23
	areaStartOn(p) = 6
	areaTileFile(p) = 2
	areaTileSet(p) = 1
	areaMaxLevel(p) = 50000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 2
	areaRestorePos(p) = 1
	areaIcon(p) = 0
	areaParent(p) = AREA_SOUTH_TYRIS
	p = 45
	areaId(p) = AREA_ST_NORTH_BORDER
	areaIcon(p) = xy2pic(26, 4)
	areaType(p) = MAP_TYPE_VILLAGE
	areaX(p) = 41
	areaY(p) = 8
	areaStartOn(p) = 8
	areaTileFile(p) = 1
	areaTileSet(p) = 2
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaParent(p) = AREA_SOUTH_TYRIS
	p = 46
	areaId(p) = AREA_SMOKE_AND_PIPE
	areaIcon(p) = xy2pic(27, 4)
	areaType(p) = MAP_TYPE_VILLAGE
	areaX(p) = 39
	areaY(p) = 13
	areaStartOn(p) = 8
	areaTileFile(p) = 1
	areaTileSet(p) = 2
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaParent(p) = AREA_SOUTH_TYRIS
	p = 4
	areaId(p) = AREA_NORTH_TYRIS
	areaIcon(p) = xy2pic(0, 0)
	areaType(p) = MAP_TYPE_WORLD
	areaX(p) = 26
	areaY(p) = 23
	areaStartOn(p) = 6
	areaTileFile(p) = 2
	areaTileSet(p) = 1
	areaMaxLevel(p) = 50000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 2
	areaRestorePos(p) = 1
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 5
	areaId(p) = AREA_VERNIS
	areaIcon(p) = xy2pic(0, 4)
	areaType(p) = MAP_TYPE_TOWN
	areaX(p) = 26
	areaY(p) = 23
	areaStartOn(p) = 3
	areaTileFile(p) = 1
	areaTileSet(p) = 2
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 999
	areaField(p) = 2
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaEconomy(p) = 1
	areaParent(p) = AREA_NORTH_TYRIS
	p = 12
	areaId(p) = AREA_YOWYN
	areaIcon(p) = xy2pic(10, 4)
	areaType(p) = MAP_TYPE_TOWN
	areaX(p) = 43
	areaY(p) = 32
	areaStartOn(p) = 3
	areaTileFile(p) = 1
	areaTileSet(p) = 2
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 999
	areaField(p) = 2
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaEconomy(p) = 2
	areaParent(p) = AREA_NORTH_TYRIS
	p = 15
	areaId(p) = AREA_PALMIA
	areaIcon(p) = xy2pic(4, 4)
	areaType(p) = MAP_TYPE_TOWN
	areaX(p) = 53
	areaY(p) = 24
	areaStartOn(p) = 3
	areaTileFile(p) = 1
	areaTileSet(p) = 2
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 2
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaEconomy(p) = 3
	areaParent(p) = AREA_NORTH_TYRIS
	p = 14
	areaId(p) = AREA_DERPHY
	areaIcon(p) = xy2pic(10, 4)
	areaType(p) = MAP_TYPE_TOWN
	areaX(p) = 14
	areaY(p) = 35
	areaStartOn(p) = 3
	areaTileFile(p) = 1
	areaTileSet(p) = 2
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 999
	areaField(p) = 2
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaEconomy(p) = 4
	areaParent(p) = AREA_NORTH_TYRIS
	p = 11
	areaId(p) = AREA_PORT_KAPUL
	areaIcon(p) = xy2pic(0, 4)
	areaType(p) = MAP_TYPE_TOWN
	areaX(p) = 3
	areaY(p) = 15
	areaStartOn(p) = 3
	areaTileFile(p) = 1
	areaTileSet(p) = 2
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 999
	areaField(p) = 2
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaEconomy(p) = 5
	areaParent(p) = AREA_NORTH_TYRIS
	p = 33
	areaId(p) = AREA_NOYEL
	areaIcon(p) = xy2pic(24, 4)
	areaType(p) = MAP_TYPE_TOWN
	areaX(p) = 89
	areaY(p) = 14
	areaStartOn(p) = 3
	areaTileFile(p) = 1
	areaTileSet(p) = 2
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 2
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaEconomy(p) = 6
	areaParent(p) = AREA_NORTH_TYRIS
	p = 36
	areaId(p) = AREA_LUMIEST
	areaIcon(p) = xy2pic(0, 4)
	areaType(p) = MAP_TYPE_TOWN
	areaX(p) = 61
	areaY(p) = 32
	areaStartOn(p) = 3
	areaTileFile(p) = 1
	areaTileSet(p) = 2
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 999
	areaField(p) = 2
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaEconomy(p) = 7
	areaParent(p) = AREA_NORTH_TYRIS
	p = 2
	areaId(p) = AREA_WILDERNESS
	areaIcon(p) = xy2pic(0, 0)
	areaType(p) = (4 /*!!!@[MAP_TYPE_DUNGEON_RANGE @@@ MAP_TYPE_LOCAL]@!!! */)
	areaX(p) = 0
	areaY(p) = 0
	areaStartOn(p) = 4
	areaTileFile(p) = 1
	areaTileSet(p) = 4
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 2
	areaRestorePos(p) = 0
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 7
	areaId(p) = AREA_HOME
	areaType(p) = MAP_TYPE_HOME
	areaStartOn(p) = 8
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 10
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	if ( gHomeLevel == 0 ) {
		areaIcon(p) = xy2pic(6, 4)
		areaX(p) = 22
		areaY(p) = 21
		areaTileFile(p) = 1
		areaTileSet(p) = 3
		areaParent(p) = AREA_NORTH_TYRIS
	}
	p = 35
	areaId(p) = AREA_SHOW_HOUSE
	areaType(p) = MAP_TYPE_QUEST
	areaStartOn(p) = 8
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 1
	areaRestorePos(p) = 0
	areaIcon(p) = 1
	areaIcon(p) = xy2pic(26, 4)
	areaX(p) = 35
	areaY(p) = 27
	areaTileFile(p) = 1
	areaTileSet(p) = 3
	areaParent(p) = AREA_NORTH_TYRIS
	p = 6
	areaId(p) = AREA_ARENA
	areaIcon(p) = xy2pic(0, 0)
	areaType(p) = MAP_TYPE_QUEST
	areaX(p) = 22
	areaY(p) = 21
	areaStartOn(p) = 4
	areaTileFile(p) = 1
	areaTileSet(p) = 100
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 1
	areaRestorePos(p) = 0
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 40
	areaId(p) = AREA_PET_ARENA
	areaIcon(p) = xy2pic(0, 0)
	areaType(p) = MAP_TYPE_QUEST
	areaX(p) = 23
	areaY(p) = 21
	areaStartOn(p) = 1
	areaTileFile(p) = 1
	areaTileSet(p) = 100
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 1
	areaRestorePos(p) = 0
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 49
	areaId(p) = 49
	areaIcon(p) = xy2pic(0, 0)
	areaType(p) = MAP_TYPE_QUEST
	areaX(p) = 80
	areaY(p) = 21
	areaStartOn(p) = 1
	areaTileFile(p) = 1
	areaTileSet(p) = 100
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 1
	areaRestorePos(p) = 0
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 13
	areaId(p) = AREA_QUEST
	areaIcon(p) = xy2pic(0, 0)
	areaType(p) = MAP_TYPE_QUEST
	areaX(p) = 22
	areaY(p) = 21
	areaStartOn(p) = 4
	areaTileFile(p) = 1
	areaTileSet(p) = 100
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 2
	areaRestorePos(p) = 0
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 3
	areaId(p) = AREA_LESIMAS
	areaIcon(p) = xy2pic(7, 4)
	areaType(p) = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
	areaX(p) = 23
	areaY(p) = 29
	areaStartOn(p) = 1
	areaTileFile(p) = 1
	areaTileSet(p) = 0
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 45
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 42
	areaId(p) = AREA_VOID
	areaIcon(p) = xy2pic(7, 4)
	areaType(p) = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
	areaX(p) = 81
	areaY(p) = 51
	areaStartOn(p) = 1
	areaTileFile(p) = 1
	areaTileSet(p) = 0
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 50
	areaCanSave(p) = 99999999
	areaField(p) = 1
	areaRestorePos(p) = 0
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 16
	areaId(p) = AREA_TOWER_OF_FIRE
	areaIcon(p) = xy2pic(13, 4)
	areaType(p) = MAP_TYPE_TOWER
	areaX(p) = 43
	areaY(p) = 4
	areaStartOn(p) = 1
	areaTileFile(p) = 1
	areaTileSet(p) = 0
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 15
	areaCanSave(p) = 18
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 17
	areaId(p) = AREA_CRYPT_OF_THE_DAMNED
	areaIcon(p) = xy2pic(9, 4)
	areaType(p) = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
	areaX(p) = 37
	areaY(p) = 20
	areaStartOn(p) = 1
	areaTileFile(p) = 1
	areaTileSet(p) = 0
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 25
	areaCanSave(p) = 30
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 18
	areaId(p) = AREA_ANCIENT_CASTLE
	areaIcon(p) = xy2pic(12, 4)
	areaType(p) = (23 /*!!!@[MAP_TYPE_DUNGEON_MAX @@@ MAP_TYPE_FORT]@!!! */)
	areaX(p) = 26
	areaY(p) = 44
	areaStartOn(p) = 1
	areaTileFile(p) = 1
	areaTileSet(p) = 0
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 17
	areaCanSave(p) = 22
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 19
	areaId(p) = AREA_DRAGON_NEST
	areaIcon(p) = xy2pic(14, 4)
	areaType(p) = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
	areaX(p) = 13
	areaY(p) = 32
	areaStartOn(p) = 1
	areaTileFile(p) = 1
	areaTileSet(p) = 0
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 30
	areaCanSave(p) = 33
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 26
	areaId(p) = AREA_MOUNTAIN_PASS
	areaIcon(p) = xy2pic(14, 4)
	areaType(p) = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
	areaX(p) = 64
	areaY(p) = 43
	areaStartOn(p) = 2
	areaTileFile(p) = 1
	areaTileSet(p) = 0
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 25
	areaCanSave(p) = 29
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 27
	areaId(p) = AREA_PUPPY_CAVE
	areaIcon(p) = xy2pic(14, 4)
	areaType(p) = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
	areaX(p) = 29
	areaY(p) = 24
	areaStartOn(p) = 1
	areaTileFile(p) = 1
	areaTileSet(p) = 0
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 2
	areaCanSave(p) = 5
	areaField(p) = 1
	areaRestorePos(p) = 0
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 38
	areaId(p) = AREA_MINOTAUR_NEST
	areaIcon(p) = xy2pic(14, 4)
	areaType(p) = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
	areaX(p) = 43
	areaY(p) = 39
	areaStartOn(p) = 1
	areaTileFile(p) = 1
	areaTileSet(p) = 0
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 23
	areaCanSave(p) = 27
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 28
	areaId(p) = AREA_YEEK_NEST
	areaIcon(p) = xy2pic(14, 4)
	areaType(p) = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
	areaX(p) = 38
	areaY(p) = 31
	areaStartOn(p) = 1
	areaTileFile(p) = 1
	areaTileSet(p) = 0
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 5
	areaCanSave(p) = 5
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 37
	areaId(p) = AREA_PYRAMID
	areaIcon(p) = xy2pic(28, 4)
	areaType(p) = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
	areaX(p) = 4
	areaY(p) = 11
	areaStartOn(p) = 1
	areaTileFile(p) = 1
	areaTileSet(p) = 0
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 20
	areaCanSave(p) = 21
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 10
	areaId(p) = AREA_GRAVEYARD
	areaIcon(p) = xy2pic(9, 4)
	areaType(p) = MAP_TYPE_FIELD
	areaX(p) = 74
	areaY(p) = 31
	areaStartOn(p) = 3
	areaTileFile(p) = 1
	areaTileSet(p) = 4
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 2
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaParent(p) = AREA_NORTH_TYRIS
	p = 20
	areaId(p) = AREA_TRUCE_GROUND
	areaIcon(p) = xy2pic(15, 4)
	areaType(p) = MAP_TYPE_FIELD
	areaX(p) = 51
	areaY(p) = 9
	areaStartOn(p) = 3
	areaTileFile(p) = 1
	areaTileSet(p) = 4
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 2
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaParent(p) = AREA_NORTH_TYRIS
	p = 41
	areaId(p) = AREA_JAIL
	areaIcon(p) = xy2pic(29, 4)
	areaType(p) = MAP_TYPE_FIELD
	areaX(p) = 28
	areaY(p) = 37
	areaStartOn(p) = 1
	areaTileFile(p) = 1
	areaTileSet(p) = 12
	areaMaxLevel(p) = 100000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 1
	areaRestorePos(p) = 0
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 21
	areaId(p) = AREA_CYBER_DOME
	areaIcon(p) = xy2pic(16, 4)
	areaType(p) = MAP_TYPE_VILLAGE
	areaX(p) = 21
	areaY(p) = 27
	areaStartOn(p) = 8
	areaTileFile(p) = 1
	areaTileSet(p) = 8
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaParent(p) = AREA_NORTH_TYRIS
	p = 25
	areaId(p) = AREA_LARNA
	areaIcon(p) = xy2pic(10, 4)
	areaType(p) = MAP_TYPE_VILLAGE
	areaX(p) = 64
	areaY(p) = 47
	areaStartOn(p) = 3
	areaTileFile(p) = 1
	areaTileSet(p) = 9
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 2
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaParent(p) = AREA_NORTH_TYRIS
	p = 34
	areaId(p) = AREA_MIROK_WORKSHOP
	areaIcon(p) = xy2pic(25, 4)
	areaType(p) = MAP_TYPE_VILLAGE
	areaX(p) = 88
	areaY(p) = 25
	areaStartOn(p) = 8
	areaTileFile(p) = 1
	areaTileSet(p) = 2
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 2
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaParent(p) = AREA_NORTH_TYRIS
	p = 29
	areaId(p) = AREA_SISTER_MANSION
	areaIcon(p) = xy2pic(30, 4)
	areaType(p) = MAP_TYPE_FIELD
	areaX(p) = 18
	areaY(p) = 2
	areaStartOn(p) = 8
	areaTileFile(p) = 1
	areaTileSet(p) = 2
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 2
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaParent(p) = AREA_NORTH_TYRIS
	p = 32
	areaId(p) = AREA_EMBASSY
	areaIcon(p) = xy2pic(23, 4)
	areaType(p) = MAP_TYPE_VILLAGE
	areaX(p) = 53
	areaY(p) = 21
	areaStartOn(p) = 8
	areaTileFile(p) = 1
	areaTileSet(p) = 2
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaParent(p) = AREA_NORTH_TYRIS
	p = 43
	areaId(p) = AREA_NT_SOUTH_BORDER
	areaIcon(p) = xy2pic(26, 4)
	areaType(p) = MAP_TYPE_VILLAGE
	areaX(p) = 27
	areaY(p) = 52
	areaStartOn(p) = 8
	areaTileFile(p) = 1
	areaTileSet(p) = 2
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 1
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaParent(p) = AREA_NORTH_TYRIS
	p = 22
	areaId(p) = AREA_BEAST_FORT
	areaIcon(p) = xy2pic(17, 4)
	areaType(p) = MAP_TYPE_FIELD
	areaX(p) = 13
	areaY(p) = 43
	areaStartOn(p) = 8
	areaTileFile(p) = 1
	areaTileSet(p) = 100
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 33
	areaCanSave(p) = 33
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaParent(p) = AREA_NORTH_TYRIS
	p = 23
	areaId(p) = AREA_MACHINE_FORT
	areaIcon(p) = xy2pic(17, 4)
	areaType(p) = MAP_TYPE_FIELD
	areaX(p) = 51
	areaY(p) = 32
	areaStartOn(p) = 8
	areaTileFile(p) = 1
	areaTileSet(p) = 100
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 33
	areaCanSave(p) = 33
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaParent(p) = AREA_NORTH_TYRIS
	p = 24
	areaId(p) = AREA_COLLAPSED_FORT
	areaIcon(p) = xy2pic(17, 4)
	areaType(p) = MAP_TYPE_FIELD
	areaX(p) = 35
	areaY(p) = 10
	areaStartOn(p) = 8
	areaTileFile(p) = 1
	areaTileSet(p) = 100
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 33
	areaCanSave(p) = 33
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaParent(p) = AREA_NORTH_TYRIS
	p = 30
	areaId(p) = AREA_SHELTER
	areaIcon(p) = xy2pic(0, 0)
	areaType(p) = MAP_TYPE_HOME
	areaX(p) = 35
	areaY(p) = 10
	areaStartOn(p) = 1
	areaTileFile(p) = 1
	areaTileSet(p) = 100
	areaMaxLevel(p) = 1000000
	areaMinLevel(p) = -999999
	areaCanSave(p) = 999999
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 1
	areaParent(p) = AREA_NORTH_TYRIS
	p = 9
	areaId(p) = AREA_TEST_GROUND
	areaIcon(p) = xy2pic(0, 0)
	areaType(p) = MAP_TYPE_FIELD
	areaX(p) = 20
	areaY(p) = 20
	areaStartOn(p) = 4
	areaTileFile(p) = 1
	areaTileSet(p) = 4
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 45
	areaField(p) = 2
	areaRestorePos(p) = 0
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	return
	p = 200
	areaId(p) = MAX_AREA_OLD
	areaIcon(p) = xy2pic(0, 0)
	areaType(p) = MAP_TYPE_TOWN
	areaX(p) = 0
	areaY(p) = 0
	areaStartOn(p) = 1
	areaTileFile(p) = 1
	areaTileSet(p) = 0
	areaMaxLevel(p) = 10000
	areaMinLevel(p) = 1
	areaCanSave(p) = 999
	areaField(p) = 1
	areaRestorePos(p) = 1
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	p = 210
	areaId(p) = 210
	areaIcon(p) = xy2pic(0, 0)
	areaType(p) = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
	areaX(p) = 0
	areaY(p) = 0
	areaStartOn(p) = 1
	areaTileFile(p) = 1
	areaTileSet(p) = 0
	areaMaxLevel(p) = 10000000
	areaMinLevel(p) = 50
	areaCanSave(p) = 99999999
	areaField(p) = 1
	areaRestorePos(p) = 0
	areaIcon(p) = 0
	areaParent(p) = AREA_NORTH_TYRIS
	initializesouthtyristowns
	return

*label_2368
	minbosslv = 2001
	repeat length(csetquestboss)
		if ( npcmemory(0, csetquestboss(cnt) / 10000) != 0 ) {
			if ( csetquestboss(cnt) \ 10000 < minbosslv ) {
				minbosslv = csetquestboss(cnt) \ 10000
			}
		}
	loop
	repeat usernpcmax
		if ( userdata(12, cnt) == 2 ) {
			if ( getcnpcmemory(0, cnt) != 0 ) {
				if ( userdata(2, cnt) < minbosslv ) {
					minbosslv = userdata(2, cnt)
				}
			}
		}
	loop
	revisespawnrate = limitmin(difficulty() / 10, 0)
	repeat 500 - 450, 450
		if ( areaId(cnt) != AREA_NONE ) {
			continue
		}
		f = -1
		repeat 1000
			x = cxinit + rnd(cnt + 1) - rnd(cnt + 1)
			y = cyinit + rnd(cnt + 1) - rnd(cnt + 1)
			if ( x <= 5 | y <= 5 | x >= mWidth - 6 | y >= mHeight - 6 ) {
				continue
			}
			if ( xy2pic(0, 1) <= mapId(x, y) & mapId(x, y) < xy2pic(0, 2) ) {
				continue
			}
			if ( mapId(x, y) > xy2pic(19, 0) ) {
				continue
			}
			if ( mapFeat(x, y) \ 1000 != 0 ) {
				continue
			}
			p = 1
			repeat 500
				if ( areaId(cnt) == AREA_NONE ) {
					continue
				}
				if ( x >= areaX(cnt) - 2 & x <= areaX(cnt) + 2 ) {
					if ( y >= areaY(cnt) - 2 & y <= areaY(cnt) + 2 ) {
						p = 0
						break
					}
				}
			loop
			if ( p == 0 ) {
				continue
			}
			f = 1
			break
		loop
		if ( f == (-1) ) {
			p = -1
			break
		}
		p = cnt
		area = p
		ctrlfile 13
		areaType(p) = 20 + rnd(4)
		areaId(p) = AREA_RANDOM_DUNGEON
		areaIcon(p) = xy2pic(1, 4)
		areaX(p) = x
		areaY(p) = y
		areaStartOn(p) = 1
		areaTileFile(p) = 1
		areaTileSet(p) = 1
		areaMaxLevel(p) = 10000
		areaField(p) = 1
		areaParent(p) = gWorld
		if ( rnd(3) ) {
			areaMinLevel(p) = difficulty() / 2 + rnd(difficulty() / 2 + 5) + 1
		}
		else {
			areaMinLevel(p) = rnd(50) + 1
			if ( rnd(5) == 0 ) {
				areaMinLevel(p) *= rnd(3) + 1
			}
		}
		areaCanSave(p) = areaMinLevel(p) + rnd(4) + 2
		areaRestorePos(p) = 1
		areaIcon(p) = 0
		areaBoss(p) = 0
		areaName(p) = rnd(length(mapnamerd))
		mapFeat(x, y) = 1
		if ( areaType(p) == (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */) ) {
			areaIcon(p) = xy2pic(1, 4)
			areaTileSet(p) = 0
		}
		if ( areaType(p) == MAP_TYPE_TOWER ) {
			areaIcon(p) = xy2pic(5, 4)
			areaTileSet(p) = 100
		}
		if ( areaType(p) == (23 /*!!!@[MAP_TYPE_DUNGEON_MAX @@@ MAP_TYPE_FORT]@!!! */) ) {
			areaIcon(p) = xy2pic(8, 4)
			areaTileSet(p) = 200
		}
		if ( areaType(p) == MAP_TYPE_FOREST ) {
			areaIcon(p) = xy2pic(3, 4)
			areaTileSet(p) = 300
		}
		oadata(p - 450) = 0
		faction(p - 450 + 245) = ""
		gosub *label_4703
		if ( areaMinLevel(p) > 50 & oabit(17, p) == 0 & oabit(18, p) == 0 ) {
			if ( incspawnrate(30) ) {
				oabitmod 13, p, 1
			}
			if ( incspawnrate(30) ) {
				oabitmod 7, p, 1
			}
			if ( areaType(p) == MAP_TYPE_FOREST ) {
				if ( incspawnrate(30) ) {
					oabitmod 14, p, 1
				}
			}
		}
		if ( areaMinLevel(p) > 30 & oabit(17, p) == 0 & oabit(18, p) == 0 ) {
			if ( incspawnrate(30) ) {
				oabitmod 9, p, 1
				areaCanSave(p) += (areaCanSave(p) - areaMinLevel(p)) * 2
			}
			if ( areaType(p) == (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */) ) {
				if ( incspawnrate(30) ) {
					oabitmod 15, p, 1
				}
			}
		}
		if ( areaMinLevel(p) > 20 & oabit(17, p) == 0 & oabit(18, p) == 0 ) {
			if ( incspawnrate(20) ) {
				oabitmod 1, p, 1
			}
		}
		if ( decspawnrate(10) & oabit(17, p) == 0 & oabit(18, p) == 0 ) {
			oabitmod 4, p, 1
		}
		if ( incspawnrate(30) & oabit(17, p) == 0 & oabit(18, p) == 0 ) {
			oabitmod 2, p, 1
		}
		break
	loop
	return p

*label_2374
	if ( gArea  == AREA_NOYEL ) {
		if ( flagFireGiant == 1 ) {
			if ( cExist(fireGiantId) == CHAR_STATE_ALIVE ) {
				if ( gCrowd < 30 ) {
					if ( rnd(4) == 0 ) {
						flt
						objlv = 1
						characreate -1, CREATURE_ID_PALMIAN_ELITE_SOLDIER, -3, 0
					}
					if ( rnd(10) == 0 ) {
						flt
						objlv = 1
						characreate -1, CREATURE_ID_TOURIST, -3, 0
					}
				}
			}
		}
	}
	if ( gQuest == QUEST_TYPE_CONQUER ) {
		if ( qStatus(gQuestRef) != QUEST_STATE_SUCCESS ) {
			if ( gCrowd < gTimelimit / 60 ) {
				dbid = 0
				if ( rnd(4) == 0 ) {
					dbid = 204
				}
				if ( rnd(10) == 0 ) {
					dbid = 185
				}
				if ( dbid != 0 ) {
					flt
					objlv = 1
					characreate -1, dbid, -3, 0
					if ( stat != 0 ) {
						cRelation(rc) = RELATION_DISLIKE
						cOrgRelation(rc) = RELATION_DISLIKE
						cAiAggro(rc) = 100
						lockson rc, qParam2(gQuestRef), 0
					}
				}
			}
		}
	}
	if ( gArea  == AREA_TOWER_OF_FIRE ) {
		if ( rnd(5) == 0 ) {
			r = sResFire(CHARA_PLAYER) / 50
			if ( r < 6 ) {
				dmg = (6 - r) * (6 - r) * 2
				txtef COLOR_RED
				txt -1, lang("îMÇ¢ÅI", "It's hot!")
				dmghp cc, dmg, DAMAGE_FROM_FIRE
			}
		}
		return
	}
	if ( gArea  == 62 ) {
		if ( rnd(5) == 0 ) {
			r = sResCold(CHARA_PLAYER) / 50
			if ( r < 6 ) {
				dmg = (12 - r) * (12 - r) * 2
				txtef COLOR_RED
				txt -1, lang("ä¶Ç∑Ç¨ÇƒìÄÇ¶ÇƒÇµÇ‹Ç¢ÇªÇ§ÇæÅI", "It's too cold, freezing!")
				dmghp cc, dmg, DAMAGE_FROM_ATX
			}
		}
		return
	}
	if ( gArea  == 210 ) {
		repeat 56
			if ( cExist(cnt) != CHAR_STATE_ALIVE ) {
				continue
			}
			addbuff cnt, 65, 200000000, 10, 1
		loop
		repeat 189, 56
			if ( cExist(cnt) != CHAR_STATE_ALIVE ) {
				continue
			}
			if ( findbuff(cnt, 66) == (-1) ) {
				addbuff cnt, 66, 1, 9999999, 1
				if ( gLevel  >= 10050 ) {
					addbuff cnt, 63, 1, 99999999, 1
				}
				cHP(cnt) = cMHP(cnt)
				cMP(cnt) = cMMP(cnt)
			}
		loop
		return
	}
	if ( oabit(17, gArea ) ) {
		if ( rnd(5) == 0 ) {
			txtef COLOR_RED
			txt -1, lang("·èãCÇ™êgÇè≈Ç™Ç∑ÅB", "It's hot!")
			dmghp cc, cMHP(cc) / 100, DAMAGE_FROM_FIRE, SKILL_SPACT_DECAPITATION
		}
		return
	}
	if ( gArea  == AREA_PORT_KAPUL ) {
		if ( gLevel  == 25 ) {
			flagKamikaze++
			x = 1
			y = rnd(mHeight)
			if ( rnd(4) == 0 ) {
				x = mWidth - 2
				y = rnd(mHeight)
			}
			if ( rnd(5) == 0 ) {
				x = rnd(mWidth)
				y = 1
			}
			if ( rnd(6) == 0 ) {
				x = rnd(mWidth)
				y = mHeight - 2
			}
			p = 237
			if ( flagKamikaze > 50 ) {
				if ( rnd(10) == 0 ) {
					p = 245
				}
			}
			if ( flagKamikaze > 100 ) {
				if ( rnd(10) == 0 ) {
					p = 244
				}
			}
			if ( flagKamikaze > 150 ) {
				if ( rnd(10) == 0 ) {
					p = 244
				}
			}
			if ( flagKamikaze == 250 ) {
				snd SOUNDLIST_WRITE1
				txtef COLOR_GREEN
				txt -1, lang("ÉWÉÉÅ[ÉiÉãÇ™çXêVÇ≥ÇÍÇΩÅB", "Your journal has been updated.")
				sqKamikaze = 3
				txtef COLOR_SKY_BLUE
				txt -1, lang("ì`óﬂÅuÉpÉãÉ~ÉAåRÇÃìPëﬁÇ™äÆóπÇµÇ‹ÇµÇΩÅIÇ±ÇÍà»è„Ç±Ç±Ç…óØÇ‹ÇÈïKóvÇÕÇ†ÇËÇ‹ÇπÇÒÅBã@Çå©Çƒínâ∫Ç©ÇÁëﬁãpÇµÇƒÇ≠ÇæÇ≥Ç¢ÅIÅv", "The messenger " + cnvtalk("The retreat of our army is over now. You don't need to fight them any more. Please leave at once!"))
				txt -1, lang("äKíiÇ™åªÇÍÇΩÅB", "Suddenly, stairs appear.")
				cell_featset 18, 9, tile_downstairs, CELL_FEATURE_DOWNSTAIRS, 1
			}
			flt
			characreate -1, p, x, y
			cAiAggro(rc) = 1000
			lockson rc, 0, 1
			return
		}
	}
	if ( gArea  == AREA_JAIL ) {
		if ( rnd(50) == 0 ) {
			if ( cKarma(CHARA_PLAYER) < (-30) ) {
				txt -1, lang("Ç†Ç»ÇΩÇÕçﬂÇâ˜Ç¢ÇΩÅB", "You repent of your sin.")
				modkarma 0, 1
				p = rnd(8) + 10
				if ( sorg(p, CHARA_PLAYER) >= 10 ) {
					skillmod p, CHARA_PLAYER, -300
				}
			}
		}
		if ( cKarma(CHARA_PLAYER) >= (-30) ) {
			if ( rnd(1000) == 0 ) {
				cell_featread 29, 6
				if ( featId == CELL_FEATURE_DOOR_CLOSED ) {
					txt -1, lang("Ç†Ç»ÇΩÇÕÉKÅ[ÉhÇÃë´âπÇ™ãﬂÇ√Ç¢ÇƒÇ≠ÇÈÇÃÇ…ãCïtÇ¢ÇΩÅB", "You hear footsteps coming towards your cell.")
					txt -1, lang("ÅuÇªÇ±ÇÃÇ®ëOÅAÇ‡Ç§îΩè»ÇµÇΩÇ±ÇÎÇæÇÎÇ§ÅBèoÇƒÇ‡Ç¢Ç¢ÇºÅv", cnvtalk("Hey punk, our boss says you can leave the jail now. Do not come back, okay?"))
					txt -1, lang("ÉKÅ[ÉhÇÕñ ì|Ç≠Ç≥ÇªÇ§Ç…Ç†Ç»ÇΩÇÃòSÇÃî‡ÇäJÇØÇΩÅB", "A guard unenthusiastically unlocks your cell.")
					cell_featset 29, 6, tile_dooropen, CELL_FEATURE_DOOR_OPENED, 0, -1
					snd SOUNDLIST_DOOR1
				}
			}
		}
	}
	if ( gArea  == AREA_SHELTER ) {
		if ( gWeather == WEATHER_SNOW | gWeather == WEATHER_HARD_RAIN | gWeather == WEATHER_ETHER ) {
			if ( cHunger(CHARA_PLAYER) < 5000 & gettrait(0, 191) == 0 ) {
				if ( cbit(CHARA_BIT_ANOREXIA, CHARA_PLAYER) == FALSE ) {
					snd SOUNDLIST_EAT1
					txt -1, lang("ÉVÉFÉãÉ^Å[ÇÃíôë†êHïiÇêHÇ◊ÇΩÅB", "You eat stored food.")
					cHunger(cc) += 5000
					gosub *eat_finish
				}
			}
			if ( gSleep >= 15 ) {
				gSleep = 15 - 2
			}
			mTimeScale = 1000000
		}
		else {
			if ( mTimeScale == 1000000 ) {
				mTimeScale = 10000
				repeat 245
					cSpeedSum(cnt) = 0
				loop
				txt -1, lang("Ç‡Ç§ÉVÉFÉãÉ^Å[ÇÃíÜÇ…Ç¢ÇÈïKóvÇÕñ≥Ç¢ÅB", "You don't need to stay in the shelter any longer.")
			}
		}
	}
	if ( areaId(gArea ) == AREA_MUSEUM ) {
		if ( gCrowd > 0 ) {
			if ( rnd(25) == 0 ) {
				txtef COLOR_SKY_BLUE
				txt -1, lang(" *Ç¥ÇÌÇ¥ÇÌ* ", "*noise*"), lang("ÅuÇ”ÇﬁÅcà´Ç≠Ç»Ç¢Ç»Åv", cnvtalk("Hmm. Not bad.")), lang("ÅuâΩÇæÇÎÇ§ÅAÇ±ÇÍÇÕÅv", cnvtalk("What's this?")), lang("ÅuÇŸÇŸÇ§ÅcÅv", cnvtalk("Ohh...")), lang("ÅuéÑÇ‡éÄÇÒÇæÇÁÇÕÇ≠êªÇ…ÅcÅv", cnvtalk("I want to be stuffed...")), lang("ÅuÇ±Ç±Ç™â\ÇÃÅcÅv", cnvtalk("So this is the famous..."))
			}
			if ( rnd(25) == 0 ) {
				txtef COLOR_SKY_BLUE
				txt -1, lang(" *Ç™Ç‚Ç™Ç‚* ", "*murmur*"), lang("ÅuÇ‚ÇæÇ¡ãCéùÇøà´Ç¢Åv", cnvtalk("Gross! Disgusting.")), lang("ÅuÇÀÅ[ÇÀÅ[Ç±ÇÍéÄÇÒÇ≈ÇÈÇÒÇ≈ÇµÇÂÅHÅv", cnvtalk("Hey. Is it really dead?")), lang("ÅuÇ©ÇÌÅAÇ¢Å[ÅÙÅv", cnvtalk("Scut!")), lang("Åuç°ì˙ÇÕÇ∆Ç±Ç∆ÇÒå©ÇÈÇ∫Åv", cnvtalk("Absolutely amazing.")), lang("ÅuêGÇ¡ÇƒÇ‡Ç¢Ç¢ÇÃÅHÅv", cnvtalk("Can I touch?"))
			}
			if ( rnd(15) == 0 ) {
				txtef COLOR_SKY_BLUE
				repeat 1
					if ( en ) {
						break
					}
					if ( gRankMuseum > 8000 ) {
						txt -1, "Åuëﬁã¸Ç£Å[Åv", "ÅuÇ†Ç‹ÇËå©ÇÈÇ‡ÇÃÇ™Ç»Ç¢Ç»Åv", "ÅuÇ±ÇÒÇ»ÇÃÇ≈å©ï®óøÇ∆ÇÈÇÃÅHÅv", "äŸì‡ÇÕè≠Çµé‚ÇµÇ¢Åc"
						break
					}
					if ( gRankMuseum > 5000 ) {
						txt -1, "ÅuÇ¢Ç¢ÇÒÇ∂Ç·Ç»Ç¢Å`Åv", "ÅuÇ‹Ç†ÅAïÅí ÇÃîéï®äŸÇæÅv", "ÅuóˆêlÇòAÇÍÇƒÇ≠ÇÍÇŒÇÊÇ©Ç¡ÇΩÇ©Ç‡Åv", "Ç‹Ç†Ç‹Ç†ÇÃãqë´ÇæÅB"
						break
					}
					if ( gRankMuseum > 2500 ) {
						txt -1, "ÅuÇ±ÇÃïµàÕãCçDÇ´ÇæÇ»ÇüÅv", "ÅuÇ‡Ç§àÍìxóàÇÊÇ§ÇÊÅv", "Åuéûä‘Ç™åoÇ¬ÇÃÇñYÇÍÇÈÇÀÅIÅv", "äŸì‡ÇÕÇ»Ç©Ç»Ç©ìˆÇÌÇ¡ÇƒÇ¢ÇÈÅB"
						break
					}
					if ( gRankMuseum > 500 ) {
						txt -1, "ÅuóàÇƒó«Ç©Ç¡ÇΩÅÙÅv", "ÅuÇÊÇ≠Ç±ÇÒÇ»Ç…èWÇﬂÇΩÇ»Ç†Åv", "ÅuÇﬁÇ£Åcãªñ°ê[Ç¢Åv", "ãqë´Ç™ëSÇ≠ê‚Ç¶Ç»Ç¢ê∑ãµÇ‘ÇËÇæÅB"
						break
					}
					txt -1, "Åuëfê∞ÇÁÇµÇ¢ÉRÉåÉNÉVÉáÉìÇæÅIÅv", "Åuä¥ìÆÇµÇΩÅv", "ÅuãAÇËÇΩÇ≠Ç»Ç¢ÇÌÅÙÅv", "óàãqÇÕêHÇ¢ì¸ÇÈÇÊÇ§Ç…ìWé¶ï®Çí≠ÇﬂÇƒÇ¢ÇÈÅB"
				loop
			}
			return
		}
	}
	if ( areaId(gArea ) == AREA_SHOP ) {
		if ( gCrowd > 0 ) {
			if ( rnd(25) == 0 ) {
				txtef COLOR_SKY_BLUE
				txt -1, lang(" *Ç¥ÇÌÇ¥ÇÌ* ", "*murmur*"), lang("ÅuÇ±ÇÍó~ÇµÇ¢Å`Åv", cnvtalk("I want this! I want this!")), lang("ÅuâΩÇæÇÎÇ§ÅAÇ±ÇÍÇÕÅv", cnvtalk("Oh what's this?")), lang("ÅuÇ®îÉÇ¢ï®ÅÙÅv", cnvtalk("I'm just watching")), lang("Åuã‡Ç™ë´ÇËÇÒÅcÅv", cnvtalk("My wallet is empty...")), lang("ÅuÇ±Ç±Ç™â\ÇÃÅcÅv", cnvtalk("So this is the famous...."))
			}
			return
		}
	}
	return

*noyel_festival
	inv_getheader -1
	repeat invrange, invhead
		if ( iID(cnt) == ITEM_ID_SHELTER | iID(cnt) == ITEM_ID_GIANTS_SHACKLE ) {
			continue
		}
		iNum(cnt) = 0
		cell_refresh iX(cnt), iY(cnt)
	loop
	if ( areaFestival(gArea ) == 1 ) {
		flt
		itemcreate -1, ITEM_ID_PEDESTAL, 29, 16, 0
		if ( stat != 0 ) {
			iProperty(ci) = PROP_NPC
		}
		flt
		itemcreate -1, ITEM_ID_STATUE_JURE, 29, 16, 0
		if ( stat != 0 ) {
			iProperty(ci) = PROP_NPC
		}
		flt
		itemcreate -1, ITEM_ID_ALTAR, 29, 17, 0
		if ( stat != 0 ) {
			iParam1(ci) = 6
			iProperty(ci) = PROP_NPC
		}
		flt
		itemcreate -1, ITEM_ID_MOCHI, 29, 17, 0
		if ( stat != 0 ) {
			iProperty(ci) = PROP_SPECIAL
		}
		flt
		characreate -1, CREATURE_ID_KANEDA_BIKE, 48, 19
		if ( stat != 0 ) {
			cRole(rc) = ROLE_SPECIAL
			cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
		}
		flt
		characreate -1, CREATURE_ID_PART_TIME_WORKER, 30, 17
		if ( stat != 0 ) {
			cRole(rc) = ROLE_SPECIAL
			cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
		}
		flt
		characreate -1, CREATURE_ID_PUNK, 38, 19
		if ( stat != 0 ) {
			cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
			cbitmod CHARA_BIT_SANDBAG, rc, TRUE
			cnName(rc) = lang("É}ÉjÇÃêMé“", "Mani Fanatic")
		}
		flt
		characreate -1, CREATURE_ID_JURE_FANATIC, 35, 19
		if ( stat != 0 ) {
			cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
		}
		flt
		characreate -1, CREATURE_ID_JURE_FANATIC, 37, 18
		if ( stat != 0 ) {
			cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
		}
		flt
		characreate -1, CREATURE_ID_JURE_FANATIC, 37, 21
		if ( stat != 0 ) {
			cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
		}
		flt
		characreate -1, CREATURE_ID_JURE_FANATIC, 39, 20
		if ( stat != 0 ) {
			cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
		}
		flt
		characreate -1, CREATURE_ID_JURE_FANATIC, 38, 21
		if ( stat != 0 ) {
			cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
		}
		flt
		characreate -1, CREATURE_ID_BARTENDER, 17, 8
		if ( stat != 0 ) {
			cAiCalm(rc) = 3
			cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
			cRole(rc) = ROLE_SHOP_FOOD, 10
			snfood cnName(rc)
		}
		flt
		characreate -1, CREATURE_ID_HOT_SPRING_MANIAC, 25, 8
		if ( stat != 0 ) {
			cAiCalm(rc) = 3
			cRelation(rc) = RELATION_NEUTRAL
			cOrgRelation(rc) = RELATION_NEUTRAL
			cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
			cRole(rc) = ROLE_SHOP_MOUNTAIN2, 30
			cnName(rc) = randomname()
			cnName(rc) = lang("Ç®Ç›Ç‚Ç∞âÆÇÃ" + cnName(rc), sncnv(cnName(rc)) + "the souvenir vendor")
		}
		flt
		characreate -1, CREATURE_ID_ROGUE, 24, 22
		if ( stat != 0 ) {
			cAiCalm(rc) = 3
			cRelation(rc) = RELATION_NEUTRAL
			cOrgRelation(rc) = RELATION_NEUTRAL
			cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
			cRole(rc) = ROLE_SHOP_MOUNTAIN2, 30
			cnName(rc) = randomname()
			cnName(rc) = lang("Ç®Ç›Ç‚Ç∞âÆÇÃ" + cnName(rc), sncnv(cnName(rc)) + "the souvenir vendor")
		}
		flt
		characreate -1, CREATURE_ID_SHOPKEEPER, 38, 12
		if ( stat != 0 ) {
			cAiCalm(rc) = 3
			cRole(rc) = ROLE_SHOP_BLACKMARKET, 10
			snblack cnName(rc)
			cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
		}
		flt
		characreate -1, CREATURE_ID_ROGUE, 28, 9
		if ( stat != 0 ) {
			cAiCalm(rc) = 3
			cRelation(rc) = RELATION_NEUTRAL
			cOrgRelation(rc) = RELATION_NEUTRAL
			cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
			cRole(rc) = ROLE_SHOP_FESTIVAL, 30
			cnName(rc) = randomname()
			cnName(rc) = lang("âÆë‰è§êlÇÃ" + cnName(rc), sncnv(cnName(rc)) + "the street vendor")
		}
		flt
		characreate -1, CREATURE_ID_ROGUE, 29, 24
		if ( stat != 0 ) {
			cAiCalm(rc) = 3
			cRelation(rc) = RELATION_NEUTRAL
			cOrgRelation(rc) = RELATION_NEUTRAL
			cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
			cRole(rc) = ROLE_SHOP_FESTIVAL, 30
			cnName(rc) = randomname()
			cnName(rc) = lang("âÆë‰è§êlâÆÇÃ" + cnName(rc), sncnv(cnName(rc)) + "the street vendor")
		}
		repeat 20
			flt
			characreate -1, CREATURE_ID_HOLY_BEAST, -3, 0
			if ( stat != 0 ) {
				cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
			}
			flt
			characreate -1, CREATURE_ID_FESTIVAL_TOURIST, -3, 0
			if ( stat != 0 ) {
				cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
			}
		loop
		repeat 15
			flt
			characreate -1, CREATURE_ID_BARD, -3, 0
			if ( stat != 0 ) {
				cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
			}
		loop
		repeat 7
			flt
			characreate -1, CREATURE_ID_PROSTITUTE, -3, 0
			if ( stat != 0 ) {
				cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
			}
			flt
			characreate -1, CREATURE_ID_TOURIST, -3, 0
			if ( stat != 0 ) {
				cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
			}
			flt
			characreate -1, CREATURE_ID_NOBLE, -3, 0
			if ( stat != 0 ) {
				cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
			}
			flt
			characreate -1, CREATURE_ID_PUNK, -3, 0
			if ( stat != 0 ) {
				cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
			}
		loop
		repeat 3
			flt
			characreate -1, CREATURE_ID_STRAY_CAT, -3, 0
			if ( stat != 0 ) {
				cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
			}
			flt
			characreate -1, CREATURE_ID_TOURIST, -3, 0
			if ( stat != 0 ) {
				cbitmod CHARA_BIT_FESTIVAL, rc, TRUE
			}
		loop
	}
	else {
		repeat 188, 57
			if ( cbit(CHARA_BIT_FESTIVAL, cnt) == TRUE ) {
				chara_vanquish cnt
			}
		loop
	}
	return
	if ( dbid == 0 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉoÉO", "bug")
		cardrefpic = 168
		cardrefrace = "slime"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 343 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("user", "user")
		cardrefpic = COLOR_RANDOM
		cardrefrace = "god"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 1 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ìXéÂ", "shopkeeper")
		cardrefpic = 140
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 353 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉLÉÉÉâÉoÉìÇÃë‡í∑", "caravan master")
		cardrefpic = 443
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 70 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉoÅ[ÉeÉìÉ_Å[", "bartender")
		cardrefpic = 144
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 69 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("èÓïÒâÆ", "informer")
		cardrefpic = COLOR_GRAY
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 73 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉAÉäÅ[ÉiÉ}ÉXÉ^Å[", "arena master")
		cardrefpic = 41
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 74 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ñ¸ÇµéË", "healer")
		cardrefpic = 69
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 206 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉVÉXÉ^Å[", "sister")
		cardrefpic = 163
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 38 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("í∑", "elder")
		cardrefpic = 142
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 40 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉgÉåÉCÉiÅ[", "trainer")
		cardrefpic = COLOR_BLACK
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 333 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉMÉãÉhÉgÉåÉCÉiÅ[", "guild trainer")
		cardrefpic = 415
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 76 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉKÅ[Éh", "guard")
		cardrefpic = 363
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 77 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉKÅ[Éh", "guard")
		cardrefpic = COLOR_YELLOW2
		cardrefrace = "yerles"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 204 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉpÉãÉ~ÉAì¡éÍïîë‡", "palmian elite soldier")
		cardrefpic = 74
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 2 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ãUÇËÇÃóaåæé“ÅwÉ[Å[ÉÄÅx", "<Zeome> the false prophet")
		cardrefpic = 297
		cardrefrace = "elea"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 37 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("Åó", "@")
		cardrefpic = 347
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 23 ) {
		cardreftype = 0
		cardrefrare = 1
		cardrefcost = 0
		cardrefn = lang("ç¨ì◊ÇÃíûéôÅwÉIÉãÉtÉFÅx", "<Orphe> the chaos child")
		cardrefpic = 331
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 26 ) {
		cardreftype = 0
		cardrefrare = 1
		cardrefcost = 0
		cardrefn = lang("ÅwÉ}ÉbÉhÉTÉCÉGÉìÉeÉBÉXÉgÅx", "<Mad scientist>")
		cardrefpic = 332
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 27 ) {
		cardreftype = 0
		cardrefrare = 1
		cardrefcost = 0
		cardrefn = lang("ë¬ìVégÅwÉCÉXÉJÅx", "<Isca> the fallen angel")
		cardrefpic = 333
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 28 ) {
		cardreftype = 10
		cardrefrare = 1
		cardrefcost = 6
		cardrefn = lang("ÅwãïãÛÇîáÇ¢Ç∏ÇÈé“Åx", "<Whom dwell in the vanity>")
		cardrefpic = 334
		cardrefrace = "juere"
		cardrefdomain = 3
		cardrefattack = 5
		cardrefhp = 6
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 29 ) {
		cardreftype = 0
		cardrefrare = 1
		cardrefcost = 0
		cardrefn = lang("ÉUÉiÉìÇÃçgÇÃâpóYÅwÉçÉCÉ^Å[Åx", "<Loyter> the crimson of Zanan")
		cardrefpic = 337
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 140 ) {
		cardreftype = 0
		cardrefrare = 1
		cardrefcost = 0
		cardrefn = lang("âŒâäó≥ÅwÉîÉFÉXÉ_Åx", "<Vesda> the fire dragon")
		cardrefpic = 338
		cardrefrace = "dragon"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 30 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("å©èKÇ¢ÅwÉ~ÉVÉFÉXÅx", "<Miches> the apprentice")
		cardrefpic = COLOR_PURPLE
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 31 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ä≈î¬ñ∫ÅwÉVÅ[ÉiÅx", "<Shena> the draw")
		cardrefpic = 109
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 351 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("Åwï^ì™ÇÃêÌémÅx", "<The leopard warrior>")
		cardrefpic = 478
		cardrefrace = "cat"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 352 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("çcèóÅwÉVÉãÉîÉBÉAÅx", "<Silvia> The princess")
		cardrefpic = 479
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 32 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÅwÉ_ÉìÉWÉáÉìÉNÉäÅ[ÉiÅ[Åx", "<Dungeon cleaner>")
		cardrefpic = 344
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 33 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ïóÇíÆÇ≠é“ÅwÉâÅ[ÉlÉCÉåÅx", "<Larnneire> the listener of wind")
		cardrefpic = 345
		cardrefrace = "elea"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 34 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("àŸå`ÇÃêXÇÃégé“ÅwÉçÉ~ÉAÉXÅx", "<Lomias> the messenger from Vindale")
		cardrefpic = 346
		cardrefrace = "elea"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 139 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉpÉãÉ~ÉAÇÃâeÅwÉXÉâÉìÅx", "<Slan> the shadow of Palmia")
		cardrefpic = 99
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 146 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉJÉãÅ[ÉìÇÃå«òTÅwÉJÉâÉÄÅx", "<Karam> the lonely wolf of Karune")
		cardrefpic = 99
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 142 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("óéjÇäwÇ‘ÅwÉGÉäÉXÉeÉAÅx", "<Erystia> the scholar of history")
		cardrefpic = 340
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 141 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("à≈ÇÃäÔå`ÅwÉCÉXÉVÉYÉãÅx", "<Issizzle> the dark abomination")
		cardrefpic = 339
		cardrefrace = "lich"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 143 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("å√èÈÇÃéÂÅwÉèÉCÉiÉìÅx", "<Wynan> the lord of the Ancient Castle")
		cardrefpic = 341
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 144 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ê‘Ç´ã`ä·ÇÃÅwÉNÉãÉCÉcÉDÉAÅx", "<Quruiza> the red-eyed Deceiver")
		cardrefpic = 343
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 145 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ç|ìSó≥ÅwÉRÉãÉSÉìÅx", "<Corgon> the steel dragon")
		cardrefpic = 342
		cardrefrace = "dragon"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 306 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÅsïóÇÃÉãÉãÉEÉBÅt", "<Lulwy>")
		cardrefpic = 393
		cardrefrace = "god"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 331 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÅsçKâ^ÇÃÉGÉwÉJÉgÉãÅt", "<Ehekatl>")
		cardrefpic = 413
		cardrefrace = "god"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 336 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÅsÉGÉwÉJÉgÉãÇÃíÜÇÃê_Åt", "<God inside Ehekatl>")
		cardrefpic = 413
		cardrefrace = "god"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 338 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÅsínÇÃÉIÉpÅ[ÉgÉXÅt", "<Opatos>")
		cardrefpic = 432
		cardrefrace = "god"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 339 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("Åsé˚änÇÃÉNÉ~ÉçÉ~Åt", "<Kumiromi>")
		cardrefpic = 433
		cardrefrace = "god"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 342 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("Åsã@äBÇÃÉ}ÉjÅt", "<Mani>")
		cardrefpic = 447
		cardrefrace = "god"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 366 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("Åsñ¸ÇµÇÃÉWÉÖÉAÅt", "<Jure>")
		cardrefpic = 402
		cardrefrace = "god"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 367 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("Åså≥ëfÇÃÉCÉcÉpÉçÉgÉãÅt", "<Itzpalt>")
		cardrefpic = 453
		cardrefrace = "god"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 368 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÅsäËÇ¢ÇÃê_Åt", "<Wishing God>")
		cardrefpic = 454
		cardrefrace = "god"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 340 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("_test", "_test")
		cardrefpic = 435
		cardrefrace = "god"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 3 ) {
		cardreftype = 10
		cardrefrare = 80
		cardrefcost = 2
		cardrefn = lang("ÉvÉ`", "putit")
		cardrefpic = 168
		cardrefrace = "slime"
		cardrefdomain = 0
		cardrefattack = 2
		cardrefhp = 2
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 4 ) {
		cardreftype = 10
		cardrefrare = 70
		cardrefcost = 3
		cardrefn = lang("ÉxÉXÉvÉ`", "red putit")
		cardrefpic = xy2pic(3, 5) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "slime"
		cardrefdomain = 0
		cardrefattack = 3
		cardrefhp = 3
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 169 ) {
		cardreftype = 10
		cardrefrare = 70
		cardrefcost = 4
		cardrefn = lang("ÉXÉâÉCÉÄ", "slime")
		cardrefpic = xy2pic(26, 7) + COLOR_BLUE * COLOR_TINT_MULT
		cardrefrace = "slime"
		cardrefdomain = 1
		cardrefattack = 4
		cardrefhp = 3
		cardrefskill = 1
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 194 ) {
		cardreftype = 0
		cardrefrare = 70
		cardrefcost = 0
		cardrefn = lang("é„é_ê´ÉXÉâÉCÉÄ", "acid slime")
		cardrefpic = xy2pic(26, 7) + COLOR_GREEN * COLOR_TINT_MULT
		cardrefrace = "slime"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 286 ) {
		cardreftype = 0
		cardrefrare = 25
		cardrefcost = 0
		cardrefn = lang("ÉoÉuÉã", "bubble")
		cardrefpic = 400
		cardrefrace = "slime"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 285 ) {
		cardreftype = 0
		cardrefrare = 25
		cardrefcost = 0
		cardrefn = lang("ÉuÉãÅ[ÉoÉuÉã", "blue bubble")
		cardrefpic = xy2pic(4, 12) + COLOR_LIGHT_BLUE * COLOR_TINT_MULT
		cardrefrace = "slime"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 287 ) {
		cardreftype = 0
		cardrefrare = 25
		cardrefcost = 0
		cardrefn = lang("âÚÇÃâˆï®", "mass monster")
		cardrefpic = 401
		cardrefrace = "drake"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 327 ) {
		cardreftype = 0
		cardrefrare = 15
		cardrefcost = 0
		cardrefn = lang("ÉLÉÖÅ[Éu", "cube")
		cardrefpic = 282
		cardrefrace = "machine"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 5 ) {
		cardreftype = 10
		cardrefrare = 100
		cardrefcost = 1
		cardrefn = lang("ñÏÇ§Ç≥Ç¨", "rabbit")
		cardrefpic = 169
		cardrefrace = "rabbit"
		cardrefdomain = 2
		cardrefattack = 1
		cardrefhp = 1
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 6 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("Ç©ÇΩÇ¬ÇﬁÇË", "snail")
		cardrefpic = 174
		cardrefrace = "snail"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 7 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("îsécï∫", "fallen soldier")
		cardrefpic = 37
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 8 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("óbï∫", "mercenary")
		cardrefpic = 139
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 9 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("åÓêH", "beggar")
		cardrefpic = 102
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 269 ) {
		cardreftype = 0
		cardrefrare = 2
		cardrefcost = 0
		cardrefn = lang("î_ïv", "farmer")
		cardrefpic = 179
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 320 ) {
		cardreftype = 0
		cardrefrare = 10
		cardrefcost = 0
		cardrefn = lang("ê¥ë|àı", "cleaner")
		cardrefpic = 410
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 273 ) {
		cardreftype = 0
		cardrefrare = 2
		cardrefcost = 0
		cardrefn = lang("çzïv", "miner")
		cardrefpic = 187
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 326 ) {
		cardreftype = 0
		cardrefrare = 2
		cardrefcost = 0
		cardrefn = lang("ã·óVéçêl", "bard")
		cardrefpic = 148
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 270 ) {
		cardreftype = 0
		cardrefrare = 2
		cardrefcost = 0
		cardrefn = lang("èCìπèó", "sister")
		cardrefpic = 181
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 349 ) {
		cardreftype = 0
		cardrefrare = 2
		cardrefcost = 0
		cardrefn = lang("êπèb", "holy beast")
		cardrefpic = 442
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 348 ) {
		cardreftype = 0
		cardrefrare = 2
		cardrefcost = 0
		cardrefn = lang("íÖÇÆÇÈÇ›ÇÃÉoÉCÉg", "part time worker")
		cardrefpic = 473
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 347 ) {
		cardreftype = 0
		cardrefrare = 2
		cardrefcost = 0
		cardrefn = lang("ÉWÉÖÉAÇÃã∂êMé“", "Jure fanatic")
		cardrefpic = 285
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 271 ) {
		cardreftype = 0
		cardrefrare = 2
		cardrefcost = 0
		cardrefn = lang("Ç»ÇÁÇ∏Ç‡ÇÃ", "rogue")
		cardrefpic = 183
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 335 ) {
		cardreftype = 0
		cardrefrare = 2
		cardrefcost = 0
		cardrefn = lang("è©ïw", "prostitute")
		cardrefpic = 418
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 337 ) {
		cardreftype = 0
		cardrefrare = 2
		cardrefcost = 0
		cardrefn = lang("é˙êl", "prisoner")
		cardrefpic = 419
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 272 ) {
		cardreftype = 0
		cardrefrare = 2
		cardrefcost = 0
		cardrefn = lang("å|èpâ∆", "artist")
		cardrefpic = 185
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 274 ) {
		cardreftype = 0
		cardrefrare = 2
		cardrefcost = 0
		cardrefn = lang("ãMë∞", "noble")
		cardrefpic = 189
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 289 ) {
		cardreftype = 0
		cardrefrare = 2
		cardrefcost = 0
		cardrefn = lang("ñÇèpémÉMÉãÉh", "mage guild member")
		cardrefpic = 195
		cardrefrace = "eulderna"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 293 ) {
		cardreftype = 0
		cardrefrare = 2
		cardrefcost = 0
		cardrefn = lang("ìêëØÉMÉãÉh", "thief guild member")
		cardrefpic = 76
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 295 ) {
		cardreftype = 0
		cardrefrare = 2
		cardrefcost = 0
		cardrefn = lang("êÌémÉMÉãÉh", "fighter guild member")
		cardrefpic = 78
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 35 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("äXÇÃéqãü", "town child")
		cardrefpic = 104
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 36 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("òVêl", "old person")
		cardrefpic = 106
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 174 ) {
		cardreftype = 0
		cardrefrare = 60
		cardrefcost = 0
		cardrefn = lang("ÉpÉìÉN", "punk")
		cardrefpic = 112
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 10 ) {
		cardreftype = 0
		cardrefrare = 30
		cardrefcost = 0
		cardrefn = lang("ór", "wild sheep")
		cardrefpic = 170
		cardrefrace = "sheep"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 11 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("îÚÇ—ä^", "flying frog")
		cardrefpic = 172
		cardrefrace = "frog"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 12 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("Ç≤ÇÎÇ¬Ç´", "gangster")
		cardrefpic = 31
		cardrefrace = "yerles"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 13 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉRÉ{ÉãÉg", "kobold")
		cardrefpic = 171
		cardrefrace = "kobold"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 236 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉCÅ[ÉN", "yeek")
		cardrefpic = 378
		cardrefrace = "yeek"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 238 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉCÅ[ÉNÇÃêÌém", "yeek warrior")
		cardrefpic = xy2pic(15, 11) + COLOR_BROWN * COLOR_TINT_MULT
		cardrefrace = "yeek"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 241 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉCÅ[ÉNÇÃéÀéË", "yeek archer")
		cardrefpic = xy2pic(15, 11) + COLOR_GREEN * COLOR_TINT_MULT
		cardrefrace = "yeek"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 240 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("É}ÉXÉ^Å[ÅEÉCÅ[ÉN", "master yeek")
		cardrefpic = xy2pic(15, 11) + COLOR_PURPLE * COLOR_TINT_MULT
		cardrefrace = "yeek"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 237 ) {
		cardreftype = 0
		cardrefrare = 150
		cardrefcost = 0
		cardrefn = lang("ÉJÉ~ÉJÉ[ÅEÉCÅ[ÉN", "kamikaze yeek")
		cardrefpic = xy2pic(15, 11) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "yeek"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 244 ) {
		cardreftype = 0
		cardrefrare = 25
		cardrefcost = 0
		cardrefn = lang("ínóãéò", "kamikaze samurai")
		cardrefpic = 385
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 245 ) {
		cardreftype = 0
		cardrefrare = 20
		cardrefcost = 0
		cardrefn = lang("îöíeä‚", "bomb rock")
		cardrefpic = 386
		cardrefrace = "rock"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 321 ) {
		cardreftype = 0
		cardrefrare = 15
		cardrefcost = 0
		cardrefn = lang("ÉnÅ[ÉhÉQÉC", "hard gay")
		cardrefpic = 411
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 242 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉCÅ[ÉNÇÃéÒóÃÅwÉãÅ[ÉhÉãÉ{Åx", "<Rodlob> the boss of yeeks")
		cardrefpic = 381
		cardrefrace = "yeek"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 239 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("â∑êÚÉ}ÉjÉA", "citizen")
		cardrefpic = 379
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 14 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉÄÉJÉf", "centipede")
		cardrefpic = 173
		cardrefrace = "centipede"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 15 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("Ç´ÇÃÇ±", "mushroom")
		cardrefpic = 177
		cardrefrace = "mushroom"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 283 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("ñEéqÇ´ÇÃÇ±", "spore mushroom")
		cardrefpic = 399
		cardrefrace = "mushroom"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 284 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("ç¨ì◊Ç´ÇÃÇ±", "chaos mushroom")
		cardrefpic = xy2pic(3, 12) + COLOR_PURPLE * COLOR_TINT_MULT
		cardrefrace = "mushroom"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 16 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ésñØ", "citizen")
		cardrefpic = 136
		cardrefrace = "yerles"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 39 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ésñØ", "citizen")
		cardrefpic = 134
		cardrefrace = "yerles"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 171 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉTÉCÉoÅ[ÉhÅ[ÉÄÇÃèZêl", "citizen of cyber dome")
		cardrefpic = 128
		cardrefrace = "yerles"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 172 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉTÉCÉoÅ[ÉhÅ[ÉÄÇÃèZêl", "citizen of cyber dome")
		cardrefpic = 127
		cardrefrace = "yerles"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 173 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉZÅ[ÉãÉXÉ}Éì", "sales person")
		cardrefpic = 146
		cardrefrace = "yerles"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 71 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("êÖïv", "sailor")
		cardrefpic = 120
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 72 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ëDí∑", "captain")
		cardrefpic = 119
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 79 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉpÉãÉ~ÉAâ§î‹ÅwÉXÉ^Å[ÉVÉÉÅx", "<Stersha> the queen of Palmia")
		cardrefpic = 117
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 80 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉpÉãÉ~ÉAâ§ÅwÉWÉÉÉrÅx", "<Xabi> the king of Palmia")
		cardrefpic = 116
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 17 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉIÅ[ÉN", "orc")
		cardrefpic = xy2pic(0, 5) + COLOR_LIGHT_BLUE * COLOR_TINT_MULT
		cardrefrace = "orc"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 281 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉäÉUÅ[ÉhÉ}Éì", "lizard man")
		cardrefpic = 397
		cardrefrace = "lizardman"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 282 ) {
		cardreftype = 0
		cardrefrare = 70
		cardrefcost = 0
		cardrefn = lang("É~ÉmÉ^ÉEÉçÉX", "minotaur")
		cardrefpic = 398
		cardrefrace = "minotaur"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 296 ) {
		cardreftype = 0
		cardrefrare = 70
		cardrefcost = 0
		cardrefn = lang("É~ÉmÉ^ÉEÉçÉXÇÃèpém", "minotaur magician")
		cardrefpic = xy2pic(2, 12) + COLOR_BLUE * COLOR_TINT_MULT
		cardrefrace = "minotaur"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 298 ) {
		cardreftype = 0
		cardrefrare = 70
		cardrefcost = 0
		cardrefn = lang("É~ÉmÉ^ÉEÉçÉXÇÃì¨ém", "minotaur boxer")
		cardrefpic = xy2pic(2, 12) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "minotaur"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 299 ) {
		cardreftype = 0
		cardrefrare = 40
		cardrefcost = 0
		cardrefn = lang("É~ÉmÉ^ÉEÉçÉXÇÃêÌém", "minotaur king")
		cardrefpic = xy2pic(2, 12) + COLOR_PURPLE * COLOR_TINT_MULT
		cardrefrace = "minotaur"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 300 ) {
		cardreftype = 0
		cardrefrare = 40
		cardrefcost = 0
		cardrefn = lang("É~ÉmÉ^ÉEÉçÉXÇÃâ§ÅwÉEÉìÉKÉKÅx", "<Ungaga> the minotaur king")
		cardrefpic = xy2pic(2, 12) + COLOR_PINK * COLOR_TINT_MULT
		cardrefrace = "minotaur"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 251 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉgÉçÅ[Éã", "troll")
		cardrefpic = 391
		cardrefrace = "troll"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 18 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉGÉåÉAÇÃêÌém", "warrior of Elea")
		cardrefpic = COLOR_RED
		cardrefrace = "elea"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 24 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉGÉåÉAÇÃñÇèpém", "wizard of Elea")
		cardrefpic = 47
		cardrefrace = "elea"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 309 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("à¢èCóÖ", "asura")
		cardrefpic = 405
		cardrefrace = "asura"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 310 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("É~ÉgÉâ", "mitra")
		cardrefpic = xy2pic(9, 12) + COLOR_GREEN * COLOR_TINT_MULT
		cardrefrace = "asura"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 311 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉîÉ@ÉãÉi", "varuna")
		cardrefpic = xy2pic(9, 12) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "asura"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 41 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ñÇèpém", "wizard")
		cardrefpic = COLOR_FRESH
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 75 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("êÌém", "warrior")
		cardrefpic = COLOR_LIGHT_BLUE2
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 19 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("É}ÉìÉhÉåÉCÉN", "mandrake")
		cardrefpic = 175
		cardrefrace = "mandrake"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 22 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("Ç©Ç‘Ç∆íé", "beetle")
		cardrefpic = 176
		cardrefrace = "beetle"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 20 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉIÅ[ÉNÇÃêÌém", "orc warrior")
		cardrefpic = 165
		cardrefrace = "orc"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 25 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉIÅ[ÉNÇÃë‡í∑ÅwÉSÉ_Åx", "<Goda> the captain of orc")
		cardrefpic = xy2pic(0, 5) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "orc"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 21 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("É]ÉìÉr", "zombie")
		cardrefpic = 167
		cardrefrace = "zombie"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 42 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉRÉEÉÇÉä", "bat")
		cardrefpic = 200
		cardrefrace = "bat"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 43 ) {
		cardreftype = 0
		cardrefrare = 70
		cardrefcost = 0
		cardrefn = lang("ãzååÉRÉEÉÇÉä", "vampire bat")
		cardrefpic = xy2pic(2, 6) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "bat"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 44 ) {
		cardreftype = 0
		cardrefrare = 60
		cardrefcost = 0
		cardrefn = lang("ÉhÉâÉSÉìÉoÉbÉg", "dragon bat")
		cardrefpic = xy2pic(2, 6) + COLOR_BLUE * COLOR_TINT_MULT
		cardrefrace = "bat"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 45 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("âŒâäé˜", "fire ent")
		cardrefpic = xy2pic(3, 6) + COLOR_LIGHT_RED * COLOR_TINT_MULT
		cardrefrace = "ent"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 46 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ïXåãé˜", "ice ent")
		cardrefpic = xy2pic(3, 6) + COLOR_LIGHT_BLUE * COLOR_TINT_MULT
		cardrefrace = "ent"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 47 ) {
		cardreftype = 0
		cardrefrare = 60
		cardrefcost = 0
		cardrefn = lang("ÉäÉbÉ`", "lich")
		cardrefpic = 202
		cardrefrace = "lich"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 48 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("É}ÉXÉ^Å[ÉäÉbÉ`", "master lich")
		cardrefpic = xy2pic(4, 6) + COLOR_LIGHT_RED * COLOR_TINT_MULT
		cardrefrace = "lich"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 49 ) {
		cardreftype = 0
		cardrefrare = 40
		cardrefcost = 0
		cardrefn = lang("ÉfÉ~ÉäÉbÉ`", "demi lich")
		cardrefpic = xy2pic(4, 6) + COLOR_LIGHT_BLUE * COLOR_TINT_MULT
		cardrefrace = "lich"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 307 ) {
		cardreftype = 0
		cardrefrare = 10
		cardrefcost = 0
		cardrefn = lang("éÄåYé∑çsêl", "executioner")
		cardrefpic = 404
		cardrefrace = "lich"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 308 ) {
		cardreftype = 0
		cardrefrare = 10
		cardrefcost = 0
		cardrefn = lang("éÄê_ÇÃégÇ¢", "messenger of death")
		cardrefpic = xy2pic(8, 12) + COLOR_BLUE * COLOR_TINT_MULT
		cardrefrace = "lich"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 50 ) {
		cardreftype = 0
		cardrefrare = 80
		cardrefcost = 0
		cardrefn = lang("ó¬å¢", "hound")
		cardrefpic = xy2pic(5, 6) + COLOR_BROWN * COLOR_TINT_MULT
		cardrefrace = "hound"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 51 ) {
		cardreftype = 0
		cardrefrare = 70
		cardrefcost = 0
		cardrefn = lang("ÉtÉ@ÉCÉAÉnÉEÉìÉh", "fire hound")
		cardrefpic = xy2pic(5, 6) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "hound"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 52 ) {
		cardreftype = 0
		cardrefrare = 70
		cardrefcost = 0
		cardrefn = lang("ÉAÉCÉXÉnÉEÉìÉh", "ice hound")
		cardrefpic = xy2pic(5, 6) + COLOR_WHITE * COLOR_TINT_MULT
		cardrefrace = "hound"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 53 ) {
		cardreftype = 0
		cardrefrare = 70
		cardrefcost = 0
		cardrefn = lang("ÉâÉCÉgÉjÉìÉOÉnÉEÉìÉh", "lightning hound")
		cardrefpic = xy2pic(5, 6) + COLOR_YELLOW * COLOR_TINT_MULT
		cardrefrace = "hound"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 54 ) {
		cardreftype = 0
		cardrefrare = 70
		cardrefcost = 0
		cardrefn = lang("É_Å[ÉNÉnÉEÉìÉh", "dark hound")
		cardrefpic = xy2pic(5, 6) + COLOR_BLUE * COLOR_TINT_MULT
		cardrefrace = "hound"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 55 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("å∂òfÉnÉEÉìÉh", "illusion hound")
		cardrefpic = xy2pic(5, 6) + COLOR_PINK * COLOR_TINT_MULT
		cardrefrace = "hound"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 56 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("ê_åoÉnÉEÉìÉh", "nerve hound")
		cardrefpic = xy2pic(5, 6) + COLOR_SKY_BLUE * COLOR_TINT_MULT
		cardrefrace = "hound"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 57 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("É|ÉCÉYÉìÉnÉEÉìÉh", "poison hound")
		cardrefpic = xy2pic(5, 6) + COLOR_GREEN * COLOR_TINT_MULT
		cardrefrace = "hound"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 58 ) {
		cardreftype = 0
		cardrefrare = 40
		cardrefcost = 0
		cardrefn = lang("çåâπÉnÉEÉìÉh", "sound hound")
		cardrefpic = xy2pic(5, 6) + COLOR_ORANGE * COLOR_TINT_MULT
		cardrefrace = "hound"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 59 ) {
		cardreftype = 0
		cardrefrare = 40
		cardrefcost = 0
		cardrefn = lang("ínçñÉnÉEÉìÉh", "nether hound")
		cardrefpic = xy2pic(5, 6) + COLOR_GRAY * COLOR_TINT_MULT
		cardrefrace = "hound"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 60 ) {
		cardreftype = 0
		cardrefrare = 40
		cardrefcost = 0
		cardrefn = lang("ÉJÉIÉXÉnÉEÉìÉh", "chaos hound")
		cardrefpic = xy2pic(5, 6) + COLOR_LIGHT_PURPLE * COLOR_TINT_MULT
		cardrefrace = "hound"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 61 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ãêëÂÉäÉX", "giant squirrel")
		cardrefpic = xy2pic(6, 6) + COLOR_BROWN * COLOR_TINT_MULT
		cardrefrace = "rabbit"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 62 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("éEêlÉäÉX", "killer squirrel")
		cardrefpic = xy2pic(6, 6) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "rabbit"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 63 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("âÖîO", "grudge")
		cardrefpic = 205
		cardrefrace = "ghost"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 64 ) {
		cardreftype = 0
		cardrefrare = 70
		cardrefcost = 0
		cardrefn = lang("âÏãS", "hungry demon")
		cardrefpic = xy2pic(7, 6) + COLOR_GREEN * COLOR_TINT_MULT
		cardrefrace = "ghost"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 312 ) {
		cardreftype = 0
		cardrefrare = 40
		cardrefcost = 0
		cardrefn = lang("ëÂêHÇ¢ÉgÉh", "hungry sea lion")
		cardrefpic = 406
		cardrefrace = "ent"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 313 ) {
		cardreftype = 0
		cardrefrare = 40
		cardrefcost = 0
		cardrefn = lang("í¥ëÂêHÇ¢ÉgÉh", "super hungry sea lion")
		cardrefpic = xy2pic(10, 12) + COLOR_LIGHT_RED * COLOR_TINT_MULT
		cardrefrace = "ent"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 65 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ï˙ìdâ_", "electric cloud")
		cardrefpic = xy2pic(8, 6) + COLOR_YELLOW * COLOR_TINT_MULT
		cardrefrace = "spirit"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 66 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ç¨ì◊ÇÃâÚ", "chaos cloud")
		cardrefpic = xy2pic(8, 6) + COLOR_LIGHT_PURPLE * COLOR_TINT_MULT
		cardrefrace = "spirit"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 67 ) {
		cardreftype = 0
		cardrefrare = 80
		cardrefcost = 0
		cardrefn = lang("ÉtÉçÅ[ÉeÉBÉìÉOÉAÉC", "floating eye")
		cardrefpic = 207
		cardrefrace = "eye"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 315 ) {
		cardreftype = 0
		cardrefrare = 60
		cardrefcost = 0
		cardrefn = lang("ÉJÉIÉXÉAÉC", "chaos eye")
		cardrefpic = xy2pic(9, 6) + COLOR_PURPLE * COLOR_TINT_MULT
		cardrefrace = "eye"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 316 ) {
		cardreftype = 0
		cardrefrare = 60
		cardrefcost = 0
		cardrefn = lang("É}ÉbÉhÉQÉCÉY", "mad gaze")
		cardrefpic = xy2pic(11, 12) + COLOR_BLUE * COLOR_TINT_MULT
		cardrefrace = "eye"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 314 ) {
		cardreftype = 0
		cardrefrare = 60
		cardrefcost = 0
		cardrefn = lang("ÉfÉXÉQÉCÉY", "death gaze")
		cardrefpic = xy2pic(11, 12) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "eye"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 68 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("ÉèÉCÉoÅ[Éì", "wyvern")
		cardrefpic = 235
		cardrefrace = "wyvern"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 78 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉpÉyÉbÉg", "puppet")
		cardrefpic = 209
		cardrefrace = "eulderna"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 81 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉèÉXÉv", "wasp")
		cardrefpic = 210
		cardrefrace = "wasp"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 82 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉåÉbÉhÉèÉXÉv", "red wasp")
		cardrefpic = xy2pic(12, 6) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "wasp"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 83 ) {
		cardreftype = 0
		cardrefrare = 60
		cardrefcost = 0
		cardrefn = lang("ÉTÉCÉNÉçÉvÉX", "cyclops")
		cardrefpic = 232
		cardrefrace = "giant"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 84 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("É^ÉCÉ^Éì", "titan")
		cardrefpic = xy2pic(1, 7) + COLOR_LIGHT_RED * COLOR_TINT_MULT
		cardrefrace = "giant"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 85 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉCÉìÉv", "imp")
		cardrefpic = xy2pic(14, 6) + COLOR_LIGHT_RED * COLOR_TINT_MULT
		cardrefrace = "imp"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 86 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ñªäEÇÃégÇ¢", "nether imp")
		cardrefpic = xy2pic(14, 6) + COLOR_BLUE * COLOR_TINT_MULT
		cardrefrace = "imp"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 87 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉJÉIÉXÉCÉìÉv", "chaos imp")
		cardrefpic = xy2pic(14, 6) + COLOR_LIGHT_PURPLE * COLOR_TINT_MULT
		cardrefrace = "imp"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 88 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ñSé“ÇÃéË", "hand of the dead")
		cardrefpic = 213
		cardrefrace = "hand"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 89 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ç¨ì◊ÇÃéË", "hand of the chaos")
		cardrefpic = xy2pic(15, 6) + COLOR_LIGHT_PURPLE * COLOR_TINT_MULT
		cardrefrace = "hand"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 90 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("éEêlãSÇÃéË", "hand of the murderer")
		cardrefpic = xy2pic(15, 6) + COLOR_LIGHT_RED * COLOR_TINT_MULT
		cardrefrace = "hand"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 91 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ñSóÏ", "ghost")
		cardrefpic = 214
		cardrefrace = "ghost"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 92 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉjÉìÉt", "nymph")
		cardrefpic = xy2pic(16, 6) + COLOR_YELLOW * COLOR_TINT_MULT
		cardrefrace = "ghost"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 93 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("êlêHÇ¢â‘", "man eater flower")
		cardrefpic = 215
		cardrefrace = "mandrake"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 94 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉJÉIÉXÉtÉâÉèÅ[", "chaos flower")
		cardrefpic = xy2pic(17, 6) + COLOR_PINK * COLOR_TINT_MULT
		cardrefrace = "mandrake"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 95 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉRÉuÉâ", "cobra")
		cardrefpic = xy2pic(18, 6) + COLOR_LIGHT_BLUE * COLOR_TINT_MULT
		cardrefrace = "snake"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 96 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉLÉìÉOÉRÉuÉâ", "king cobra")
		cardrefpic = xy2pic(18, 6) + COLOR_LIGHT_RED * COLOR_TINT_MULT
		cardrefrace = "snake"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 97 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉtÉ@ÉCÉAÉhÉåÉCÉN", "fire drake")
		cardrefpic = xy2pic(2, 7) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "drake"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 98 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉAÉCÉXÉhÉåÉCÉN", "ice drake")
		cardrefpic = 233
		cardrefrace = "drake"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 99 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉåÉbÉTÅ[É}É~Å[", "lesser mummy")
		cardrefpic = 219
		cardrefrace = "zombie"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 100 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("É}É~Å[", "mummy")
		cardrefpic = xy2pic(21, 6) + COLOR_PINK * COLOR_TINT_MULT
		cardrefrace = "zombie"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 101 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉOÉåÉCÉ^Å[É}É~Å[", "greater mummy")
		cardrefpic = xy2pic(21, 6) + COLOR_YELLOW * COLOR_TINT_MULT
		cardrefrace = "zombie"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 257 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉsÉâÉ~ÉbÉhÇÃéÂÅwÉcÉFÉìÅx", "<Tuwen> the master of the pyramid")
		cardrefpic = xy2pic(21, 6) + COLOR_PURPLE * COLOR_TINT_MULT
		cardrefrace = "zombie"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 254 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("å√ë„ÇÃäª", "ancient coffin")
		cardrefpic = 395
		cardrefrace = "zombie"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 102 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉSÉuÉäÉì", "goblin")
		cardrefpic = xy2pic(22, 6) + COLOR_LIGHT_RED * COLOR_TINT_MULT
		cardrefrace = "goblin"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 103 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉSÉuÉäÉìÇÃêÌém", "goblin warrior")
		cardrefpic = xy2pic(22, 6) + COLOR_YELLOW * COLOR_TINT_MULT
		cardrefrace = "goblin"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 104 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉSÉuÉäÉìÉVÉÉÅ[É}Éì", "goblin shaman")
		cardrefpic = xy2pic(22, 6) + COLOR_LIGHT_PURPLE * COLOR_TINT_MULT
		cardrefrace = "goblin"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 105 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉSÉuÉäÉìÇÃñÇñ@égÇ¢", "goblin wizard")
		cardrefpic = xy2pic(22, 6) + COLOR_BLUE * COLOR_TINT_MULT
		cardrefrace = "goblin"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 106 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ê‘ÇÃêÙóÁé“", "red baptist")
		cardrefpic = xy2pic(23, 6) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "ghost"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 107 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ê¬ÇÃêÙóÁé“", "blue baptist")
		cardrefpic = xy2pic(23, 6) + COLOR_BLUE * COLOR_TINT_MULT
		cardrefrace = "ghost"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 108 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉuÉâÉEÉìÉxÉA", "brown bear")
		cardrefpic = 222
		cardrefrace = "bear"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 109 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉOÉäÉYÉäÅ[", "grizzly")
		cardrefpic = xy2pic(24, 6) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "bear"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 344 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("É}ÉìÉÇÉX", "Mammoth")
		cardrefpic = 439
		cardrefrace = "bear"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 110 ) {
		cardreftype = 0
		cardrefrare = 40
		cardrefcost = 0
		cardrefn = lang("ÉäÉrÉìÉOÉAÅ[É}Å[", "living armor")
		cardrefpic = 223
		cardrefrace = "armor"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 111 ) {
		cardreftype = 0
		cardrefrare = 30
		cardrefcost = 0
		cardrefn = lang("ìSâÚ", "steel mass")
		cardrefpic = xy2pic(25, 6) + COLOR_LIGHT_BLUE * COLOR_TINT_MULT
		cardrefrace = "armor"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 112 ) {
		cardreftype = 0
		cardrefrare = 30
		cardrefcost = 0
		cardrefn = lang("ÉSÅ[ÉãÉfÉìÉAÅ[É}Å[", "golden armor")
		cardrefpic = xy2pic(25, 6) + COLOR_YELLOW * COLOR_TINT_MULT
		cardrefrace = "armor"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 113 ) {
		cardreftype = 0
		cardrefrare = 30
		cardrefcost = 0
		cardrefn = lang("ÉfÉXÉAÅ[É}Å[", "death armor")
		cardrefpic = xy2pic(25, 6) + COLOR_LIGHT_RED * COLOR_TINT_MULT
		cardrefrace = "armor"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 114 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉÅÉfÉÖÅ[ÉT", "medusa")
		cardrefpic = 224
		cardrefrace = "medusa"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 115 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉGÉEÉäÉÖÉAÉå", "euryale")
		cardrefpic = xy2pic(26, 6) + COLOR_YELLOW * COLOR_TINT_MULT
		cardrefrace = "medusa"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 116 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉXÉeÉìÉm", "stheno")
		cardrefpic = xy2pic(26, 6) + COLOR_LIGHT_RED * COLOR_TINT_MULT
		cardrefrace = "medusa"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 117 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("óˆÇÃÉLÉÖÅ[ÉsÉbÉg", "cupid of love")
		cardrefpic = 225
		cardrefrace = "cupid"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 118 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉåÉbÉTÅ[ÉtÉ@ÉìÉgÉÄ", "lesser phantom")
		cardrefpic = 226
		cardrefrace = "phantom"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 248 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("ÉeÉBÉâÉmÉTÉEÉãÉX", "Tyrannosaurus")
		cardrefpic = 389
		cardrefrace = "dinosaur"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 119 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉnÅ[ÉsÅ[", "harpy")
		cardrefpic = 227
		cardrefrace = "harpy"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 120 ) {
		cardreftype = 0
		cardrefrare = 30
		cardrefcost = 0
		cardrefn = lang("ÉOÉäÅ[ÉìÉhÉâÉSÉì", "green dragon")
		cardrefpic = xy2pic(30, 6) + COLOR_LIGHT_GREEN * COLOR_TINT_MULT
		cardrefrace = "dragon"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 121 ) {
		cardreftype = 0
		cardrefrare = 20
		cardrefcost = 0
		cardrefn = lang("ÉåÉbÉhÉhÉâÉSÉì", "red dragon")
		cardrefpic = xy2pic(30, 6) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "dragon"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 122 ) {
		cardreftype = 0
		cardrefrare = 20
		cardrefcost = 0
		cardrefn = lang("ÉzÉèÉCÉgÉhÉâÉSÉì", "white dragon")
		cardrefpic = 228
		cardrefrace = "dragon"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 123 ) {
		cardreftype = 0
		cardrefrare = 20
		cardrefcost = 0
		cardrefn = lang("ÉGÉåÉLÉhÉâÉSÉì", "elec dragon")
		cardrefpic = xy2pic(30, 6) + COLOR_YELLOW * COLOR_TINT_MULT
		cardrefrace = "dragon"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 124 ) {
		cardreftype = 0
		cardrefrare = 10
		cardrefcost = 0
		cardrefn = lang("ñªäEÉhÉâÉSÉì", "nether dragon")
		cardrefpic = xy2pic(30, 6) + COLOR_BLUE * COLOR_TINT_MULT
		cardrefrace = "dragon"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 125 ) {
		cardreftype = 0
		cardrefrare = 10
		cardrefcost = 0
		cardrefn = lang("ÉJÉIÉXÉhÉâÉSÉì", "chaos dragon")
		cardrefpic = xy2pic(30, 6) + COLOR_LIGHT_PURPLE * COLOR_TINT_MULT
		cardrefrace = "dragon"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 126 ) {
		cardreftype = 0
		cardrefrare = 40
		cardrefcost = 0
		cardrefn = lang("ÉPÉãÉxÉçÉX", "cerberus")
		cardrefpic = 229
		cardrefrace = "cerberus"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 255 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉTÉ\Éä", "scorpion")
		cardrefpic = 396
		cardrefrace = "centipede"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 256 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("É_ÉCÉIÉEÉTÉ\Éä", "king scorpion")
		cardrefpic = xy2pic(0, 12) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "centipede"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 127 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("Ç‹ÇæÇÁíwÂÅ", "spider")
		cardrefpic = 230
		cardrefrace = "spider"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 128 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉuÉâÉbÉNÉEÉBÉhÉE", "black widow")
		cardrefpic = xy2pic(32, 6) + COLOR_LIGHT_GREEN * COLOR_TINT_MULT
		cardrefrace = "spider"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 129 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉpÉâÉâÉCÉUÅ[", "paralyzer")
		cardrefpic = xy2pic(32, 6) + COLOR_LIGHT_BLUE * COLOR_TINT_MULT
		cardrefrace = "spider"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 130 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("É^ÉâÉìÉ`ÉÖÉâ", "tarantula")
		cardrefpic = xy2pic(32, 6) + COLOR_YELLOW * COLOR_TINT_MULT
		cardrefrace = "spider"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 131 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ãzååíwÂÅ", "blood spider")
		cardrefpic = xy2pic(32, 6) + COLOR_LIGHT_RED * COLOR_TINT_MULT
		cardrefrace = "spider"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 132 ) {
		cardreftype = 0
		cardrefrare = 40
		cardrefcost = 0
		cardrefn = lang("ÉEÉbÉhÉSÅ[ÉåÉÄ", "wooden golem")
		cardrefpic = xy2pic(0, 7) + COLOR_BROWN * COLOR_TINT_MULT
		cardrefrace = "golem"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 133 ) {
		cardreftype = 0
		cardrefrare = 40
		cardrefcost = 0
		cardrefn = lang("ÉXÉgÅ[ÉìÉSÅ[ÉåÉÄ", "stone golem")
		cardrefpic = 231
		cardrefrace = "golem"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 134 ) {
		cardreftype = 0
		cardrefrare = 40
		cardrefcost = 0
		cardrefn = lang("ÉXÉeÉBÅ[ÉãÉSÅ[ÉåÉÄ", "steel golem")
		cardrefpic = xy2pic(0, 7) + COLOR_GRAY * COLOR_TINT_MULT
		cardrefrace = "golem"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 135 ) {
		cardreftype = 0
		cardrefrare = 30
		cardrefcost = 0
		cardrefn = lang("ÉSÅ[ÉãÉhÉSÅ[ÉåÉÄ", "golden golem")
		cardrefpic = xy2pic(0, 7) + COLOR_YELLOW * COLOR_TINT_MULT
		cardrefrace = "golem"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 136 ) {
		cardreftype = 0
		cardrefrare = 20
		cardrefcost = 0
		cardrefn = lang("É~ÉXÉäÉãÉSÅ[ÉåÉÄ", "mithril golem")
		cardrefpic = xy2pic(0, 7) + COLOR_LIGHT_BLUE * COLOR_TINT_MULT
		cardrefrace = "golem"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 137 ) {
		cardreftype = 0
		cardrefrare = 15
		cardrefcost = 0
		cardrefn = lang("ÉXÉJÉCÉSÅ[ÉåÉÄ", "sky golem")
		cardrefpic = xy2pic(0, 7) + COLOR_SKY_BLUE * COLOR_TINT_MULT
		cardrefrace = "golem"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 138 ) {
		cardreftype = 0
		cardrefrare = 15
		cardrefcost = 0
		cardrefn = lang("ÉAÉ_É}ÉìÉ^ÉCÉgÉSÅ[ÉåÉÄ", "adamantium golem")
		cardrefpic = xy2pic(0, 7) + COLOR_GREEN * COLOR_TINT_MULT
		cardrefrace = "golem"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 147 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("âŒäI", "fire crab")
		cardrefpic = 237
		cardrefrace = "crab"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 148 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("âŒâäÉÄÉJÉf", "fire centipede")
		cardrefpic = 239
		cardrefrace = "centipede"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 149 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("âäÇÃêMã¬é“", "cultist of fire")
		cardrefpic = 240
		cardrefrace = "goblin"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 150 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ä[çúêÌém", "skeleton warrior")
		cardrefpic = 241
		cardrefrace = "skeleton"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 151 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ä[çúã∂êÌém", "skeleton berserker")
		cardrefpic = xy2pic(10, 7) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "skeleton"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 152 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("à≈ÇÃêÈã≥ét", "missionary of darkness")
		cardrefpic = 243
		cardrefrace = "eulderna"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 153 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÅÉÉ|Å[ÉìÅÑ", "<Pawn>")
		cardrefpic = 244
		cardrefrace = "piece"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 154 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÅÉÉãÅ[ÉNÅÑ", "<Rook>")
		cardrefpic = 245
		cardrefrace = "piece"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 155 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÅÉÉrÉVÉáÉbÉvÅÑ", "<Bishop>")
		cardrefpic = 246
		cardrefrace = "piece"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 156 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÅÉÉiÉCÉgÅÑ", "<Knight>")
		cardrefpic = 247
		cardrefrace = "piece"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 157 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÅÉÉNÉBÅ[ÉìÅÑ", "<Queen>")
		cardrefpic = 248
		cardrefrace = "piece"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 158 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÅÉÉLÉìÉOÅÑ", "<King>")
		cardrefpic = 249
		cardrefrace = "piece"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 159 ) {
		cardreftype = 0
		cardrefrare = 25
		cardrefcost = 0
		cardrefn = lang("óbï∫êÌém", "mercenary warrior")
		cardrefpic = 159
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 160 ) {
		cardreftype = 0
		cardrefrare = 25
		cardrefcost = 0
		cardrefn = lang("óbï∫éÀéË", "mercenary archer")
		cardrefpic = 57
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 161 ) {
		cardreftype = 0
		cardrefrare = 25
		cardrefcost = 0
		cardrefn = lang("óbï∫ñÇèpém", "mercenary wizard")
		cardrefpic = 100
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 302 ) {
		cardreftype = 0
		cardrefrare = 25
		cardrefcost = 0
		cardrefn = lang("ìêëØícÇÃì™óÃ", "rogue boss")
		cardrefpic = 150
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 303 ) {
		cardreftype = 0
		cardrefrare = 25
		cardrefcost = 0
		cardrefn = lang("ìêëØícÇÃópêSñ_", "rogue warrior")
		cardrefpic = 31
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 304 ) {
		cardreftype = 0
		cardrefrare = 25
		cardrefcost = 0
		cardrefn = lang("ìêëØícÇÃéEÇµâÆ", "rogue archer")
		cardrefpic = 158
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 305 ) {
		cardreftype = 0
		cardrefrare = 25
		cardrefcost = 0
		cardrefn = lang("ìêëØícÇÃèpém", "rogue wizard")
		cardrefpic = 157
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 162 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉCÉFÉãÉXã@äBï∫", "Yerles machine infantry")
		cardrefpic = 250
		cardrefrace = "yerles"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 234 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉCÉFÉãÉXÉGÉäÅ[Égã@äBï∫", "Yerles elite machine infantry")
		cardrefpic = xy2pic(19, 7) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "yerles"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 231 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ï”ã´ÇÃóEémÅwÉMÉãÉoÅ[ÉgëÂç≤Åx", "<Gilbert> the colonel")
		cardrefpic = 370
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 232 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉCÉFÉãÉXé©ëññC", "yerles self-propelled gun")
		cardrefpic = 373
		cardrefrace = "yerles"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 233 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉWÉÖÅ[ÉAï‡ï∫", "juere infantry")
		cardrefpic = 377
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 235 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉWÉÖÅ[ÉAåïì¨ém", "juere swordman")
		cardrefpic = xy2pic(14, 11) + COLOR_BLUE * COLOR_TINT_MULT
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 163 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉçÉbÉNÉXÉçÉAÅ[", "rock thrower")
		cardrefpic = 251
		cardrefrace = "yerles"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 164 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("îL", "cat")
		cardrefpic = 253
		cardrefrace = "cat"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 246 ) {
		cardreftype = 0
		cardrefrare = 1
		cardrefcost = 0
		cardrefn = lang("ÉVÉãÉoÅ[ÉLÉÉÉbÉg", "silver cat")
		cardrefpic = 387
		cardrefrace = "cat"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 332 ) {
		cardreftype = 0
		cardrefrare = 10
		cardrefcost = 0
		cardrefn = lang("ñ¿éqÇÃéqîL", "stray cat")
		cardrefpic = xy2pic(24, 11) + COLOR_BROWN * COLOR_TINT_MULT
		cardrefrace = "cat"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 229 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉâÉCÉIÉì", "lion")
		cardrefpic = 368
		cardrefrace = "cat"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 230 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("îLégÇ¢ÅwÉPÉVÅ[Åx", "<Cacy> the cat tamer")
		cardrefpic = 369
		cardrefrace = "catgod"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 228 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉJÅ[ÉoÉìÉNÉã", "carbuncle")
		cardrefpic = 367
		cardrefrace = "cat"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 165 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("å¢", "dog")
		cardrefpic = 254
		cardrefrace = "dog"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 225 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("éqå¢ÇÃÅwÉ|ÉsÅ[Åx", "<Poppy> the little dog")
		cardrefpic = 364
		cardrefrace = "dog"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 226 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("å¢çDÇ´ÇÃè≠èóÅwÉäÉäÉAÉìÅx", "<Rilian> the dog lover")
		cardrefpic = 365
		cardrefrace = "roran"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 227 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("îLåôÇ¢ÇÃÅwÉ^ÉÄÅx", "<Tam> the cat hater")
		cardrefpic = 366
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 166 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("è≠èó", "little girl")
		cardrefpic = COLOR_BLUE
		cardrefrace = "roran"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 167 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉlÉYÉ~", "rat")
		cardrefpic = xy2pic(24, 7) + COLOR_BROWN * COLOR_TINT_MULT
		cardrefrace = "rat"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 168 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("Ç‚Ç«Ç©ÇË", "hermit crab")
		cardrefpic = 256
		cardrefrace = "shell"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 170 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ëÂìπå|êl", "public performer")
		cardrefpic = 258
		cardrefrace = "yerles"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 175 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("îLÇÃèóâ§ÅwÉtÉäÅ[ÉWÉAÅx", "<Frisia> the cat queen")
		cardrefpic = 348
		cardrefrace = "catgod"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 176 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ñÖ", "younger sister")
		cardrefpic = 105
		cardrefrace = "roran"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 249 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ñÖ", "younger sister")
		cardrefpic = 105
		cardrefrace = "roran"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 210 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ñÖîL", "younger cat sister")
		cardrefpic = 354
		cardrefrace = "catsister"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 211 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("èÏ", "young lady")
		cardrefpic = 355
		cardrefrace = "roran"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 177 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("É[ÉCÉåÉìãÜã…îjâÛï∫äÌÅwÉEÉeÉBÉ}Åx", "<Utima> the destroyer of Xeren")
		cardrefpic = 349
		cardrefrace = "machinegod"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 178 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ïsèÚÇ»ÇÈé“ÅwÉAÉYÉâÉVÉYÉãÅx", "<Azzrssil> the impure")
		cardrefpic = xy2pic(9, 10) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "undeadgod"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 179 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉyÉbÉgÉAÉäÅ[ÉiÇÃéÂç√é“ÅwÉjÉmÅx", "master of pet arena")
		cardrefpic = 350
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 208 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ì`ê‡ÇÃêEêlÅwÉKÉçÉNÅx", "<Garok> the legendary smith")
		cardrefpic = 352
		cardrefrace = "dwarf"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 209 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ì`ê‡ÇÃêEêlÅwÉ~ÉâÉãÅx", "<Miral> the legendary smith")
		cardrefpic = 353
		cardrefrace = "dwarf"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 180 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉcÉCÉìÉeÅ[Éã", "twintail")
		cardrefpic = 259
		cardrefrace = "cat"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 181 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ã‚òT", "silver wolf")
		cardrefpic = 260
		cardrefrace = "hound"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 182 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("îíàﬂÇÃÉiÅ[ÉX", "nurse")
		cardrefpic = 208
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 183 ) {
		cardreftype = 0
		cardrefrare = 20
		cardrefcost = 0
		cardrefn = lang("ëÂïxçã", "rich person")
		cardrefpic = 71
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 184 ) {
		cardreftype = 0
		cardrefrare = 40
		cardrefcost = 0
		cardrefn = lang("ãMë∞ÇÃéqãü", "noble child")
		cardrefpic = 73
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 185 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("äœåıãq", "tourist")
		cardrefpic = 122
		cardrefrace = "yerles"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 350 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ç’ÇËÇÃäœåıãq", "festival tourist")
		cardrefpic = xy2pic(15, 14) + COLOR_RANDOM * COLOR_TINT_MULT
		cardrefrace = "yerles"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 186 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉuÉåÉCÉh", "blade")
		cardrefpic = 270
		cardrefrace = "machine"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 187 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉuÉåÉCÉhÉ¿", "blade alpha")
		cardrefpic = xy2pic(6, 8) + COLOR_LIGHT_BLUE * COLOR_TINT_MULT
		cardrefrace = "machine"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 188 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉuÉåÉCÉhÉ∂", "blade omega")
		cardrefpic = xy2pic(6, 8) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "machine"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 345 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÅwÉJÉlÉ_ÇÃÉoÉCÉNÅx", "<Kaneda Bike>")
		cardrefpic = 470
		cardrefrace = "bike"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 346 ) {
		cardreftype = 0
		cardrefrare = 5
		cardrefcost = 0
		cardrefn = lang("ÉJÉu", "cub")
		cardrefpic = 471
		cardrefrace = "bike"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 341 ) {
		cardreftype = 0
		cardrefrare = 25
		cardrefcost = 0
		cardrefn = lang("ínóãå¢", "mine dog")
		cardrefpic = 434
		cardrefrace = "machine"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 258 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("ìSÇÃèàèó", "iron maiden")
		cardrefpic = 198
		cardrefrace = "machine"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 189 ) {
		cardreftype = 0
		cardrefrare = 60
		cardrefcost = 0
		cardrefn = lang("àŸå`ÇÃñ⁄", "deformed eye")
		cardrefpic = 271
		cardrefrace = "eye"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 190 ) {
		cardreftype = 0
		cardrefrare = 60
		cardrefcost = 0
		cardrefn = lang("ïsèÚÇ»ÇÈìµ", "impure eye")
		cardrefpic = xy2pic(7, 8) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "eye"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 191 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("ÉEÉBÉXÉv", "wisp")
		cardrefpic = 272
		cardrefrace = "wisp"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 192 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉnÉäÇÀÇ∏Ç›", "hedgehog")
		cardrefpic = 273
		cardrefrace = "crab"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 193 ) {
		cardreftype = 0
		cardrefrare = 70
		cardrefcost = 0
		cardrefn = lang("ãPÇ≠ÉnÉäÇÀÇ∏Ç›", "shining hedgehog")
		cardrefpic = xy2pic(9, 8) + COLOR_LIGHT_BLUE * COLOR_TINT_MULT
		cardrefrace = "crab"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 195 ) {
		cardreftype = 0
		cardrefrare = 30
		cardrefcost = 0
		cardrefn = lang("å{", "chicken")
		cardrefpic = 274
		cardrefrace = "chicken"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 196 ) {
		cardreftype = 0
		cardrefrare = 60
		cardrefcost = 0
		cardrefn = lang("ÉpÉìÉvÉLÉì", "pumpkin")
		cardrefpic = 275
		cardrefrace = "mandrake"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 201 ) {
		cardreftype = 0
		cardrefrare = 20
		cardrefcost = 0
		cardrefn = lang("ÉpÉsÅ[", "puppy")
		cardrefpic = xy2pic(11, 8) + COLOR_YELLOW * COLOR_TINT_MULT
		cardrefrace = "mandrake"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 197 ) {
		cardreftype = 0
		cardrefrare = 60
		cardrefcost = 0
		cardrefn = lang("ìÏâZÇÃâˆï®", "greater pumpkin")
		cardrefpic = xy2pic(11, 8) + COLOR_BLUE * COLOR_TINT_MULT
		cardrefrace = "mandrake"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 198 ) {
		cardreftype = 0
		cardrefrare = 60
		cardrefcost = 0
		cardrefn = lang("ÉnÉçÉEÉBÉìÉiÉCÉgÉÅÉA", "halloween nightmare")
		cardrefpic = xy2pic(11, 8) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "mandrake"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 199 ) {
		cardreftype = 0
		cardrefrare = 30
		cardrefcost = 0
		cardrefn = lang("à≈éq", "stalker")
		cardrefpic = 276
		cardrefrace = "stalker"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 200 ) {
		cardreftype = 0
		cardrefrare = 30
		cardrefcost = 0
		cardrefn = lang("à≈ÇÃòVét", "shadow stalker")
		cardrefpic = xy2pic(12, 8) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "stalker"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 202 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("âŒÇÃãêêlÅwÉGÉ{ÉìÅx", "<Ebon> the fire giant")
		cardrefpic = 351
		cardrefrace = "giant"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 203 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("å©ê¢ï®âÆÇÃÅwÉÇÉCÉAÅ[Åx", "<Moyer> the crooked")
		cardrefpic = COLOR_LIME
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 205 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉÅÉCÉh", "maid")
		cardrefpic = 104
		cardrefrace = "yerles"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 207 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("âŒÇÃãêêlÅwÉGÉ{ÉìÅx", "<Ebon> the fire giant")
		cardrefpic = 351
		cardrefrace = "giant"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 212 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("é¿å±ë‰", "<Stersha> the queen of Palmia")
		cardrefpic = 117
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 213 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ñ≥é◊ãCÇ»è≠èóÅwÉOÉEÉFÉìÅx", "<Gwen> the innocent")
		cardrefpic = 356
		cardrefrace = "roran"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 221 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("Ç–Ç∆ÇËÇ⁄Ç¡ÇøÇÃÅwÉpÉGÉãÅx", "Lonely <Pael>")
		cardrefpic = 358
		cardrefrace = "roran"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 222 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉpÉGÉãÇÃïÍÅwÉäÉäÉBÅx", "Pael's mom <Lily>")
		cardrefpic = 359
		cardrefrace = "roran"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 223 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("èóÇΩÇÁÇµÇÃÅwÉâÉtÉ@ÉGÉçÅx", "<Raphael> the womanizer")
		cardrefpic = 361
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 224 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("å©èKÇ¢ãRémÅwÉAÉCÉìÉNÅx", "<Ainc> the novice knight")
		cardrefpic = 362
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 243 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ïâèùï∫ÅwÉAÅ[ÉmÉãÉhÅx", "<Arnord> the injured soldier")
		cardrefpic = 383
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 247 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("îLÇ©Ç‘ÇËÅwÉ~Å[ÉAÅx", "<Mia> the cat freak")
		cardrefpic = 388
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 252 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("îYÇﬂÇÈñÇèpémÅwÉåÉìÉgÉìÅx", "<Renton> the suffering wizard")
		cardrefpic = 392
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 253 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ãHë„ÇÃìDñ_ÅwÉ}Å[ÉNÉXÅx", "<Marks> the great thief")
		cardrefpic = 394
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 259 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("îöíeñÇÅwÉmÉGÉãÅx", "<Noel> the bomber")
		cardrefpic = 199
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 301 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ÉpÉãÉ~ÉAè≠è´ÅwÉRÉlÉäÅ[Åx", "<Conery> Palmian major general")
		cardrefpic = 403
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 214 ) {
		cardreftype = 0
		cardrefrare = 30
		cardrefcost = 0
		cardrefn = lang("å©èKÇ¢ìêëØ", "thief")
		cardrefpic = 166
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 215 ) {
		cardreftype = 0
		cardrefrare = 30
		cardrefcost = 0
		cardrefn = lang("ã≠ìê", "robber")
		cardrefpic = xy2pic(1, 5) + COLOR_RED * COLOR_TINT_MULT
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 217 ) {
		cardreftype = 0
		cardrefrare = 30
		cardrefcost = 0
		cardrefn = lang("É}ÉXÉ^Å[ÉVÅ[Ét", "master thief")
		cardrefpic = xy2pic(1, 5) + COLOR_BLUE * COLOR_TINT_MULT
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 216 ) {
		cardreftype = 0
		cardrefrare = 20
		cardrefcost = 0
		cardrefn = lang("ÉCÉXÇÃàÃëÂÇ»ÇÈéÌë∞", "great race of Yith")
		cardrefpic = 429
		cardrefrace = "yith"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 218 ) {
		cardreftype = 0
		cardrefrare = 40
		cardrefcost = 0
		cardrefn = lang("ÉVÉÖÉuÅÅÉjÉOÉâÉX", "Shub-Niggurath")
		cardrefpic = 277
		cardrefrace = "yith"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 219 ) {
		cardreftype = 0
		cardrefrare = 80
		cardrefcost = 0
		cardrefn = lang("ÉKÉO", "gagu")
		cardrefpic = 278
		cardrefrace = "orc"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 220 ) {
		cardreftype = 0
		cardrefrare = 30
		cardrefcost = 0
		cardrefn = lang("óÜê˘ÇÃâ§", "spiral king")
		cardrefpic = 430
		cardrefrace = "yith"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 250 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("ódê∏", "fairy")
		cardrefpic = 390
		cardrefrace = "fairy"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 260 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("çïîL", "black cat")
		cardrefpic = 211
		cardrefrace = "servant"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 261 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("ódê∏Ç≥ÇÒ", "cute fairy")
		cardrefpic = 217
		cardrefrace = "servant"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 262 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("ÉAÉìÉhÉçÉCÉh", "android")
		cardrefpic = 218
		cardrefrace = "servant"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 263 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("çïìVég", "black angel")
		cardrefpic = 236
		cardrefrace = "servant"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 264 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("í«ï˙é“", "exile")
		cardrefpic = 269
		cardrefrace = "servant"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 265 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("â©ã‡ÇÃãRém", "golden knight")
		cardrefpic = 267
		cardrefrace = "servant"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 266 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("ñhâqé“", "defender")
		cardrefpic = 242
		cardrefrace = "servant"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 267 ) {
		cardreftype = 0
		cardrefrare = 10
		cardrefcost = 0
		cardrefn = lang("ë în", "lame horse")
		cardrefpic = xy2pic(31, 7) + COLOR_LIGHT_BLUE * COLOR_TINT_MULT
		cardrefrace = "horse"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 276 ) {
		cardreftype = 0
		cardrefrare = 10
		cardrefcost = 0
		cardrefn = lang("ñÏê∂în", "wild horse")
		cardrefpic = xy2pic(31, 7) + COLOR_BROWN * COLOR_TINT_MULT
		cardrefrace = "horse"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 275 ) {
		cardreftype = 0
		cardrefrare = 10
		cardrefcost = 0
		cardrefn = lang("ÉmÉCÉGÉãîn", "Noyel horse")
		cardrefpic = xy2pic(31, 7) + COLOR_GRAY * COLOR_TINT_MULT
		cardrefrace = "horse"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 268 ) {
		cardreftype = 0
		cardrefrare = 10
		cardrefcost = 0
		cardrefn = lang("ÉàÉEÉBÉìîn", "Yowyn horse")
		cardrefpic = xy2pic(31, 7) + COLOR_LIGHT_RED * COLOR_TINT_MULT
		cardrefrace = "horse"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 277 ) {
		cardreftype = 0
		cardrefrare = 10
		cardrefcost = 0
		cardrefn = lang("ÉTÉâÉuÉåÉbÉh", "wild horse")
		cardrefpic = xy2pic(31, 7) + COLOR_PINK * COLOR_TINT_MULT
		cardrefrace = "horse"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 278 ) {
		cardreftype = 0
		cardrefrare = 70
		cardrefcost = 0
		cardrefn = lang("É~ÉÖÅ[É^ÉìÉg", "mutant")
		cardrefpic = 191
		cardrefrace = "mutant"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 279 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ê∂âªäwé“ÅwÉCÉRÅ[ÉãÅx", "<Icolle> the biologist")
		cardrefpic = 263
		cardrefrace = "yerles"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 280 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ë|èúâÆÅwÉoÉãÉUÉbÉNÅx", "<Balzak> the janitor")
		cardrefpic = 192
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 288 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ñÇèpémÉMÉãÉhÉ}ÉXÉ^Å[ÅwÉåÉîÉâÉXÅx", "<Revlus> the mage guildmaster")
		cardrefpic = 193
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 290 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ñÇèpémÉMÉãÉhÇÃî‘êlÅwÉåÉNÉTÉXÅx", "<Lexus> the guild watchman")
		cardrefpic = 196
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 292 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ìêëØÉMÉãÉhÉ}ÉXÉ^Å[ÅwÉVÉìÅx", "<Sin> the thief guildmaster")
		cardrefpic = 197
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 294 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ìêëØÉMÉãÉhÇÃî‘êlÅwÉAÉrÉXÅx", "<Abyss> the thief watchman")
		cardrefpic = 196
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 291 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("êÌémÉMÉãÉhÉ}ÉXÉ^Å[ÅwÉtÉåÉCÅx", "<Fray> the fighter guildmaster")
		cardrefpic = 80
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 297 ) {
		cardreftype = 0
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("êÌémÉMÉãÉhÇÃî‘êlÅwÉhÉäÉAÅx", "<Doria> the fighter watchman")
		cardrefpic = 196
		cardrefrace = "norland"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 317 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("ã‚ä·ÇÃéaéEé“", "silver eyed witch")
		cardrefpic = 279
		cardrefrace = "roran"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 318 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("ÅwÉrÉbÉOÉ_ÉfÉBÅx", "<Big daddy>")
		cardrefpic = 408
		cardrefrace = "machinegod"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 319 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("ÅwÉäÉgÉãÉVÉXÉ^Å[Åx", "<Little sister>")
		cardrefpic = 409
		cardrefrace = "mutant"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 322 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("Åwì‰ÇÃâ»äwé“Åx", "<Strange scientist>")
		cardrefpic = 412
		cardrefrace = "roran"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 334 ) {
		cardreftype = 0
		cardrefrare = 50
		cardrefcost = 0
		cardrefn = lang("Åwì‰ÇÃÉvÉçÉfÉÖÅ[ÉTÅ[Åx", "<Mysterious Producer>")
		cardrefpic = 416
		cardrefrace = "juere"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 323 ) {
		cardreftype = 0
		cardrefrare = 10
		cardrefcost = 0
		cardrefn = lang("ÉVÉFÉCÉh", "shade")
		cardrefpic = 280
		cardrefrace = "ghost"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 324 ) {
		cardreftype = 0
		cardrefrare = 15
		cardrefcost = 0
		cardrefn = lang("ÉNÉCÉbÉNÉäÉìÉO", "quickling")
		cardrefpic = xy2pic(17, 8) + COLOR_LIGHT_GREEN * COLOR_TINT_MULT
		cardrefrace = "quickling"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 325 ) {
		cardreftype = 0
		cardrefrare = 15
		cardrefcost = 0
		cardrefn = lang("ÉNÉCÉbÉNÉäÉìÉOÇÃã|égÇ¢", "quickling archer")
		cardrefpic = xy2pic(17, 8) + COLOR_YELLOW * COLOR_TINT_MULT
		cardrefrace = "quickling"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 328 ) {
		cardreftype = 0
		cardrefrare = 2
		cardrefcost = 0
		cardrefn = lang("ÉVÉãÉoÅ[ÉxÉã", "silver bell")
		cardrefpic = 252
		cardrefrace = "metal"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 329 ) {
		cardreftype = 0
		cardrefrare = 5
		cardrefcost = 0
		cardrefn = lang("ÉSÅ[ÉãÉhÉxÉã", "gold bell")
		cardrefpic = xy2pic(21, 7) + COLOR_YELLOW * COLOR_TINT_MULT
		cardrefrace = "metal"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 330 ) {
		cardreftype = 0
		cardrefrare = 40
		cardrefcost = 0
		cardrefn = lang("ÉGÉCÉäÉAÉì", "alien")
		cardrefpic = xy2pic(19, 8) + COLOR_LIGHT_BLUE * COLOR_TINT_MULT
		cardrefrace = "dinosaur"
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 502 ) {
		cardreftype = 30
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("êX", "forest")
		cardrefpic = -1
		cardrefrace = ""
		cardrefdomain = 1
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 503 ) {
		cardreftype = 30
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("éR", "mountain")
		cardrefpic = -2
		cardrefrace = ""
		cardrefdomain = 1
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 500 ) {
		cardreftype = 30
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("äC", "sea")
		cardrefpic = -3
		cardrefrace = ""
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 501 ) {
		cardreftype = 30
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ìá", "island")
		cardrefpic = -4
		cardrefrace = ""
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 504 ) {
		cardreftype = 30
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("è¿", "swamp")
		cardrefpic = -5
		cardrefrace = ""
		cardrefdomain = 2
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 505 ) {
		cardreftype = 30
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("åÕín", "dead land")
		cardrefpic = -6
		cardrefrace = ""
		cardrefdomain = 2
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 506 ) {
		cardreftype = 30
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ïΩín", "plain")
		cardrefpic = -7
		cardrefrace = ""
		cardrefdomain = 3
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 507 ) {
		cardreftype = 30
		cardrefrare = 100
		cardrefcost = 0
		cardrefn = lang("ê·å¥", "snow field")
		cardrefpic = -8
		cardrefrace = ""
		cardrefdomain = 3
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 0
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 508 ) {
		cardreftype = 20
		cardrefrare = 80
		cardrefcost = 3
		cardrefn = lang("ì`èëîµ", "homing pigeon")
		cardrefpic = -22
		cardrefrace = ""
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 2
		cardrefskillcost = 3
		return 1
	}
	if ( dbid == 509 ) {
		cardreftype = 20
		cardrefrare = 70
		cardrefcost = 2
		cardrefn = lang("ãAä“", "return")
		cardrefpic = -23
		cardrefrace = ""
		cardrefdomain = 0
		cardrefattack = 0
		cardrefhp = 0
		cardrefskill = 3
		cardrefskillcost = 3
		return 1
	}
	return 0
	goto *label_2389




















































