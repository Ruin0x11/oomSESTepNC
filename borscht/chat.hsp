#deffunc clientguide int clientguide_arg0
	locvar_clientguide_j = 0
	repeat 5
		locvar_clientguide_p = gdata(GDATA_QUEST_POOL + cnt)
		if ( qStatus(locvar_clientguide_p) == QUEST_STATE_ONGOING ) {
			if ( gLevel  == 1 ) {
				locvar_clientguide_i = -1
				if ( qExist(locvar_clientguide_p) == QUEST_TYPE_COLLECT ) {
					if ( qMap(locvar_clientguide_p) == gArea  ) {
						locvar_clientguide_i = qdata((10 /*!!!@[QDATA_DEST_CLIENT @@@ QDATA_ENCOUNTER]@!!! */), locvar_clientguide_p)
					}
				}
				if ( qExist(locvar_clientguide_p) == QUEST_TYPE_DELIVER ) {
					if ( qMap(qdata((10 /*!!!@[QDATA_DEST_CLIENT @@@ QDATA_ENCOUNTER]@!!! */), locvar_clientguide_p)) == gArea  ) {
						locvar_clientguide_i = qClient(qdata((10 /*!!!@[QDATA_DEST_CLIENT @@@ QDATA_ENCOUNTER]@!!! */), locvar_clientguide_p))
					}
				}
				if ( locvar_clientguide_i != (-1) ) {
					locvar_clientguide_f = 0
					repeat cnt
						if ( gdata(GDATA_QUEST_POOL + cnt) == locvar_clientguide_p ) {
							locvar_clientguide_f = 1
							break
						}
					loop
					if ( locvar_clientguide_f == 0 ) {
						rtval(locvar_clientguide_j) = locvar_clientguide_i
						locvar_clientguide_j++
					}
				}
			}
		}
	loop
	return locvar_clientguide_j

#deffunc clientguide2 int clientguide2_prm0
	locvar_clientguide_j = 5
	repeat 5
		locvar_clientguide_p = gdata(GDATA_QUEST_POOL + cnt)
		if ( qStatus(locvar_clientguide_p) == QUEST_STATE_ONGOING ) {
			if ( gLevel  == 1 ) {
				locvar_clientguide_i = -1
				if ( qMap(locvar_clientguide_p) == gArea  ) {
					locvar_clientguide_i = locvar_clientguide_p
				}
				if ( locvar_clientguide_i != (-1) ) {
					rtval(locvar_clientguide_j) = locvar_clientguide_i
					locvar_clientguide_j++
				}
			}
		}
	loop
	return locvar_clientguide_j

*chat_refresh
	gsel BUFFER_BUF
	pos 0, 0
	exist exedir + "user\\graphic\\user_face1.bmp"
	if ( strsize != (-1) & cfg_userface1 ) {
		picload_ exedir + "user\\graphic\\user_face1.bmp", 1 * (windoww >= 1280)
		ex_userface = 1
	}
	else {
		picload_ exedir + "graphic\\face1.bmp", 1
		ex_userface = 0
	}
	gsel BUFFER_PIC
	picload_ exedir + "graphic\\ie_chat.bmp"
	gsel BUFFER_SCREEN
	return

*chat
	keyhalt = 1
	if ( cRole(tc) == ROLE_SHOP_INN ) {
		if ( cfg_extrahelp ) {
			if ( gdata(STARTING_GDATA_HELP + 7) == 0 ) {
				if ( mode == MODELIST_MAIN ) {
					if ( cActionPeriod(CHARA_PLAYER) == 0 ) {
						gdata(STARTING_GDATA_HELP + 7) = 1
						ghelp = 7
						gosub *elona_help
						screenupdate = -1
						gosub *screen_draw
					}
				}
			}
		}
	}
	if ( cRole(tc) == ROLE_TRAINER ) {
		if ( cfg_extrahelp ) {
			if ( gdata(STARTING_GDATA_HELP + 8) == 0 ) {
				if ( mode == MODELIST_MAIN ) {
					if ( cActionPeriod(CHARA_PLAYER) == 0 ) {
						gdata(STARTING_GDATA_HELP + 8) = 1
						ghelp = 8
						gosub *elona_help
						screenupdate = -1
						gosub *screen_draw
					}
				}
			}
		}
	}
	gosub *label_2450
	if ( scenemode == FALSE ) {
		snd SOUNDLIST_CHAT
	}
	cs = 0
	chatflag = 0
	chatesc = 1
	if ( cRelation(tc) <= RELATION_DISLIKE ) {
		if ( evnum == 0 ) {
			txt -1, lang(name(tc) + "は耳を貸さない。", name(tc) + " won't listen.")
			questteleport = 0
			gosub *screen_draw
			return
		}
	}
	if ( getgametime() >= cInterestRenew(tc) ) {
		cInterest(tc) = 100
	}
	if ( cRole(tc) >= (1000 /*!!!@[ROLE_SHOP_MIN @@@ ROLE_SHOP_WEAPON]@!!! */) & cRole(tc) < (2000 /*!!!@[ROLE_GUEST_BEGGAR @@@ ROLE_GUEST_MIN]@!!! */) | cRole(tc) == ROLE_GUEST_MERCHANT | cRole(tc) == ROLE_SHOP_MATERIAL | cRole(tc) == ROLE_SHOP_SPELLBOOK | cRole(tc) == ROLE_SHOP_APHRODISIAC | cRole(tc) == ROLE_SHOP_DOUJINSHI | cRole(tc) == ROLE_SHOP_UNKNOWN3104 | cRole(tc) == ROLE_SHOP_HERB_MERCHANT | cRole(tc) == ROLE_SHOP_PROSTITUTE_GUILD | cRole(tc) == ROLE_SHOP_BLACKSMITH_GUILD | cRole(tc) == ROLE_SHOP_MYSTERIOUS_PRODUCER | cRole(tc) == ROLE_SHOP_FAIRY | cRole(tc) == ROLE_SHOP_MORPHY ) {
		invfile = cRoleFileId(tc)
		gosub *label_3851
	}
	gosub *chat_refresh
	if ( scenemode == TRUE ) {
		goto *chat_scene
	}
	chatval(1) = 0, 1
	if ( cQuality(tc) == FIX_QUALITY_UNIQUE & eqfaction(tc, "petshop") == 0 ) {
		chatval(1) = cId(tc), 0
	}
	if ( evid() == 2 ) {
		goto *chat_evOpening
	}
	if ( evid() == 16 ) {
		goto *chat_evReached
	}
	if ( nightfall ) {
		nc_intb_004 = 0
		listmax = 0
		ctalk tc, 1140, 0, tc
		if ( stat == 0 ) {
			buff = lang("(あなたと" + name(tc) + "はベッドに横になった。さて、何をしよう？)", "(You and " + name(tc) + " lay down on the bed. Now, what shall we do?)")
		}
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = lang("耳そばで囁き", "Whispering.")
		listmax++
		list(0, listmax) = 1
		listn(0, listmax) = lang("気持ちいいこと", "Little tail t'night.")
		listmax++
		list(0, listmax) = 2
		listn(0, listmax) = lang("優しく愛撫", "Gentle caressing.")
		listmax++
		list(0, listmax) = 3
		listn(0, listmax) = lang("ゆっくり抱く", "Slowly hold.")
		listmax++
		chatesc = -1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		if ( chatval == 0 ) {
			nc_intb_001 = 1141
			nc_intb_002 = 1142
		}
		if ( chatval == 1 ) {
			nc_intb_001 = 1143
			nc_intb_002 = 1144
		}
		if ( chatval == 2 ) {
			nc_intb_001 = 1145
			nc_intb_002 = 1146
		}
		if ( chatval == 3 ) {
			nc_intb_001 = 1147
			nc_intb_002 = 1148
		}
		nc_intb_003 = limitmax(50 + sCHR(CHARA_PLAYER) / 3, 100)
		listmax = 0
		if ( nc_intb_003 > rnd(100) ) {
			ctalk tc, nc_intb_001, 0, tc
			if ( stat == 0 ) {
				buff = lang("(あなたと" + name(tc) + "は熱い一夜をすごした。" + name(tc) + "はあなたのおかげで色々な知識を得た。)", "(You and " + name(tc) + " spent a hot night together." + name(tc) + " gained a lot of knowledge thanks to you.)")
			}
			nc_intb_004 = gSleepExp
			i = 0
			repeat 8, 10
				i += sorg(cnt, tc)
			loop
			i = limit(i / 6, 10, 1000)
			exp = i * i * i / 10
			if ( nc_intb_004 >= 1000000 ) {
				nc_intb_004 = nc_intb_004 / 100 * iParam1(ci)
			}
			else {
				nc_intb_004 = nc_intb_004 * iParam1(ci) / 100
			}
			grown = 0
			repeat
				if ( nc_intb_004 >= exp ) {
					nc_intb_004 -= exp
				}
				else {
					if ( cnt != 0 ) {
						break
					}
				}
				modgrowth2 0, 10 + rnd(8), 1
				grown++
				if ( cnt > 6 ) {
					if ( rnd(5) == 0 ) {
						break
					}
				}
			loop
			txtef COLOR_GREEN
			txt -1, lang(name(tc) + "の潜在能力が伸びた。", name(tc) + "potential increases.")
			modimp tc, 5
			list(0, listmax) = 0
			listn(0, listmax) = lang("悪くはない", "Not bad.")
			listmax++
		}
		else {
			ctalk tc, nc_intb_002, 0, tc
			if ( stat == 0 ) {
				buff = lang("(" + name(tc) + "は途中でベットから逃げ出してしまった…)", "(" + name(tc) + " ran away from the bed in the middle of the day...)")
			}
			modimp tc, -1
			list(0, listmax) = 0
			listn(0, listmax) = lang("失敗だ", "Failed.")
			listmax++
		}
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *label_3835
	}
	if ( cSleep(tc) != 0 ) {
		listmax = 0
		buff = "(" + name(tc) + lang("はぐっすり眠っている…", " is sleeping.") + ")"
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *label_3835
	}
	if ( cdata(268, tc) != 0 ) {
		listmax = 0
		buff = "(" + name(tc) + lang("は石になっている…", " is stoned...") + ")"
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *label_3835
	}
	if ( cRowAct(tc) ) {
		listmax = 0
		buff = "(" + name(tc) + lang("はお取り込み中だ…", " is in the middle of something.") + ")"
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *label_3835
	}
	if ( tc == CHARA_PLAYER ) {
		goto *label_3835
	}
	if ( cbit(CHARA_BIT_EVENT_TALK, tc) ) {
		cbitmod CHARA_BIT_EVENT_TALK, tc, FALSE
		goto *chat_event
	}
	if ( chatval(1) != 0 ) {
		flag = 0
		if ( cId(tc) == CREATURE_ID_USER ) {
			if ( instr(usertxt(cUNID(tc)), 0, "%txt_ucnpc_ev_b") != (-1) ) {
				flag = 1
			}
		}
		if ( gArea  != AREA_SHOW_HOUSE | flag ) {
			if ( tc >= MAX_CHARA_FOLLOWER & cRole(tc) != ROLE_PET_SENTRY & cRole(tc) != ROLE_PET_MAID ) {
				if ( cRole(tc) != ROLE_ADVENTURER | ocFormerPet(tc) == 20000 ) {
					goto *chat_unique
				}
			}
		}
	}
	if ( questteleport == 1 ) {
		questteleport = 0
		goto *chat_quest
	}
	buff = ""
	goto *label_3785

*chat_scene
	listmax = 0
	buff = buff
	tc = tc * (0 == 0) + (0 != 0) * 0
	list(0, listmax) = 0
	listn(0, listmax) = strmore
	listmax++
	chatesc = 1
	gosub *label_3836
	if ( scenemode ) {
		if ( scene_cut == 1 ) {
			goto *label_3835
		}
	}
	goto *label_3835

*chat_event
	listmax = 0
	cc = CHARA_PLAYER
	_switch_val = cRole(tc)
	if ( _switch_val == 13 | _switch_sw ) {
		_switch_sw = 0
		if ( gMonth  == 1 & rnd(4) ) {
			listmax = 0
			ctalk tc, 1352, 0, tc
			if ( stat == 0 ) {
				buff = lang("明けましておめでとう" + _da(2), "Happy new year!")
			}
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			ctalk tc, 1353, 0, tc
			if ( stat == 0 ) {
				buff = lang("日ごろの感謝の意をこめてこれをあげる" + _yo(), "I've brought you a gift today, here.")
			}
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			flt
			itemcreate -1, ITEM_ID_NEW_YEARS_GIFT, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			if ( stat != 0 ) {
				iParam3(ci) = cImpression(tc) + rnd(50)
			}
			txt -1, lang(name(tc) + "は" + itemname(ci, 1) + "を置いていった。", name(tc) + " throws you " + itemname(ci, 1) + ".")
			goto *chat_event_SWEND1
		}
		if ( cImpression(tc) < 25 ) {
			listmax = 0
			ctalk tc, 1354, 0, tc
			if ( stat == 0 ) {
				buff = lang("貴様！見つけた" + _yo(2), "You scum! You won't get away from me now!")
			}
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			ctalk tc, 1355, 0, tc
			if ( stat == 0 ) {
				txt tc, lang("「これでも食らうがいい" + _yo(2) + "」", cnvtalk("Eat this!"))
			}
			if ( rnd(2) == 0 ) {
				repeat 28
					tlocx = cX(tc) + rnd(3) - rnd(3)
					tlocy = cY(tc) - rnd(3) + rnd(3)
					if ( tlocx < 0 | tlocy < 0 | tlocx >= mWidth | tlocy >= mHeight ) {
						continue
					}
					if ( tlocx == cX(tc) ) {
						if ( tlocy == cY(tc) ) {
							continue
						}
					}
					txt -1, lang(name(tc) + "は火炎瓶を投げた。", name(tc) + " throws molotov.")
					snd SOUNDLIST_THROW2
					ccbk = cc
					cc = tc
					animeid = ANIMATION_THROW
					if ( cfg_useffhp ) {
						aniref = 223, 0, -1
					}
					else {
						aniref = 223, 0
					}
					anix = tlocx
					aniy = tlocy
					gosub *anime
					cc = ccbk
					addmef tlocx, tlocy, MEF_TYPE_FIRE, xy2pic(24, 0), rnd(15) + 20, 50, tc
					mapitem_fire tlocx, tlocy
				loop
			}
			else {
				repeat 8 + rnd(6)
					flt
					itemcreate -1, ITEM_ID_VOMIT, -1, -1, 0
					txt -1, lang(name(tc) + "は吐いた。", name(tc) + " vomits.")
					snd SOUNDLIST_VOMIT
					await 10
					gosub *screen_draw
				loop
			}
			goto *chat_event_SWEND1
		}
		if ( ocFormerPet(tc) != 20000 ) {
			if ( cImpression(tc) >= 100 ) {
				if ( cbit(CHARA_BIT_TOKEN_FRIEND, tc) == FALSE ) {
					if ( inv_getfreeid(-1) != (-1) ) {
						listmax = 0
						ctalk tc, 1356, tc, cc
						if ( stat == 0 ) {
							buff = lang("これ、あげ" + _ru(2), "Here, take this!")
						}
						tc = tc * (0 == 0) + (0 != 0) * 0
						list(0, listmax) = 0
						listn(0, listmax) = strmore
						listmax++
						chatesc = 1
						gosub *label_3836
						if ( scenemode ) {
							if ( scene_cut == 1 ) {
								goto *label_3835
							}
						}
						cbitmod CHARA_BIT_TOKEN_FRIEND, tc, TRUE
						flt
						itemcreate -1, ITEM_ID_TOKEN_FRIENDSHIP, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
						txt -1, lang(name(tc) + "に" + itemname(ci, 1) + "をもらった！", "You receive " + itemname(ci, 1) + ".")
						if ( jp ) {
							txt -1, "友達100人できるかな♪"
						}
						listmax = 0
					}
				}
			}
		}
		if ( rnd(4) == 0 ) {
			if ( cImpression(tc) >= 150 ) {
				advfavoriteskill tc
				csskill = rtval(rnd(stat))
				if ( cImpression(tc) >= 300 ) {
					if ( rnd(3) == 0 ) {
						advfavoritestat tc
						csskill = stat
					}
				}
				list(0, listmax) = 0
				listn(0, listmax) = lang("遠慮しとく", "I think I'll pass.")
				listmax++
				if ( sorg(csskill, CHARA_PLAYER) == 0 ) {
					costvalue = calclearncost(csskill, cc, 1)
					ctalk tc, 1357, 0, tc
					if ( stat == 0 ) {
						buff = lang(skillname(csskill) + "のスキルを、友達価格の" + thousandsep(str(calclearncost(csskill, cc, 1))) + strplat + "で教えてあげてもいい" + _ga(3) + "どう" + _kana(1), "I can teach you the art of " + skillname(csskill) + " for a friendly price of " + calclearncost(csskill, cc, 1) + " platinum pieces. Do you want me to train you?")
					}
					if ( cPlat(CHARA_PLAYER) >= calclearncost(csskill, cc, 1) ) {
						list(0, listmax) = 1
						listn(0, listmax) = lang("習得する", "Teach me the skill.")
						listmax++
					}
				}
				else {
					costvalue = calclearncost(csskill, cc, 1)
					ctalk tc, 1358, 0, tc
					if ( stat == 0 ) {
						buff = lang(skillname(csskill) + "のスキルを、友達価格の" + thousandsep(str(calctraincost(csskill, cc, 1))) + strplat + "で訓練してもいい" + _ga(3) + "どう" + _kana(1), "I can train your " + skillname(csskill) + " skill for a friendly price of " + calctraincost(csskill, cc, 1) + " platinum pieces. Do you want me to train you?")
					}
					if ( cPlat(CHARA_PLAYER) >= calctraincost(csskill, cc, 1) ) {
						list(0, listmax) = 2
						listn(0, listmax) = lang("訓練する", "Train me.")
						listmax++
					}
				}
				chatesc = 1
				gosub *label_3836
				if ( chatval == 0 | chatval == (-1) ) {
					listmax = 0
					ctalk tc, 1359, 0, tc
					if ( stat == 0 ) {
						buff = lang("わかった" + _yo() + "またしばらくしてから尋ねてみ" + _ru(), "I see. I'll ask you again at some time in the future.")
					}
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_event_SWEND1
				}
				snd SOUNDLIST_PAYGOLD1
				if ( chatval == 1 ) {
					cPlat(CHARA_PLAYER) -= calclearncost(csskill, 0, 1)
					skillgain cc, csskill
					gLearned++
					listmax = 0
					ctalk tc, 1360, 0, tc
					if ( stat == 0 ) {
						buff = lang("新しい技術をどうやら習得できたようだ" + _na() + "役に立てて嬉しい" + _yo(), "Fantastic! You've learned the skill in no time. I'm glad I could help.")
					}
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
				}
				if ( chatval == 2 ) {
					cPlat(CHARA_PLAYER) -= calctraincost(csskill, 0, 1)
					p(40) = 15 * (100 + calctraitgrowthrate(cc, csskill)) / 100
					modgrowth cc, csskill, limit(p(40) - sgrowth(csskill, cc) / 15, 2, p(40) - (csskill < 18) * 10)
					listmax = 0
					ctalk tc, 1361, 0, tc
					if ( stat == 0 ) {
						buff = lang("よし、これで訓練は終わり" + _da() + "かなり潜在能力が伸びた" + _yo(2), "Marverous! The training is now complete. I think you've improved some potential.")
					}
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
				}
				goto *chat_event_SWEND1
			}
		}
		if ( rnd(5) == 0 ) {
			if ( cImpression(tc) >= 150 ) {
				listmax = 0
				ctalk tc, 1362, 0, tc
				if ( stat == 0 ) {
					buff = lang("友達の証としてこれをあげ" + _ru(2) + "大事に使って" + _yo(), "As a pledge of friendship, here's something for you!")
				}
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				if ( inv_getfreeid(-1) == (-1) ) {
					txt -1, lang("部屋が一杯で置けなかった…", "Your home has no empty spot...")
				}
				else {
					if ( rnd(4) ) {
						p = 55
					}
					else {
						p = 622
					}
					flt
					itemcreate -1, p, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
					txt -1, lang(name(tc) + "に" + itemname(ci, 1) + "をもらった！", "You receive " + itemname(ci, 1) + " from " + name(tc) + "!")
					snd SOUNDLIST_GET1
				}
				goto *chat_event_SWEND1
			}
		}
		if ( rnd(4) == 0 ) {
			if ( cImpression(tc) >= 100 ) {
				listmax = 0
				ctalk tc, 1363, 0, tc
				if ( stat == 0 ) {
					buff = lang("近くまで来たので寄ってみた" + _nda() + "ついでだから、土産にこれをあげ" + _ru(), "I just stopped by to see you. Oh, I happen to have a gift for you too.")
				}
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				if ( inv_getfreeid(CHARA_PLAYER) == (-1) ) {
					txt -1, lang("所持品が一杯で受け取れなかった…", "Your inventory is full...")
				}
				else {
					flt
					itemcreate CHARA_PLAYER, ITEM_ID_GIFT, -1, -1, 0
					txt -1, lang(itemname(ci, 1) + "を受け取った。", "You receive " + itemname(ci, 1) + ".")
					snd SOUNDLIST_GET1
				}
				goto *chat_event_SWEND1
			}
		}
		if ( rnd(5) == 0 ) {
			if ( cImpression(tc) >= 100 ) {
				listmax = 0
				ctalk tc, 1364, 0, tc
				if ( stat == 0 ) {
					buff = lang("旅の途中にこんなものを拾った" + _nda() + _kimi(3) + "の役に立つと思って持ってきた" + _yo(), "I found these during my journey. Thought you could find them useful.")
				}
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				txt -1, lang(name(tc) + "は色々なものが詰まった袋を、あなたに手渡した。", name(tc) + " gives you a bag full of materials.")
				efid = SKILL_EFFECT_CREATE_MATERIAL
				efp = 100
				tc = CHARA_PLAYER
				gosub *label_3383
				goto *chat_event_SWEND1
			}
		}
		if ( rnd(8) == 0 ) {
			advfavoriteskill tc
			csskill = rtval(rnd(stat))
			listmax = 0
			ctalk tc, 1365, 0, tc
			if ( stat == 0 ) {
				buff = lang(skillname(csskill) + "は" + _ore(3) + "の得意なスキルの内の一つ" + _da(), "" + skillname(csskill) + " is one of my favorite skills.")
			}
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_event_SWEND1
		}
		if ( rnd(10) == 0 ) {
			advfavoritestat tc
			csskill = stat
			listmax = 0
			ctalk tc, 1366, 0, tc
			if ( stat == 0 ) {
				buff = lang(_ore(3) + "は" + skillname(csskill) + "が自慢なの" + _da(), "I'm proud of my good " + skillname(csskill) + ".")
			}
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_event_SWEND1
		}
		if ( rnd(3) == 0 ) {
			if ( cImpression(tc) >= 75 ) {
				listmax = 0
				ctalk tc, 1367, 0, tc
				if ( stat == 0 ) {
					buff = lang("やあ。特に用はない" + _ga(3) + "、なんだか暇を持てましていたら、" + _kimi(3) + "と話がしたくなって" + _na(3) + "、寄ってみた" + _nda(), "Hey " + cnName(CHARA_PLAYER) + ", how's your journey? I was bored to death so I decided to make a visit to you!")
				}
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				txt -1, lang("あなたと" + name(tc) + "は愉快に語り合った！", "You hold an amusing conversation with " + name(tc) + "!")
				modimp tc, 10
				goto *chat_event_SWEND1
			}
		}
		if ( rnd(3) == 0 ) {
			listmax = 0
			ctalk tc, 1368, 0, tc
			if ( stat == 0 ) {
				buff = lang("酒でも飲んで親睦を深めよう" + _yo(2), "Let's have a drink and deepen our friendship!")
			}
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			snd SOUNDLIST_DRINK1
			txt -1, lang("あなたと" + name(tc) + "は乾杯した！", cnvtalk("Cheers!"))
			txtef COLOR_SKY_BLUE
			txt tc, lang("「うぃっ！」", "*Hic*"), lang("「うまいぜ」", cnvtalk("Ah, good booze.")), lang("「らららー♪」", cnvtalk("La-la-la-la.")), lang("「ひっく」", cnvtalk("I'm going to heaven.")), lang("「ふぅ」", cnvtalk("Whew!")), lang("「たまらないわ」", cnvtalk("I'm revived!")), lang("「んまっ♪」", cnvtalk("Awesome."))
			dmgcon tc, CONDITION_DRUNK, 100
			dmgcon cc, CONDITION_DRUNK, 100
			modimp tc, 50
			goto *chat_event_SWEND1
		}
		listmax = 0
		ctalk tc, 1370, 0, tc
		if ( stat == 0 ) {
			buff = lang("まあ、とくに用もないんだけど" + _na(), "I just wanted to say hi.")
		}
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *chat_event_SWEND1
		_switch_sw++
	}
	if ( _switch_val == 2005 | _switch_sw ) {
		_switch_sw = 0
		if ( gGuildTrainer == gMonth  ) {
			listmax = 0
			buff = lang("今月はもう訓練は終わり" + _da(), "No more training in this month.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_event_SWEND1
		}
		plat = 3
		gGuildTrainer = gMonth 
		buff = lang(guildname() + "の一員足るもの、ギルドの名に恥じないよう、常に己の技量を磨き続けなければならない" + _yo() + "ギルドの一員である" + _kimi(3) + "には、たったのプラチナ" + plat + "枚で潜在能力を伸ばす訓練を施してあげる" + _yo(), "As a member of " + guildname() + " you have to forge your talent to live up to our reputation. For only " + plat + " platinum coins, I'll improve the potential of your talent.")
		if ( guildcheck(0) == "mage" ) {
			p = 16, 15, 14, -1
		}
		else {
			if ( guildcheck(0) == "fighter" ) {
				p = 10, 11, 12, -1
			}
			else {
				if ( guildcheck(0) == "thieve" ) {
					p = 12, 13, 11, 14, -1
				}
				else {
					if ( guildcheck(0) == "thieve" ) {
						p = 12, 13, 11, 14, -1
					}
					else {
						if ( guildcheck(0) == "blacksmith" ) {
							p = 11, 15, 2, -1
						}
						else {
							if ( guildcheck(0) == "prostitute" ) {
								p = 15, 17, 18, -1
							}
							else {
								plat = 4
								p(3) = -1
								i = rnd(6)
								repeat 3
									p(cnt) = 10 + cnt + i
								loop
								buff = lang("鍛えている" + _kana(2) + "冒険者として生き残るには、日ごろの鍛錬が大切" + _da(2) + "わずかプラチナ" + plat + "枚で、潜在能力を伸ばす特別な訓練を施してあげる" + _yo(2), "Training! Training! At the end, only thing that saves your life is training! For only " + plat + " platinum coins, I'll improve the potential of your talent.")
							}
						}
					}
				}
			}
		}
		list(0, listmax) = 0
		listn(0, listmax) = lang("訓練しない", "Not today.")
		listmax++
		if ( cPlat(CHARA_PLAYER) >= plat ) {
			repeat 8
				if ( p(cnt) == (-1) ) {
					break
				}
				list(0, listmax) = p(cnt)
				listn(0, listmax) = lang(skillname(p(cnt)) + "を鍛える", "I want to improve " + skillname(p(cnt)) + ".")
				listmax++
			loop
		}
		gosub *label_3836
		if ( chatval == 0 | chatval == (-1) ) {
			listmax = 0
			buff = lang("後悔する" + _yo(2), "You'll regret this!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_event_SWEND1
		}
		cPlat(CHARA_PLAYER) -= plat
		snd SOUNDLIST_DING3
		txtef COLOR_GREEN
		txt -1, lang(name(0) + "の" + skillname(chatval) + "の潜在能力が大きく上昇した。", name(0) + your(CHARA_PLAYER) + " potential of " + skillname(chatval) + " greatly expands.")
		modgrowth2 0, chatval, 10
		listmax = 0
		buff = lang("うむ、なかなか見所がある" + _yo(), "Good. You show a lot of potential.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *chat_event_SWEND1
		_switch_sw++
	}
	if ( _switch_val == 2002 | _switch_sw ) {
		_switch_sw = 0
		listmax = 0
		buff = lang("まあ、とくに用もないんだけど" + _na(), "I just wanted to say hi.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *chat_event_SWEND1
		_switch_sw++
	}
	if ( _switch_val == 2010 | _switch_sw ) {
		_switch_sw = 0
		snd SOUNDLIST_PRAY2
		cPray(CHARA_PLAYER) += 1000
		if ( cPray(CHARA_PLAYER) > 2000 ) {
			cPray(CHARA_PLAYER) = 2000
		}
		modpiety 500, 0
		skillexp2 SKILL_NORMAL_FAITH, CHARA_PLAYER, 2000, 6, 1000
		txtef COLOR_GREEN
		txt -1, lang(name(0) + "の信仰は深まった。", name(0) + your(CHARA_PLAYER) + " Faith skill greatly increased.")
		listmax = 0
		if ( cId(tc) == CREATURE_ID_LULWY ) {
			buff = lang("ルルウィ", "Lulwy")
		}
		if ( cId(tc) == CREATURE_ID_KUMIROMI ) {
			buff = lang("クミロミ", "Kumiromi")
		}
		if ( cId(tc) == CREATURE_ID_JURE ) {
			buff = lang("ジュア", "Jure")
		}
		if ( cId(tc) == CREATURE_ID_OPATOS ) {
			buff = lang("オパートス", "Opatos")
		}
		if ( cId(tc) == CREATURE_ID_EHEKATL ) {
			buff = lang("エヘカトル", "Ehekatl")
		}
		if ( cId(tc) == CREATURE_ID_MANI ) {
			buff = lang("マニ", "Mani")
		}
		if ( cId(tc) == CREATURE_ID_ITZPALT ) {
			buff = lang("イツパロトル", "Itzpalt")
		}
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *chat_event_SWEND1
		_switch_sw++
	}
	if ( _switch_val == 2000 | _switch_sw ) {
		_switch_sw = 0
		if ( cGold(CHARA_PLAYER) > 0 | ncgGoldOverflow > 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("あげる", "Yes.")
			listmax++
		}
		list(0, listmax) = 0
		listn(0, listmax) = lang("あげない", "No.")
		listmax++
		if ( cSex(tc) == 0 ) {
			buff = lang("パンを買う金さえない" + _nda() + "恵んで" + _kure(3) + "、おねがい" + _da(2), "I got no money to buy food. Will you spare me some coins?")
		}
		else {
			buff = lang(_onii(cSex(CHARA_PLAYER)) + "さん、パンを買うお金をくれたら何をしてもいいよ。", "I got no money to buy food. Will you spare me some coins?")
		}
		gosub *label_3836
		if ( chatval == 1 ) {
			p = cGold(CHARA_PLAYER) / 20 + 1
			txt -1, lang("あなたは" + p + "goldを乞食に渡した。", "You spare " + him(tc) + " " + p + " gold pieces.")
			cGold(CHARA_PLAYER) -= p
			gosub *label_0422
			snd SOUNDLIST_PAYGOLD1
			se_moneymod tc, p
			modkarma 0, 2
			listmax = 0
			buff = lang(_thanks(2) + "この恩は一生忘れない" + _yo(), "Thanks! I'll never forget this.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			if ( cSex(tc) != 0 ) {
				list(0, listmax) = 1
				listn(0, listmax) = lang("ミンチにする", "Mince " + him(tc) + ".")
				listmax++
				if ( gettrait(0, 178) == 0 ) {
					list(0, listmax) = 2
					listn(0, listmax) = lang("気持ちいいことしない？", "Interested in a little tail t'night?")
					listmax++
				}
				list(0, listmax) = 3
				listn(0, listmax) = lang("わが家に住まわせる", "Invite to live at your home.")
				listmax++
			}
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( chatval == 1 ) {
				listmax = 0
				buff = lang("ひぃ！", "Ahh!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				cGold(tc) = 0
				cOrgRelation(tc) = RELATION_ENEMY
				dmghp tc, 99999, (0 /*!!!@[CHARA_PLAYER @@@ DAMAGE_FROM_CHARA]@!!! */)
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_event_SWEND1
			}
			if ( chatval == 2 ) {
				listmax = 0
				buff = lang("ひ、ひどい……", "*blush*")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = lang("うふふ", "Come on!")
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				gosub *label_3302
				goto *chat_event_SWEND1
			}
			if ( chatval == 3 ) {
				if ( rnd(5) ) {
					listmax = 0
					buff = lang("本当" + _ka(2) + _thanks(2), "Really? Thank you!")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = lang("家族が増えるよ！！", "You'll be getting another family member!!")
					listmax++
					chatesc = 1
					gosub *label_3836
					f = get_freechara()
					if ( f == (-1) ) {
						txt -1, lang("しかし、家にはこれ以上人を置けなかった", "But you can't provide for any more in your home.")
						goto *chat_event_SWEND1
					}
					cRelation(tc) = RELATION_DISLIKE
					cOrgRelation(tc) = RELATION_DISLIKE
					cRole(tc) = ROLE_NONE
					cbitmod CHARA_BIT_SUMMONED, tc, FALSE
					cbitmod CHARA_BIT_EVENT_TALK, tc, FALSE
					relocate_chara tc, f
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_event_SWEND1
				}
				else {
					listmax = 0
					buff = lang("やったあ！ありがとう、" + _onii(cSex(CHARA_PLAYER)) + "ちゃん！", "We did it! Thank you " + _onii(cSex(CHARA_PLAYER)) + "chan!")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = lang("うわぁぁぁ！！", "Ahhhhh!!")
					listmax++
					cPic(tc) = xy2pic(6, 3)
					cId(tc) = CREATURE_ID_YOUNGER_SISTER
					sreplace cnName(tc), cnName(tc), "乞食", "妹"
					txtef COLOR_PURPLE
					txt -1, lang(cnName(tc) + "のインコグニートの効果が切れた。", "The effect of " + name(tc) + your(tc) + " Incognito ends.")
					chatesc = 1
					gosub *label_3836
					f = get_freechara()
					if ( f == (-1) ) {
						txt -1, lang("しかし、家にはこれ以上人を置けなかった", "But you can't provide for any more in your home.")
						goto *chat_event_SWEND1
					}
					flt
					characreate f, CREATURE_ID_YOUNGER_SISTER, cX(tc), cY(tc)
					if ( stat != 0 ) {
						cnName(rc) = cnName(tc)
						cGold(rc) = cGold(tc)
						cbitmod CHARA_BIT_DROP_GOLD, rc, TRUE
					}
					chara_vanquish tc
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_event_SWEND1
				}
			}
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_event_SWEND1
		}
		listmax = 0
		buff = lang("ケチ！", "You're so cheap!")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *chat_event_SWEND1
		_switch_sw++
	}
	if ( _switch_val == 2001 | _switch_sw ) {
		_switch_sw = 0
		list(0, listmax) = 1
		listn(0, listmax) = lang("いい", "Yes.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = lang("だめ", "No.")
		listmax++
		buff = lang("やっと見つけた" + _yo(3) + "、" + _onii(cSex(CHARA_PLAYER)) + "ちゃん！ここに住んでいい？", "I finally found you " + _onii(cSex(CHARA_PLAYER)) + "chan! Is it okay if I live there?")
		gosub *label_3836
		if ( chatval == 1 ) {
			listmax = 0
			buff = lang("ありがとう！", "Thank you!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = lang("家族が増えるよ！！", "You'll be getting another family member!!")
			listmax++
			chatesc = 1
			gosub *label_3836
			f = get_freechara()
			if ( f == (-1) ) {
				txt -1, lang("しかし、家にはこれ以上人を置けなかった", "But you can't provide any more in your home.")
				goto *chat_event_SWEND1
			}
			cRelation(tc) = RELATION_DISLIKE
			cOrgRelation(tc) = RELATION_DISLIKE
			cRole(tc) = ROLE_NONE
			cbitmod CHARA_BIT_SUMMONED, tc, FALSE
			cbitmod CHARA_BIT_EVENT_TALK, tc, FALSE
			relocate_chara tc, f
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_event_SWEND1
		}
		listmax = 0
		buff = "(" + lang(cnName(tc) + "はしゅんとなった…", he(tc, 1) + " " + was(tc) + " dispirited...") + ")"
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *chat_event_SWEND1
		_switch_sw++
	}
	if ( _switch_val == 2006 | _switch_sw ) {
		_switch_sw = 0
		item_find ITEM_ID_MUSIC_TICKET, ITEM_FIND_MODE_DBID, ITEM_FIND_LOCATION_CHARAS
		if ( stat != (-1) ) {
			ci = stat
			if ( iNum(ci) >= 5000 ) {
				list(0, listmax) = 1
				listn(0, listmax) = lang("いい", "Yes.")
				listmax++
			}
			if ( iNum(ci) >= 3000 ) {
				list(0, listmax) = 2
				listn(0, listmax) = lang("もう一声〜", "Let's negotiate.")
				listmax++
			}
		}
		list(0, listmax) = 0
		listn(0, listmax) = lang("だめ", "No.")
		listmax++
		buff = lang("音楽チケット5000枚で" + _kimi(3) + "が次回参加するパーティーを少しだけ豪華にしてあげる" + _ga(3) + "、どう" + _kana(1), "For 5000 music tickets I'll make the party on your next visit slightly more extravagant. How does it sound?")
		gosub *label_3836
		if ( chatval == 1 ) {
			ogExtravagantParty = 1
			iNum(ci) -= 5000
			listmax = 0
			buff = lang("確かに受け取った" + _yo() + "ところで、スターになりたい" + _kana(1), "It's a deal. By the way, do you want to becom a star?")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 1
			listn(0, listmax) = lang("いい", "Yes.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("だめ", "No.")
			listmax++
			gosub *label_3836
			if ( chatval == 1 ) {
				listmax = 0
				buff = lang("よい心がけだ" + _na(2), "Okay, no turning back now!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = lang("うふふ", "Come on!")
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				gosub *label_3302
				goto *chat_event_SWEND1
			}
			listmax = 0
			buff = lang("ふん！", "Hump!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_event_SWEND1
		}
		if ( chatval == 2 ) {
			listmax = 0
			buff = lang("じゃあ、3000枚で何とかしてあげ" + _ru() + "その代わりに……分かってる" + _na(1), "Alright, alright. How about considering it for 3000? In exchange... got it?")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 1
			listn(0, listmax) = lang("いい", "Yes.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("だめ", "No.")
			listmax++
			gosub *label_3836
			if ( chatval == 1 ) {
				ogExtravagantParty = 1
				iNum(ci) -= 3000
				listmax = 0
				buff = lang("よい心がけだ" + _na(2) + "確かに受け取った" + _yo(), "Okay, no turning back now!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = lang("うふふ", "Come on!")
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				gosub *label_3302
				goto *chat_event_SWEND1
			}
			listmax = 0
			buff = lang("ふん！", "Hump!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_event_SWEND1
		}
		listmax = 0
		buff = lang("ふん！", "Hump!")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *chat_event_SWEND1
		_switch_sw++
	}
	if ( _switch_val == 2003 | _switch_sw ) {
		_switch_sw = 0
		list(0, listmax) = 0
		listn(0, listmax) = lang("買いたい", "I want to buy something.")
		listmax++
		list(0, listmax) = 1
		listn(0, listmax) = lang("売りたい", "I want to sell something.")
		listmax++
		list(0, listmax) = 2
		listn(0, listmax) = lang("今はいい", "Not now.")
		listmax++
		buff = lang("今日は" + _kimi(3) + "の幸運な日" + _da() + "普段は一般の客には売らない格安の品を、特別に見せてあげ" + _ru() + "覚えておいて" + _kure(3) + "、今日だけだ" + _yo(), "This is your lucky day. I wouldn't normally show my discounted goods to commoners but since I feel so good today...")
		gosub *label_3836
		if ( chatval == 0 ) {
			invctrl = INVCTRL_SHOP_BUY
			invfile = cRoleFileId(tc)
			gosub *shop
			screenupdate = -1
			gosub *screen_draw
			cs = 0
			buff = ""
			goto *chat_event
		}
		if ( chatval == 1 ) {
			invctrl = INVCTRL_SHOP_SELL
			invfile = cRoleFileId(tc)
			gosub *shop
			cc = CHARA_PLAYER
			screenupdate = -1
			gosub *screen_draw
			cs = 0
			buff = ""
			goto *chat_event
		}
		listmax = 0
		buff = lang("後になって後悔しても知らない" + _yo(), "I hope you won't regret it later.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		cRole(tc) = ROLE_GUEST_CITIZEN
		goto *chat_event_SWEND1
	}
	if ( _switch_val == 3000 | _switch_sw ) {
		_switch_sw = 0
		listmax = 0
		list(0, listmax) = 1
		listn(0, listmax) = lang("お願いします", "Yes.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = lang("断る", "No.")
		listmax++
		plat = limitmax(iLevel(locvar_mapitemfind_citemno) * 1000 + iParam1(locvar_mapitemfind_citemno) * iLevel(locvar_mapitemfind_citemno), 2000000000)
		buff = lang("ハロー！あたしは妖精の鍛冶士、ルージィよ！あなたの持ってるハンマー、良かったらあたしにプラチナ硬貨" + plat + "枚で鍛えさせてくれないかしら？後悔はさせないわよ！", "Hello!　I'm lurgy! You have a hammer, if you'd like to let me forge it for a " + plat + " platinum coins. You won't regret it!")
		gosub *label_3836
		if ( chatval == 1 ) {
			if ( iParam1(locvar_mapitemfind_citemno) == 2000 * (iLevel(locvar_mapitemfind_citemno) + 1) ) {
				buff = lang("……ん？このハンマーはもう転生できるまで鍛えあがってるみたいね。", "It looks like this hammer has already been forged to the point where it can be reincarnated.")
				list(0, listmax) = 0
				listn(0, listmax) = lang("がーん", "Oops")
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
			}
			else {
				if ( cPlat(CHARA_PLAYER) < plat ) {
					buff = lang("……って、プラチナ硬貨が足りないみたいよ。", "They're running low on platinum coins.")
					list(0, listmax) = 0
					listn(0, listmax) = lang("がーん", "Oops")
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
				}
				else {
					if ( customitemfind(0, "blacksmith hammer") >= 0 ) {
						snd SOUNDLIST_PAYGOLD1
						cPlat(CHARA_PLAYER) -= plat
						buff = lang("よーし、それじゃあ行くわよー！＊トンテンカーン＊", "*tink* *tink* *tink*")
						list(0, listmax) = 0
						listn(0, listmax) = lang("わくわく♪", "Well...")
						listmax++
						gosub *label_3836
						iParam1(locvar_mapitemfind_citemno) += limit(15 + 5 * iLevel(locvar_mapitemfind_citemno), 20, 100)
						iParam2(locvar_mapitemfind_citemno) = 0
						iParam3(locvar_mapitemfind_citemno) = 0
						if ( iParam1(locvar_mapitemfind_citemno) >= 2000 * (iLevel(locvar_mapitemfind_citemno) + 1) ) {
							iParam1(locvar_mapitemfind_citemno) = 2000 * (iLevel(locvar_mapitemfind_citemno) + 1)
						}
						if ( iParam1(locvar_mapitemfind_citemno) > ncgHammerMaxLevel ) {
							ncgHammerMaxLevel = iParam1(locvar_mapitemfind_citemno)
						}
						txtef COLOR_GREEN
						snd SOUNDLIST_BUILD1
						snd SOUNDLIST_DING3
						txt -1, lang("あなたのハンマーは鍛えられた。", "Your Hammer Lv increases.")
						txt -1, " (Lv:" + iParam1(locvar_mapitemfind_citemno) + " Exp:" + fixtxt("" + double(iParam2(locvar_mapitemfind_citemno) * 100) / double(calcexpalive(iParam1(locvar_mapitemfind_citemno))), 6) + "%) "
						buff = lang("一丁上がり！またあたしの技術が欲しかったらいつでもどーぞ！それじゃあね！", "That's it! If you ever want my skills again, just let me know! See you later!")
						list(0, listmax) = 0
						listn(0, listmax) = lang("ありがとう", "Thank you.")
						listmax++
						chatesc = 1
						gosub *label_3836
						if ( scenemode ) {
							if ( scene_cut == 1 ) {
								goto *label_3835
							}
						}
					}
					else {
						buff = lang("……って、あなたハンマーを持ってないじゃない。", "You don't have the hammer.")
						list(0, listmax) = 0
						listn(0, listmax) = lang("がーん", "Oops")
						listmax++
						chatesc = 1
						gosub *label_3836
						if ( scenemode ) {
							if ( scene_cut == 1 ) {
								goto *label_3835
							}
						}
					}
				}
			}
		}
		else {
			buff = lang("えぇ……つまんないの！後悔しても知らないからね！", "I don't care if you regret it!")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
		}
		tc = tc * (0 == 0) + (0 != 0) * 0
		goto *chat_event_SWEND1
		_switch_sw++
	}
	if ( _switch_val == 3001 | _switch_sw ) {
		invfile = cRoleFileId(tc)
		gosub *label_3851
		_switch_sw = 0
		list(0, listmax) = 0
		listn(0, listmax) = lang("買いたい", "I want to buy something.")
		listmax++
		list(0, listmax) = 1
		listn(0, listmax) = lang("売りたい", "I want to sell something.")
		listmax++
		list(0, listmax) = 2
		listn(0, listmax) = lang("今はいい", "Not now.")
		listmax++
		buff = lang("おっほっほ、有名なあなたの為に特別な宝石を取り揃えましたわ。普段は一般の客には売らない特別な品を見せてあげますわ。おっほっほ。", "This is your lucky day. I wouldn't normally show my discounted goods to commoners but since I feel so good today...")
		gosub *label_3836
		if ( chatval == 0 ) {
			invctrl = INVCTRL_SHOP_BUY
			invfile = cRoleFileId(tc)
			gosub *shop
			screenupdate = -1
			gosub *screen_draw
			cs = 0
			buff = ""
			goto *chat_event
		}
		if ( chatval == 1 ) {
			invctrl = INVCTRL_SHOP_SELL
			invfile = cRoleFileId(tc)
			gosub *shop
			cc = CHARA_PLAYER
			screenupdate = -1
			gosub *screen_draw
			cs = 0
			buff = ""
			goto *chat_event
		}
		listmax = 0
		buff = lang("後になって後悔しても知らないわ、おっほっほ。", "I hope you won't regret it later.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		cRole(tc) = ROLE_SHOP_ELLY
		goto *chat_event_SWEND1
	}
	if ( _switch_val == 3002 | _switch_sw ) {
		invfile = cRoleFileId(tc)
		gosub *label_3851
		_switch_sw = 0
		list(0, listmax) = 0
		listn(0, listmax) = lang("買いたい", "I want to buy something.")
		listmax++
		list(0, listmax) = 1
		listn(0, listmax) = lang("売りたい", "I want to sell something.")
		listmax++
		list(0, listmax) = 2
		listn(0, listmax) = lang("今はいい", "Not now.")
		listmax++
		buff = lang("へっへっへ……旦那、結構体を鍛えてるみたいじゃないですか。どうです？ここでしか手に入らないあっしの商品、１本買っていきやせんか？", "This is your lucky day. I wouldn't normally show my discounted goods to commoners but since I feel so good today...")
		gosub *label_3836
		if ( chatval == 0 ) {
			invctrl = INVCTRL_SHOP_BUY
			invfile = cRoleFileId(tc)
			gosub *shop
			screenupdate = -1
			gosub *screen_draw
			cs = 0
			buff = ""
			goto *chat_event
		}
		if ( chatval == 1 ) {
			invctrl = INVCTRL_SHOP_SELL
			invfile = cRoleFileId(tc)
			gosub *shop
			cc = CHARA_PLAYER
			screenupdate = -1
			gosub *screen_draw
			cs = 0
			buff = ""
			goto *chat_event
		}
		listmax = 0
		buff = lang("そうでやんすか……まぁ、また来た時には買ってくだせぇ！", "I hope you won't regret it later.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		cRole(tc) = ROLE_SHOP_ELLY
		goto *chat_event_SWEND1
	}
	if ( _switch_val == 3003 | _switch_sw ) {
		invfile = cRoleFileId(tc)
		gosub *label_3851
		_switch_sw = 0
		list(0, listmax) = 0
		listn(0, listmax) = lang("買いたい", "I want to buy something.")
		listmax++
		list(0, listmax) = 1
		listn(0, listmax) = lang("売りたい", "I want to sell something.")
		listmax++
		list(0, listmax) = 2
		listn(0, listmax) = lang("今はいい", "Not now.")
		listmax++
		buff = lang("(商品をいきなりドカッと見せて、コロコロと足元に転がって来た。どうやら「買え」と言っているようだ……)", "This is your lucky day. I wouldn't normally show my discounted goods to commoners but since I feel so good today...")
		gosub *label_3836
		if ( chatval == 0 ) {
			invctrl = INVCTRL_SHOP_BUY
			invfile = cRoleFileId(tc)
			gosub *shop
			screenupdate = -1
			gosub *screen_draw
			cs = 0
			buff = ""
			goto *chat_event
		}
		if ( chatval == 1 ) {
			invctrl = INVCTRL_SHOP_SELL
			invfile = cRoleFileId(tc)
			gosub *shop
			cc = CHARA_PLAYER
			screenupdate = -1
			gosub *screen_draw
			cs = 0
			buff = ""
			goto *chat_event
		}
		listmax = 0
		buff = lang("(しゅん、としょぼくれた……)", "I hope you won't regret it later.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		cRole(tc) = ROLE_SHOP_ELLY
		goto *chat_event_SWEND1
	}
	if ( _switch_val == 3004 | _switch_sw ) {
		buff = lang("ギルドでも凄腕と聞いて来た" + _yo() + "頼んでも良い" + _kana(1), "I've heard that even in the guild, it's great. Can I order?")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 1
		listn(0, listmax) = lang("いい", "Yes.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = lang("だめ", "No.")
		listmax++
		gosub *label_3836
		if ( chatval == 1 ) {
			listmax = 0
			buff = lang("いく" + _yo(2), "Okay, no turning back now!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = lang("うふふ", "Come on!")
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			gosub *label_3302
			goto *chat_event_SWEND1
		}
		listmax = 0
		buff = lang("そうか…", "Ok, Will come again.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *chat_event_SWEND1
	}

*chat_event_SWEND1
	goto *label_3835

*chat_unique
	listmax = 0
	_switch_val = chatval(1)
	if ( _switch_val == 2 | _switch_sw ) {
		_switch_sw = 0
		listmax = 0
		buff = lang("ここまで辿り着くとはな…どうやら《混沌》は、自ら創りしネフィアの安定さえも望まぬらしい。しかし、私とてここで死ぬつもりなどないのだ。", "So you've made it this far. Evidently, <Chaos> wants no poise even within their own creation...Nefia. Well, it seems they have left me no choice but to whip you!")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		flagMain = 170
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 23 | _switch_sw ) {
		_switch_sw = 0
		if ( evid() == 1 ) {
			if ( jp ) {
				listmax = 0
				buff = "ああ、聡明なるレシマスの常闇の眼よ！ 新しい主は、どうやらお前の本当の価値を知らないようだぞ。…だが、心配しなくてもいい。この" + _sex(cSex(CHARA_PLAYER)) + "は、そこで死んでいる老人のように、たまに本を開いては下界の嘘に満ちた歴史を嘲笑い、自己満足にふける以外の使い方を、きっと見つけてくれるだろう。"
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = "(青年は見下したような笑い声をあげ、あなたに向き直った) さあ、これ以上愚かな詮索の表情を続けて私を落胆させないでくれ。お前が眺めている本には、真実の歴史を刻み、過去の文明の歩みを記録する魔力が秘められていると知ったのなら。"
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = "そう。この本に書かれていることは、全て偽りなき歴史。シエラ・テールの、そして過去の偉大なる文明の栄光と衰退の軌跡が記されている。その価値を、わざわざ説明する必要もあるまい？"
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = "ひとつ警告しよう。台座から離れた時、それは魔力を失い、変哲の無い一冊の本と化すのだ。新たな歴史が刻まれることはなく、正当性を証明するすべもなくなるだろう。"
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = "本を所有する者はまた、偽りの歴史を動かす勢力から、自らの命を守る必要にも迫られるだろう。このアーティファクトには、それだけの価値があるということだ。そしてお前には…エレアの風を聴く者と出会い、言葉を交じあわせたお前には…それがどれほどの意味を持つことか、理解していなくてもだ…そうだな、少なくとも我々を楽しませてくれるような使い方を期待しているよ。"
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = "もちろん、本を下界に持ち出すかどうかはお前次第だ…少なくとも、選択という行為に、私が予期できない偶然がある可能性を、お前が信じるのなら。"
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
			}
			else {
				listmax = 0
				buff = "Most impressive."
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
			}
			goto *label_3835
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 28 | _switch_sw ) {
		_switch_sw = 0
		listmax = 0
		buff = lang("よそへいってくれ…", "Leave me alone.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 29 | _switch_sw ) {
		_switch_sw = 0
		if ( cFame(CHARA_PLAYER) < 20000 ) {
			subquestrequirement lang("名声20000以上", "Fame 20000+")
			listmax = 0
			buff = lang("邪魔だ。話しかけるな。", "Who the hell are you?")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqNightmare == 1000 ) {
			listmax = 0
			buff = lang("気安く声をかけるな。", "You have the money, now get lost.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqNightmare == 0 ) {
			listmax = 0
			buff = lang("おい、ちょっと待て。貴様の面には見覚えがある…" + cnAka(CHARA_PLAYER) + "…といったか？最近、このティリスの地で名を上げているそうじゃないか。", "Hey you! Hold up! I've seen your face before punk... " + cnAka(CHARA_PLAYER) + "... Ah yes... I remember now. You've been making quite a name for yourself throughout Tyris, haven't you?")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			list(0, listmax) = 1
			listn(0, listmax) = lang("話を聞こう", "Fine, let's do it.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("止めておこう", "Not a chance, you worm.")
			listmax++
			buff = lang("貴様に金になる仕事をやろう。ザナンのある機関からの要望で、実験のデータをとるために被験者が必要なのだ。俺に言わせれば、被験者というより『生贄』だがな。生き延びて戻ってくれば、老後を遊んで暮らせるだけの報酬はくれてやる。どうするかこの場で決めろ。", "You wanna make some quick cash? I've got a request from the organization of Zanan. They need a test subject in order to get some experimental data. Or perhaps \"sacrifice\" would be a more appropriate term. *If* you survive, I'll pay you enough to party until you waste away. Make your decision quickly.")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("骨のないやつだ。うせろ。", "Fine then, piss off you spineless coward.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("いいだろう。死ぬ準備ができたら、声をかけろ。実験場まで案内してやろう。", "Excellent. Let me know when you've finished your preparations for death and I'll take you to the testing grounds.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqNightmare = 1
			goto *label_3835
		}
		if ( sqNightmare == 1 | sqNightmare == 2 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("いい", "Yes.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("だめ", "No.")
			listmax++
			buff = lang("フッ。よく逃げ出さずに戻ってきたな。準備はいいか。", "So, are you ready?")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("早くしろ。", "Be quick.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("よし…付いて来い。", "Follow me.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqNightmare = 2
			mDownStairPos = cY(CHARA_PLAYER) * 1000 + cX(CHARA_PLAYER)
			gTeleportArea = AREA_VERNIS
			gTeleportLevel = 5
			levelexitby = MAP_EXIT_TELEPORT
			chatteleport = 1
			goto *label_3835
		}
		if ( sqNightmare == 3 ) {
			flt
			nostack = 1
			itemcreate -1, ITEM_ID_MATERIAL_KIT, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			fixmaterial = ITEM_MATERIAL_RUBYNUS
			gosub *remake_material
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 100000
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 5
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("驚いた。この実験から生きて帰って来た冒険者は、貴様がはじめてだ。これで、ザナンの上層部が、研究を見直してくれるといいが。あんな不細工な化け物を率いて戦場を駆け回るのは、御免だからな。", "You came back alive... astonishing. You're the first and I swear you'll be the last. Zanan's senior commanders should find this data most intriguing. I do not want such a clumsy beast watching my back on the battlefield.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqNightmare = 1000
			goto *label_3835
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 30 | _switch_sw ) {
		_switch_sw = 0
		if ( sqSlime == 1000 ) {
			listmax = 0
			buff = lang("あら、冒険者さん♪ お茶でもいかが？", "Hi there adventurer! Would you like some tea?")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqSlime == 0 ) {
			listmax = 0
			buff = lang("あら、冒険者さん。ちょうどいいところに来てくれたわ。", "Ah, you... adventurer, you've definitely come to the right place.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			list(0, listmax) = 1
			listn(0, listmax) = lang("引き受ける", "Sure thing.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("面倒だ", "Not now.")
			listmax++
			buff = lang("最近、朝起きると私のぬいぐるみがぼろぼろになっているの。夜中に起きてこっそり見張ってたらね、なんとプチ…プチがぬいぐるみ食べてるのよ！どうも隣の家の窓を伝って、私の家に入ってくるみたいなの。冒険者さん、お願いだから、ちょっと行って退治してきてくれない？", "Recently, when I wake in the morning my stuffed toys are always chewed up. So I stayed up last night and secretly watched. You know what I found? Putits were chewing up my stuffed animals! I'm pretty sure they're getting into my house through the window to the neighbor's place. I beg of you adventurer, won't you eradicate the Putits for me?")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("気が変わったら、また来てね。", "Okay... but... if you change your mind please come back.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("頼もしいよ。問題の家は、すぐ南に隣接しているわ。頑張ってね！", "Fabulous! The trouble is all in the house just south of here.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqSlime = 1
			goto *label_3835
		}
		if ( sqSlime == 1 ) {
			listmax = 0
			buff = lang("やだ！このぬいぐるみもプチに食べられてる。冒険者さん、はやく退治お願いね。", "Aggh! My stuffed toys are ruined! Hurry up and kill the Putits!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqSlime == 2 ) {
			flt calcobjlv(10), calcfixlv(FIX_QUALITY_GREAT)
			itemcreate -1, ITEM_ID_SMALL_SHIELD, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			flt calcobjlv(10), calcfixlv(FIX_QUALITY_GREAT)
			itemcreate -1, ITEM_ID_GIRDLE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 3000
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 2
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("え、スライムを退治してくれたの？ありがとうございます♪あたしのぬいぐるみたちも喜んでるわ。これ、役に立つかわからないけど、とっておいてね。", "Eh? You wiped out the slimes? Thanks so much. My stuffed animals are delighted too. Here, you might find this useful.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqSlime = 1000
			goto *label_3835
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 31 | _switch_sw ) {
		_switch_sw = 0
		if ( sqRogue == 1000 ) {
			listmax = 0
			buff = lang("いらっしゃいませ〜♪その節はどうもです。", "Oh it's you, our hero.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqRogue == 0 ) {
			if ( jp ) {
				listmax = 0
				buff = "いらっしゃいませ〜♪"
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
			}
			list(0, listmax) = 1
			listn(0, listmax) = lang("引き受ける", "I'd be happy to help.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("面倒だ", "Don't bother me.")
			listmax++
			buff = lang("ちょっとお時間いいですか？バーの酒樽が度々盗まれて、店長困ってるんです。もし手が空いていたら、助けてくださいな。盗みを働いている輩の目星はついています。きっと、ヴェルニースを拠点に活動している、こそ泥の集団です！拠点は確か墓の方にあったはずですよ。", "Excuse me, do you have a moment? The kegs from the bar have been stolen, and the manager is really put out. If you're not busy, could you help out? It was those thugs, I'm sure of it. They've certainly set up a base inside Vernis. With all the mud they leave behind, they're most likely hanging out near the gravesite.")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("そうですか…残念です。", "Alright, but please... think about it.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("あ…ありがとうございます！よろしくお願いしますね！", "Really? Thanks, we really appreciate it.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqRogue = 1
			cell_featset 48, 5, tile_downstairs, CELL_FEATURE_DOWNSTAIRS, 4
			goto *label_3835
		}
		if ( sqRogue == 1 ) {
			listmax = 0
			buff = lang("いらっしゃいませ〜♪盗賊団の拠点はみつかりましたか？墓の近くにあるみたいですよ。", "Welcome! Welcome! Have you found the bandit's lair yet? It should be near the graveyard.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqRogue == 2 ) {
			flt
			itemcreate -1, ITEM_ID_ROD_IDENTIFY, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			inv((9 /*!!!@[INV_ITEM_AMMO @@@ INV_ITEM_CHARGE @@@ INV_ITEM_CLIENT @@@ INV_ITEM_FILE @@@ INV_ITEM_NEXT_PERIOD]@!!! */), ci) = 12
			flt
			nostack = 1
			itemcreate -1, ITEM_ID_MONSTER_BALL, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			iParam2(ci) = 5
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 1500
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 2
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("ええ、噂はもう届いています。あのごろつき団がいなくなって、私達ほんと安心しました。ありがとうございます。少ないですが、店長がお礼にとこれを♪", "Yes, I've already gotten wind of your deeds. It's a big relief to be rid of those miscreants. I can't thank you enough. I know it isn't much, but please take this as a token of our thanks.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqRogue = 1000
			goto *label_3835
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 33 | _switch_sw ) {
		_switch_sw = 0
		list(0, listmax) = 3
		listn(0, listmax) = lang("旅の目的", "What's your mission?")
		listmax++
		list(0, listmax) = 2
		listn(0, listmax) = lang("ノースティリスについて", "Tell me about North Tyris.")
		listmax++
		list(0, listmax) = 1
		listn(0, listmax) = lang("獣に変えられた王子の童話", "You mentioned a fairy tale.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		buff = lang("無事に意識が戻ってよかったわ。あなたを最初に見たときは、もう手遅れかと思ったほどだもの。", "I'm glad you got well again. I thought you were a goner until just a few minutes ago.")
		gosub *label_3836
		if ( chatval == 1 ) {
			listmax = 0
			buff = lang("あなたは、こんな話を聞いたことがあるかしら。", "You may have heard of this story before...")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("あるところに、魔法によって醜い獣のような姿に変えられた 王子がいた…彼は自分の姿に絶望し、国を捨て森の中の小屋で暮らしたの。", "There was once a prince who had his shape changed into that of an ugly beast by a witch. Despairing of his bloodcurdling appearance, he hid himself in a forest far from his kingdom.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("ある日、狼に襲われ傷ついた女が、小屋に駆け込み倒れこんだ。王子は迷いながらも女を介抱した。彼女はもちろん男の姿におびえて泣いたわ。", "One day a woman rushed into his hut and passed out, having been badly wounded by a pack of wolves. He treated her with the knowledge and fear that his ugly body might scare her. This fear turned into reality soon enough for she cried out as she woke up.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("でも、何日もたち彼女は男の優しさに気付いた。彼の誠実さに、抱える葛藤に、心を打たれたの。怪我の癒えた女は、男のささえとなり共に暮らすことを決心した…", "However, as days passed by and she regained her health, the woman had come to recognize the kindness and generosity that was within the heart of this beast. She decided to live with him.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("二人は様々な困難を力を合わせ乗り越えて、最後には王子にかけられた呪いがとけ、二人が結婚して幸せな結末を迎えるの。どこにでもある物語ね。", "They surmounted various difficulties throughout their lives and the story comes to an end when the curse set upon the prince finally breaks and the beast returned to his former shape, that of a flawlessly handsome prince. The two of them got along very well from that time on. A happy ending... although just an ordinary story, don't you agree?")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("わたしは、小さい頃聞かされたこのおとぎ話が、どうしても好きになれなかった。きっと、醜い姿の男に対する愛が、どこかに置き去りにされた気がしたのね。", "The elders of Vindale used to tell me this kind of story. But I never liked this one. Perhaps it is because I felt like the beast that she loved despite the fact that his ugliness had been left behind somewhere.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_unique
		}
		if ( chatval == 2 ) {
			listmax = 0
			buff = lang("アセリア大陸から大洋を隔たち、ティリス大陸の北に位置するのがノースティリスよ。自由と平和の国パルミアの統治の下、古代の遺跡群ネフィアを巡り、多くの旅人や商人がこの地を訪れるの。あなたも、そんな旅人の一人かしら？", "North Tyris is a continent in the western hemisphere of Ylva. Lots of merchants and travelers set foot on North Tyris' soil with the dream of making a fortune in the ancient ruins of Nefia.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("目的が決まっていないのなら、南の炭鉱街ヴェルニースに行くといいわ。あなたの探しているものが、見つかるかもしれない。", "If you haven't set your destination yet, you might want to visit Vernis. It's a mining town located south of here.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_unique
		}
		if ( chatval == 3 ) {
			listmax = 0
			buff = lang("私達はヴィンデールの森からの使者。公正なるジャビ王と会見し、森とエレアの民に降りかかる嫌疑を晴らすために、王都パルミアに向かっているの。", "We are messengers from Vindale. Our journey ends here in North Tyris at the great city of Palmia where we're supposed to have a talk with King Xabi, a man of fairness and compassion.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_unique
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 34 | _switch_sw ) {
		_switch_sw = 0
		if ( chatflag == 0 ) {
			if ( flagTutorial == 0 ) {
				buff = lang("見たところ君はノースティリスの人間ではないようだ。余計な世話でなければ、我々が旅を再開する前に、この土地での生活の知恵を授ける程度の時間は割けるのだが。", "It looks like you aren't familiar with this land. Before we leave, I can spare a moment to teach you a few lessons.")
				list(0, listmax) = 1
				listn(0, listmax) = lang("チュートリアルを開始する", "I would like to play the tutorial.")
				listmax++
				list(0, listmax) = 0
				listn(0, listmax) = lang("余計な世話だ", "I can take care of myself.")
				listmax++
			}
			if ( flagTutorial == 1 ) {
				listmax = 0
				buff = lang("移動方法はもうわかっているだろうが、もしカーソルキーを使っているのならば、できるだけテンキーでの移動に変えたほうがいいだろう。テンキーの周りには、床のアイテムを取得する0キー、その場で足踏みする5キー、そして射撃などのターゲットを指定できる*キーがあるからな。", "Pray tell me at least you know how to move. Sure, pressing cursor keys will do. But it's better to use a key pad if you have one. By using a key pad, you can easily access keys which are used frequently. Like [0] for picking up stuff, [5] for passing a turn and [*] for targeting.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("全ての行動はz,x,cの三つのキーから選択できる。zキーでは主に魔法やスキルなどの動作、xキーではアイテムの操作、cキーでは能力の確認や装備の変更ができるぞ。", "Although there're many actions you can perform, basically you can access them by using only 3 keys, [z],[x] and [c].")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("まずはxキーを使って、最も基本的で重要な行動である食事をしてみよう。注意しておけ、空腹になると体力の回復速度が下がり、餓死寸前になると当然体力は減って行くからな。食料は店で買ったり、栽培したり、たまに敵が残す死体を食べることもできる。", "Let's try them now. First, you need food to live. If your stomach is empty, you will lose Hp and your action speed slows down. Make sure you always have enough food in your inventory.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				buff = lang("君の足元に食料を置いた。xキーを押して、テンキーを使い「食べる」のメニューに移動して、足元のものを選択するんだ。", "Here, you can have this meat. Press [x], then press [9] a few times to select the <Eat> menu. Once there, select the meat on the ground.")
				list(0, listmax) = 0
				listn(0, listmax) = lang("わかった", "Alright.")
				listmax++
				list(0, listmax) = 3
				listn(0, listmax) = lang("食べた", "I ate it.")
				listmax++
			}
			if ( flagTutorial == 2 ) {
				listmax = 0
				buff = lang("zキーでは、魔法やスキルを使用したり、体当たりや採掘など、やや特殊な行動を行うことができる。体当たりは、鍵のかかったドアを壊したり、果実を木から落としたい時に実行するといい。", "You can perform skills or other actions including bashing and digging by pressing [z]. Here's a tip. You can bash doors to break locks and trees to get some fruits. It can be used to wake someone, but surely they won't be happy.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("zキーの他にも、スペースキーの活用法を覚えておこう。スペースキーは、足元にあるものに応じて自動的に行動を選択してくれるキーだ。例えば足元に階段があれば昇り降りを、宝箱があれば「開く」を、祭壇があれば「捧げる」をなど、自動的に選択してくれる便利なキーだ。", "Also, remember that [space] key is a very useful key. When there's an object under your foot, it automatically chooses a suitable action for you.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				buff = lang("そうだな… 「穴掘り」実際に試してみようか。穴掘りは、道を短縮したり、鉱石を採掘したり、家のレイアウトを変える時に使う。とりあえず適当な壁の前に立ち、zキーを押して穴を掘ってみてくれ。", "Let's try it now. Try digging some walls by pressing [z] and choosing <dig>.")
				list(0, listmax) = 0
				listn(0, listmax) = lang("わかった", "Okay.")
				listmax++
			}
			if ( flagTutorial == 3 ) {
				txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
				flt
				itemcreate -1, ITEM_ID_SCROLL_IDENTIFY, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
				iKnown(ci) = ITEM_KNOWN_FULL
				listmax = 0
				buff = lang("どうやら何かを掘り当てたようだな。", "Looks like you found something.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				flagTutorial = 4
			}
			if ( flagTutorial == 4 ) {
				listmax = 0
				buff = lang("多くのアイテムは、その本当の価値を知るためには「鑑定」をする必要がある。街にいる鑑定者に頼んだり、鑑定の巻物や、魔法を唱えることで鑑定はできる。未鑑定の品は店での売価が低くなり、中には呪われた装備、危険な効果のポーションや巻物もあるので注意が必要だ。", "Many items need to be identified before you can know what exactly they are. You can identify items by reading some scrolls or asking a wizard in a town. Remember that using unidentified potions or scrolls is very dangerous. ")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("武器や防具は、長い間所持していると簡単な鑑定がされるが、 装備の持つ魔力や本当の性能を知るためには、やはり鑑定が必要だ。強力な力を秘めたアイテムの中には、上位の鑑定を必要とするものもあるので、未判明のまま店に売ってしまうことは賢明ではないだろう。", "Weapons and armor also need to be identified. If you carry them long enough, you will get a hunch as to how good they are. But to gain full knowledge of the items, you need to identify them.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				buff = lang("では、今足元に置いた鑑定の巻物をxキーで読み、その金塊を鑑定してみるんだ。", "Now I'll give you a scroll of identify. Read it by using [x] and identify the gold bar you just found.")
				list(0, listmax) = 0
				listn(0, listmax) = lang("結果は想像がつくが、やってみるか…", "Alright, I will try.")
				listmax++
				list(0, listmax) = 4
				listn(0, listmax) = lang("鑑定した", "Done...")
				listmax++
			}
			if ( flagTutorial == 5 ) {
				buff = lang("アイテムを装備するには、cキーから装備画面を呼び出せばいい。呪われたアイテムを装備してしまうと、装備が外せなくなるだけではなく、様々な悪い効果が発生する。その弓も呪われているので、解呪の巻物で呪いをといてくれ。", "To equip weapons or armor, press [c] and press [9] to select [Wear]. Note that if you wear cursed equipment, they can't be removed normally and cause some unwelcome effects. That bow is cursed. Use this scroll of uncurse to uncurse it.")
				list(0, listmax) = 0
				listn(0, listmax) = lang("わかった", "Will do.")
				listmax++
				list(0, listmax) = 5
				listn(0, listmax) = lang("装備も解呪も終わった", "All done.")
				listmax++
			}
			if ( flagTutorial == 6 ) {
				p = findchara(CREATURE_ID_PUTIT)
				if ( p != 0 ) {
					listmax = 0
					buff = lang("どうした？ まだ全てのプチを倒していないぞ。", "Kill them all.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *label_3835
				}
				listmax = 0
				buff = lang("上出来だ。", "Well done.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				flagTutorial = 7
			}
			if ( flagTutorial == 7 ) {
				listmax = 0
				buff = lang("ノースティリスの地理について少し説明しよう。シエラ・テールには幾多の国が存在するが、ノースティリスはどの国の支配も受けておらず、《ネフィア》と呼ばれる迷宮群が存在する特殊な場所だ。この地では、地殻変動とともに新しい迷宮がしばしば生成される。", "Let's learn a little history of North Tyris. This sacred land governed by Palmia is known for ancient ruins <<Nefia>>. Occasionally new ruins are found and lost by erratic movements of the earths crust.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("迷宮の主を倒すと貴重な物資や財宝が手に入るため、冒険者にとっては格好の収入源になるわけだ。迷宮に辿り着くと、その場所の危険度が表示される。危険度が自分のレベルより高い場所を探索することは、まず避けたほうがいいだろう。", "A lord lives at the lowest layer of these ruins, protecting great treasures and therefore attracts numerous adventurers. However, avoid those ruins which exceed your current level. You may gain a lot, but you may lose your life.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				flt
				itemcreate -1, ITEM_ID_CHEST, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
				iParam1(ci) = 35, 25
				flt
				itemcreate -1, ITEM_ID_LOCKPICK, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 2
				txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
				listmax = 0
				buff = lang("迷宮に落ちている宝箱の開け方を知っておく必要があるな。足元に宝箱を置くので、xキー、またはスペースキーで開けてみるんだ。", "You might find chests containing loot in ruins. There's one nearby, open it.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				flagTutorial = 8
				goto *label_3835
			}
			if ( flagTutorial == 8 ) {
				listmax = 0
				buff = lang("鍵が掛かっているだろう？宝箱の鍵は、ロックピックを所持していて、鍵開けの技術が開錠に必要な値に達していないと、解除することはできない。君の技量では、おそらくその宝箱を開けることはできないな。宝箱はダンジョンに落ちていることもあるが、生憎と重い代物なので、開けられない時は諦めるしかないだろう。気をつけろ…宝箱に押しつぶされて無様な死をさらした冒険者を、私は何度となく見てきている。", "Notice the chest has a lock? Locked chests require sufficient lockpick skill and lockpicks to open. You need to practice to open that chest. Be aware, those chests are heavy and trust me, give up if you can't open them when you're in dungeons. I saw a fool running around with a chest on his back and he got killed.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("宝箱に限らず、荷物を持ちすぎると速度にペナルティが課せられるため注意が必要だな。必要のないアイテムは、家に保管しておくといい。", "As you explore dungeons, your backpack may get heavier. Remember to leave stuff you don't need in your house. Overweight will slow your movement.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("最後に、家について説明しておこう。家はアイテムを保管したり、安全に魔法を学んだり、また単に装飾して楽しむために利用できる。家の権利書を購入できるようになれば、ノースティリスの好きな場所に家を建てることができるだろう。ただし、家は一つしか持てない。", "Finally, I'm going to explain a bit about your house. As you already know, you can safely store items in your house. And the salary chest periodically gets filled with some gold and items. Eventually you might be able to buy a new house.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("家の中にあるハウスボードを使うことで、壁を作ったり、床の模様を変えたり、滞在者を募ったりできるぞ。後で試してみるといい。", "You can do several things by using a house board in your house. Try it later.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				flagTutorial = 99
			}
			if ( flagTutorial == 99 ) {
				listmax = 0
				buff = lang("よくやった。これでノースティリスで生活するための、基本的な知識は身に付いたわけだ。自分の状態を把握し、慎重に行動すれば、瀕死の状態を高慢なエレアに拾われ、講釈をたれられることも、もうないだろう（ロミアスはニヤリと笑った）。", "Alright, we're finished. You should already know how to survive in North Tyris by now.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("まだ目的が定まっていないのなら、南のヴェルニースを訪れるといい。ネフィアの迷宮群を巡るのも、貴重な経験になるだろう。この世界で何を見て、如何な足跡を残すか決めるのは、君自身だ。", "(You've finished the tutorial!)")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				flagTutorial = -1
				goto *label_3835
			}
			if ( flagTutorial == (-1) ) {
				buff = lang("まだ、何か用があるのか？", "What?")
				list(0, listmax) = 0
				listn(0, listmax) = lang("何も", "Nothing.")
				listmax++
			}
			if ( flagTutorial == 0 | flagTutorial == (-1) ) {
				list(0, listmax) = 2
				listn(0, listmax) = lang("わが家から出て行ってほしい", "Get out of my house!")
				listmax++
			}
			gosub *label_3836
		}
		if ( chatval == 1 ) {
			listmax = 0
			buff = lang("賢明な判断だな。まずは最も基本的な動作から教えよう。", "A wise choice. I will start from the beginning.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			flt
			itemcreate -1, ITEM_ID_CORPSE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			iSubName(ci) = 9
			iKnown(ci) = ITEM_KNOWN_FULL
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			flagTutorial = 1
			goto *chat_unique
		}
		if ( chatval == 2 ) {
			tc = findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND)
			if ( cExist(tc) != CHAR_STATE_ALIVE ) {
				tc = findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE)
				cEmoIcon(tc) = 18 + 100 * 4
				cRelation(tc) = RELATION_ENEMY
				cAiAggro(tc) = 80
				listmax = 0
				buff = lang("ラーネイレ…？ どこにいったんだ？ まさか貴様！", "You...you scum!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			listmax = 0
			buff = lang("" + cnName(CHARA_PLAYER) + "の言うとおり、私達に残されている時間は少ないわ。こうしている間にも、新王国のかの者の計画は着実に進んでいる… 出発しよう、ロミアス。", "" + cnName(CHARA_PLAYER) + " is right. The time left for us is scarce. We need to depart, Lomias.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("ああ、わかった。パルミアまでは長い旅路だ。一時であれ休息をとれて良かったのかも知れないな。", "Yes. Palmia is still far away. Perhaps, It was fortunate that we could have a little rest before everything begins.")
			tc = tc * (findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE) == 0) + (findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE) != 0) * findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE)
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("また巡り会う時まで、" + cnAka(CHARA_PLAYER) + "、あなたに風の加護のあらんことを。", "Farewell..until we meet again. May the blessing of Lulwy be with you.")
			tc = tc * (findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND) == 0) + (findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND) != 0) * findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND)
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			chara_vanquish findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND)
			chara_vanquish findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE)
			txt -1, lang("二人は荷物をまとめ洞窟を後にした。", "Lomias and Larnneire leave the cave.")
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			repeat 3
				flt
				flttypemajor = FILTER_FURNITURE
				itemcreate -1, ITEM_ID_DUMMY, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			loop
		}
		if ( chatval == 3 ) {
			listmax = 0
			buff = lang("…本当に食べてしまったのか？", "...err..you really ate that thing? Oh well..")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = lang("えー", "What!")
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("食料以外のアイテムも、同様にxキーで操作することになる。例えば巻物や魔法書は「読む」のメニューから、杖は「振る」のメニューから使用できる。", "You can also use other items by pressing [x]. For example, if you want to read a book, press [x], hit [9] a few times to select the <Read> menu, then choose a book you want to read.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			if ( jp ) {
				listmax = 0
				buff = lang("次はzキーでの行動について説明しよう。", "")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
			}
			flagTutorial = 2
			goto *chat_unique
		}
		if ( chatval == 4 ) {
			listmax = 0
			buff = lang("（ロミアスはにやりと笑った。どうやら、この偽物の金塊は彼がいつの間にか埋めたらしい…）", "(Lomias grins. Looks like he buried it unnoticed.)")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("次は戦闘について教えるが、戦う前にまずアイテムを装備し、準備を整えなければならない。使い古しだが、君のために弓と矢を用意した。射撃武器のほとんどは、例えば銃なら弾丸のように、対応した矢・弾を装備する必要がある。", "Okay, I will now tell you how to fight. Before the combat starts, you need to equip weapons. Take my old bow and arrows and equip them.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			flt
			itemcreate -1, ITEM_ID_LONG_BOW, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			iStatus(ci) = ITEM_STATUS_CURSED
			flt
			itemcreate -1, ITEM_ID_ARROW, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			iStatus(ci) = ITEM_STATUS_NORMAL
			flt
			itemcreate -1, ITEM_ID_SCROLL_VANISH_CURSE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			iKnown(ci) = ITEM_KNOWN_FULL
			iStatus(ci) = ITEM_STATUS_BLESSED
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			flagTutorial = 5
			goto *chat_unique
		}
		if ( chatval == 5 ) {
			listmax = 0
			buff = lang("…よし、いよいよ戦闘の説明だ。", "Good. Now listen carefully.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("相手を打撃で攻撃するには、単に相手の方向のキーを押すだけだ。射撃も、zキーから射撃を選択するだけで、一番近くの敵を自動的に攻撃する。攻撃する敵を予め指定したいときは*キーを押せばいい。", "By moving towards a target, you automatically attack it with your close range weapon. To use your long range weapon, you can either press [z] and choose [Shoot] or simply press [f] (Fire). You will shoot a nearby enemy. If you want to change your target, press [*].")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("では、訓練用のモンスターを召喚するぞ。可能なら、使い勝手を知るために射撃で倒してみてくれ。ただし、弓は近接して打っても威力が低いので注意が必要だ。危なくなった時のために、治療薬を足元に置いておこう…必要ないとは思うが。ポーションの飲み方はわかるな？…そう、xキーだ。", "Get ready. I will summon some weak monsters. Kill them with your bow if possible. Try to stay away from the enemies as bows aren't effective in close range. I've dropped a few potions in case you get hurt. You know how to use them right? Yes, use [x] key.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			txtef COLOR_SKY_BLUE
			txt -1, lang("ロミアスは隠し持っていたプチを放った。", "Lomias releases tiny cute creatures.")
			repeat 3
				flt
				characreate -1, CREATURE_ID_PUTIT, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
				cbitmod CHARA_BIT_NO_TARGET, rc, TRUE
			loop
			flt
			itemcreate -1, ITEM_ID_POTION_CURE_MINOR_WOUND, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			iKnown(ci) = ITEM_KNOWN_FULL
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			flagTutorial = 6
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 79 | _switch_sw ) {
		_switch_sw = 0
		if ( flagMain == 200 ) {
			listmax = 0
			buff = lang("王の死に続き、世界の崩壊の始まり…パルミアは…シエラ・テールは困難な時代にいます。このまま、イルヴァは最後を迎えてしまうのでしょうか。", "The tragedy of our king, and the collapse of our world, Palmia is...Sierre Terre is in difficult times.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( flagMain < 90 ) {
			listmax = 0
			buff = lang("パルミアは歴史ある自由と文化の国。大アセリア大陸の戦乱から離れ、静かに育ってきた国です。王制政治が廃止された今でも、この平和を培った代々の王と夫であるジャビ王に、民は忠誠を尽くしてくれています。", "Palmia is an old and historical kingdom which respects peace and freedom. The royalism has been obsoleted long time ago, but people still carry loyalty to the old kings and my husband, King Xabi.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
		}
		else {
			listmax = 0
			buff = lang("王の悲報にパルミアは衝撃を受けています。あの方のいない王座は、なんと冷たく感じられることでしょう…", "The whole kingdom is devastated to hear the tragic news of our king. This throne... it feels very cold without him.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 80 | _switch_sw ) {
		_switch_sw = 0
		if ( flagMain >= 60 ) {
			listmax = 0
			buff = lang("汝の活躍を楽しみにしておるぞ。", "Any assistance you provide to us will be most welcome.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( flagMain == 50 ) {
			listmax = 0
			buff = lang("今の時勢、信頼に足る者の剣を遊ばせておくのは惜しい。もしパルミアの元で働く意志があるのなら、城の図書室にいるエリステアを訪ねるがよい。十分な報酬と名誉を約束しよう。", "In times like these, we can't afford to let those we can trust sit idly on their swords. If you're willing to serve Palmia, then you should pay a visit to Erystia in the library. We will be sure to reward you with honor and riches commiserate with your sacrifice.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( flagMain == 40 ) {
			flagMain = 50
			listmax = 0
			buff = lang("斥候からの知らせを預かっていると？…よかろう、その者の書簡をわしの手元へ。", "What's that you say? You have a message from one of our scouts? ...Very well then, let me see it.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			redraw 0
			gosub *screen_draw
			gosub *screen_fadeIn
			gsel BUFFER_BUF
			pos 0, 0
			exist exedir + "user\\graphic\\user_face1.bmp"
			if ( strsize != (-1) & cfg_userface1 ) {
				picload_ exedir + "user\\graphic\\user_face1.bmp", 1 * (windoww >= 1280)
				ex_userface = 1
			}
			else {
				picload_ exedir + "graphic\\face1.bmp", 1
				ex_userface = 0
			}
			gsel BUFFER_SCREEN
			listmax = 0
			buff = lang("…なるほど、恐れていたことが現実になったというわけだな。知らせにあるよう、悪しき者がレシマスに眠る秘宝を狙うのであれば、パルミアの王の名誉にかけてそれを阻止せねばなるまい…" + cnName(CHARA_PLAYER) + "とやら、大儀であった。直ちに謝礼を用意させようではないか。", "I see... then what we feared has indeed come to pass. If evil has set its sights on the artifact hidden within the depths of Lesimas, then for the honor of our King we are bound to stop it... You must be tired, " + cnName(CHARA_PLAYER) + ". Give me a moment to prepare appropriate compensation for your efforts today.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 2500
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 3
			flt
			itemcreate -1, ITEM_ID_POTION_CURE_CORRUPTION, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			flt
			itemcreate -1, ITEM_ID_TREASURE_MAP, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			goto *chat_unique
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 139 | _switch_sw ) {
		_switch_sw = 0
		if ( flagMain == 20 ) {
			flagMain = 30
			listmax = 0
			buff = lang("…そこの御人…頼みが…頼みがある…私はパルミアの斥候…王の命令でレシマスに潜んでいた者だ…", "You...you there, listen to me. *cough* *cough* I-I'm a scout of Palmia...I've been investigating on Zanan's strange activities in Lesimas.... *cough* I have a favor to ask...")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("詳しく説明する体力は…私には…もう残っていない…ジャビ王にこの書簡を…届けて頂きたい…二つの大国の衝突を…シエラ・テールの…危機を…防ぐために…", "T-There's no time left for me to explain all....my wounds are... *cough* Listen, Sierre Terre is in danger...this letter..this letter...this is our only hope....")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("…う、うぅ…貴方を…信じる以外にもう希望はない…私の所持品は…自由にして構わない…どうか、この知らせを…パルミアに…", "I have no choice but to trust you.... *cough* bring the letter to Palmia.... I-I beg you...You can take everything I have on me...so... plea..s..")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			repeat 4
				flt calcobjlv(gLevel ), calcfixlv(FIX_QUALITY_GOOD)
				flttypemajor = fltsetdungeon()
				itemcreate -1, ITEM_ID_DUMMY, cX(tc), cY(tc), 0
			loop
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(tc), cY(tc), 1000 + rnd(200)
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(tc), cY(tc), 3
			flt
			itemcreate -1, ITEM_ID_BEJEWELED_CHEST, cX(tc), cY(tc), 0
			iParam2(ci) = 0
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャビ王への書簡を受け取った。ジャーナルが更新された。", "You receive a letter to the king Xabi. Your journal has been updated.")
			txt -1, lang(cnName(tc) + "は静かに息絶えた…", cnName(tc) + " dies silently...")
			chara_vanquish tc
			goto *label_3835
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 142 | _switch_sw ) {
		_switch_sw = 0
		if ( flagMain == 200 ) {
			if ( jp ) {
				listmax = 0
				buff = "私達は…失敗してしまったのですね、サイモアの陰謀を止めることに。あなたが《常闇の眼》を入手するために冒した危険も、カラムの命も、今となっては何の意味があったのでしょう。"
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = "ゆっくりと死に行く世界の中で、私達は無力感と罪を抱えて生きています。森を忌み嫌い、あるいは迫害を見ぬふりをしてきた私達が、サイモアだけを責めることなどできません。いっそのこと、あの時森とともに…"
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = "ごめんなさい、つまらないことを聞かせてしまって。あなたは…あなたの目には…まだ希望の光が宿っている。" + cnAka(CHARA_PLAYER) + cnName(CHARA_PLAYER) + "、あなたはその運命の先に何を見ているの？"
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
			}
			else {
				listmax = 0
				buff = "You've done well."
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
			}
			goto *label_3835
		}
		if ( flagMain == 120 ) {
			listmax = 0
			buff = lang(cnName(CHARA_PLAYER) + "、遂に三つの魔石を揃えたのですね。私達の調査によれば、魔石はレシマスの秘宝の間への扉を開く鍵となるはず。しかし、レシマスの奥深くには恐ろしい魔物が巣食い、その場所が何階にあるかまでは判明していません。", "It looks like you've finally managed to acquire all three of the stones, " + cnName(CHARA_PLAYER) + ". According to the information we've learned during the excavation, these stones are the key that will unlock the deepest reaches of Lesimas. However, be aware that terrifying monsters lurk in the abyss of Lesimas, and we have no idea how deep those caverns go.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("あなたの任務…おそらくは最後の任務は、決して易しいものではなく、失敗も許されません。レシマスの探索を進め、秘宝の間を見つけてください。そして、《常闇の眼》を地上に持ち帰り、ザナンの陰謀を阻止するのです。", "This will be your last mission. This will be no easy task, but failure is not an option. It's up to you to complete the excavation of Lesimas and find the room where the codex is kept. If you can't retrieve the <Origin of Vice> we will never be able to uncover the conspiracy Zanan has set into motion.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("カラムの言葉が正しければ、秘宝を守るのは今は亡きザシム王の従弟ゼーム。ゼームは名うての魔術師としても知られていました。彼が生きながらえているのも何らかの魔力によるものでしょう。心して望んでください。", "If what Karam told us is true, the codex will be guarded by the late king Zashim's cousin, Zeome. Zeome was known to have been a very powerful warlock. In his day, he was by far the most powerful sorcerer alive. I wouldn't dare confront him unless you are extremely well prepared.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("あなたの働きには、感謝の言葉だけでは報いきれません。この指輪は、スターシャ様からの贈り物です。あなたの冒険の成功を祈っています。", ": Words alone are not enough to express our gratitude for all that you have done. This ring is a gift from Queen Stersha. We are praying for your success, " + cnName(CHARA_PLAYER) + ".")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("レシマス25階の鍵を受け取った。ジャーナルが更新された。", "You receive a key of Lesimas 25th level. Your journal has been updated.")
			flt
			itemcreate -1, ITEM_ID_PALMIA_PRIDE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			flagMain = 125
			goto *label_3835
		}
		if ( flagMain == 105 ) {
			listmax = 0
			buff = lang(cnName(CHARA_PLAYER) + "、あなたの帰還を待っていました。カラムは無事に…いえ、その顔を見れば想像はつきます。私達の救助は遅すぎたのですね…。", "I've been waiting for you to return, " + cnName(CHARA_PLAYER) + ". I hope that Karam is... no, I can tell just by looking at you. Then our rescue attempt was too little too late.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			redraw 0
			gosub *screen_draw
			gosub *screen_fadeIn
			gsel BUFFER_BUF
			pos 0, 0
			exist exedir + "user\\graphic\\user_face1.bmp"
			if ( strsize != (-1) & cfg_userface1 ) {
				picload_ exedir + "user\\graphic\\user_face1.bmp", 1 * (windoww >= 1280)
				ex_userface = 1
			}
			else {
				picload_ exedir + "graphic\\face1.bmp", 1
				ex_userface = 0
			}
			gsel BUFFER_SCREEN
			listmax = 0
			buff = lang("…カラムの言葉、確かに受け取りました。《常闇の眼》という古宝の伝承は、私も本で読んだことがあります。それは、イルヴァの大地の上に築かれた全ての歴史の真相を網羅していると伝えられています。もしカラムが危惧していたように、ザナンのサイモアが自らの説の誤りを葬らんとするためレシマスの秘宝を狙っているとしたら、私達はそれを阻止しなければなりません。", "Well take Karam's message to heart then... I remember reading about the <Origin of Vice> in one of these books. I believe it referred to the codex as an exhaustive account of the history of all things in Ylva. If, as Karam suspected, Saimore is trying to acquire the codex in order cover up gaps in his story we can't allow him to succeed.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("…王の悲報はもう耳にしているでしょう。都の土は涙で濡れていようとも、今の私達に喪に服している時間はありません。カラムと、そして王の意思を継ぐためにも。", "I'm sure you've already heard the tragic news about the king. All of Palmia is heartbroken by the king's demise, but we can't afford to spend our time mourning right now. We have to push on, for Karam... and for the king's sake.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("あなたの次の任務は、三つの魔石の入手です。魔石には、レシマスの秘密を解く何らかの力が秘められていると伝えられています。魔石の所在は判明していますが、どこも危険な場所ばかり。まずは、各地を探索し、経験を積んでから臨んだほうがいいでしょう。", "Your next task is to retrieve the three magic stones. It's written in several of our historical accounts that the stones are the key to unlocking the secrets of Lesimas. We already know where the stones are located, but actually getting the stones is definitely easier said than done. First, you should scout the areas, gather info, and build your strength.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("探索に必要な情報がある時は、いつでも私に話しかけてくださいね。帰還したばかりなのに酷ですが、あなたに期待しています。", "Please come see me anytime you get information that would be useful to the expedition. I know you've just returned and we're asking an awful lot of you, but I don't have any other choice.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("レシマス17階の鍵を受け取った。ジャーナルが更新された。", "You receive a key of Lesimas 17th level. Your journal has been updated.")
			flagMain = 110
			goto *label_3835
		}
		if ( flagMain >= 60 ) {
			buff = lang("あら、" + cnName(CHARA_PLAYER) + "。レシマスの調査は進んでいるかしら？ 何か必要な情報があれば、何でも聞いてください。", "" + cnName(CHARA_PLAYER) + ", how's your investigation going? Ask anything you'd like to know.")
			list(0, listmax) = 6
			listn(0, listmax) = lang("レシマスについて", "Tell me about Lesimas.")
			listmax++
			list(0, listmax) = 5
			listn(0, listmax) = lang("任務について", "Tell me about the mission again.")
			listmax++
			if ( flagMain >= 100 & flagMain <= 120 ) {
				list(0, listmax) = 3
				listn(0, listmax) = lang("古城について", "Tell me about the ancient castle.")
				listmax++
				list(0, listmax) = 2
				listn(0, listmax) = lang("灼熱の塔について", "Tell me about the tower of infernos.")
				listmax++
				list(0, listmax) = 1
				listn(0, listmax) = lang("死者の洞窟について", "Tell me about the crypt of the damned.")
				listmax++
			}
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( chatval == 6 ) {
				listmax = 0
				buff = lang("ネフィアの迷宮群の一つレシマスは、パルミアの歴史と大きな関わりがあります。エウダーナがネフィアの秘宝の一つにより繁栄を約束されたように、第三代の王ザシムと従弟ゼームもレシマスの秘宝を求め、調査隊を繰り出していました。", "Lesimas is one of the numerous ruins of Nefia. It is a significant part of the history of Palmia. The Eulderna sought to bring themselves prosperity using one of the treasures of Nefia, so the third king, Zashim and his cousin Zeome organized an excavation of Lesimas.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("そしてある日、ついに調査隊の朗報を受けた王と従弟は、レシマスの最下層に赴き、秘宝の眠る部屋へと足を踏み入れたのです…しかし数刻の後、部屋から出てきたのはザシム王一人だけでした。ザシム王は側近にこう言ったと伝えられています。", "Eventually the king and his cousin received word that the excavation had been completed, so they descended to the deepest reaches of Lesimas. Together they set foot into the darkened room where the codex was said to reside, yet after some number of hours, King Zashim emerged from the chamber alone. As the legend goes, King Zashim said the following words to his aides.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("「それは強き者の手の内では決して輝くことはない。弱き者の手の内では黄金のごとくまばゆいが、その輝きを他の者に見せることはできない。この秘宝は、常闇の中で永遠に眠っているべきものなのだ。直ちに部屋を封印するがよい。従弟はもはや帰っては来るまい」", "\"In the hands of the mighty it was dull and lifeless, devoid of magic... yet... in the hands of the meek it shone with a brilliant golden light that defies description. But no matter how I tried, I could not show that light to anyone else. The codex was meant to remain in these depths for all of eternity. We should seal this place off. My cousin will never return from these caves.\"")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("秘宝が眠る部屋は魔術により封印され、封印の鍵となる三つの魔石は、それぞれ最も強大で邪悪な存在の元に送られたといいます。魔石の真の価値は知らさずに。", "And so, they sealed the cavern with powerful magic and bound that seal to three magic stones. They gave each stone to a powerful guardian and sent them to three separate strongholds to watch over the stones. I don't believe the guardians knew the true value or purpose of the stones. ")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("以来、パルミアの代々の王家は、ザシム王の意思を引き継ぎ、洞窟にはもう何もないかのように、他の国々の目を欺いてきたのです。", "Since that day, the passing generations of Palmia's royal family have preserved King Zashim's mandate and we've always deceived the other nations into believing there was nothing of value in Lesimas.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_unique
			}
			if ( chatval == 5 ) {
				if ( flagMain >= 125 ) {
					listmax = 0
					buff = lang("レシマスの探索を進め、秘宝の間を見つけてください。あなたの任務は、《常闇の眼》を地上に持ち帰ることです。", "Complete the excavation of Lesimas and find the room where the codex is kept. And retrieve the <Origin of Vice>.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					listmax = 0
					buff = lang("カラムの言葉が正しければ、秘宝を守るのは今は亡きザシム王の従弟ゼーム。ゼームは名うての魔術師としても知られていました。彼が生きながらえているのも何らかの魔力によるものでしょう。心して臨んでください。", "If what Karam told us is true, the codex will be guarded by the late king Zashim's cousin, Zeome. Zeome was known to have been a very powerful warlock. In his day, he was by far the most powerful sorcerer alive. I wouldn't dare confront him unless you are extremely well prepared.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
				if ( flagMain >= 110 ) {
					listmax = 0
					buff = lang("あなたの任務は、三つの魔石の入手です。魔石には、レシマスの秘密を解く何らかの力が秘められていると伝えられています。魔石の所在は判明していますが、どこも危険な場所ばかり。まずは、各地を探索し、経験を積んでから臨んだほうがいいでしょう。", "Your next task is to retrieve the three magic stones. It's said that the stones are the key to unlocking the secrets of Lesimas. We already know where the stones are located, but all three locations are extremely dangerous. First, you should scout the areas, gather info, and build your strength.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
				listmax = 0
				buff = lang("あなたの任務は、レシマスに赴き、冒険者カラムとの接触を試みることです。彼から最後に連絡があったのは、レシマスの16階。おそらくは、より深層に探索の手を広げているでしょう。彼の足取りをつかみ、私に報告してください。", "Your duty will be to penetrate into Lesimas and make contact with <Karam>. In the last report we received from him, he told us he was on the 16th floor. If you can find him, perhaps we can get this excavation back on track. Godspeed, " + cnName(CHARA_PLAYER) + ", find out what happened to <Karam>.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_unique
			}
			if ( chatval == 3 ) {
				listmax = 0
				buff = lang("古城の宝物庫には、数々の財宝とともに《覇者の魔石》が眠っていると伝えられています。ヴェルニースを南に下った閑静な森の中に佇むこの城は、古の王族により建てられました。しかし王都がパルミアに移り、廃墟となった城は、長らくならず者の拠点として使われるように…", "The <King's Magic Stone>, along with numerous other treasures, sleeps deep in the recesses of the vaults of the Ancient Castle, which was built by a long forgotten generation of the royal family. However, the royal family eventually relocated to Palmia and the former throne of the kingdom fell into disrepair and decay. It has been ages since anyone even set foot in the old castle...")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("一世紀前に《古城の主ワイナン》が占拠してからは、ダルフィの悪漢でさえ近づかない恐ろしい場所として知られるようになりました。危険度はレシマスの１７階相当です。", "After <Lord Wynan> took charge of the castle in the first century, even the thugs of Derphy became too scared to approach the castle. The danger level in the castle is roughly equivalent to the 17th floor of Lesimas.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("噂では、《ワイナン》がまだ生きて王座に君臨しているとか…彼は生粋の戦士で、その手に持つ槍斧《ランキス》は相対するものの生命を吸い取ると怖れられています。地獄への耐性か、間合いをとる手段なくして彼と対するのは賢明とはいえませんね。", "It is rumored that <Wynan> still rules the throne along with his personally trained army. Legends tell that the deadly halberd he carries, <Rankis>, can drain the life from his enemies with the greatest of ease. It would be wise to boost your resistance to nether... oh, and bear in mind that unless you can time your actions wisely he'll devour you like a dog.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_unique
			}
			if ( chatval == 2 ) {
				listmax = 0
				buff = lang("パルミアを出て北の未開の地を越えていくと、真紅に燃え盛る灼熱の塔が見えます。この塔の守護者、《赤き義眼のクルイツゥア》と呼ばれる魔女が、《賢者の魔石》を所持しているはずです。", "If you head north from Palmia, through the untamed lands, you will eventually see a tower blazing with an aura of flames. The guardian of the tower, a powerful witch named <Quruiza the Red-eyed Deceiver>, watches over the <Sage's magic stone>. ")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("《クルイツゥア》の強力な魔法だけでなく、彼女の僕であり夫である《鋼鉄竜コルゴン》の力も恐るべきものです。", "Quruiza's magic is not the only thing you have to fear either, her husband, the <Steel Dragon Corgon> has pledged his strength to her defense. No doubt you'll have to face him as well.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("言うまでもないですが、この塔を探索するには、何らかの手段で火への耐性を得る必要があるでしょう。もし体力を失っていくようであれば、耐性を高めてから挑戦したほうが無難です。危険度はレシマスの１５階相当です。", "I probably don't need to tell you this, but if you plan to brave the tower, you'll need some sort of powerful resistance to heat and flames. If you find you can't hack it inside, I'd suggest you find some way to protect yourself from the heat before venturing back inside. The danger level in the tower is roughly equivalent to the 15th floor of Lesimas. ")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_unique
			}
			if ( chatval == 1 ) {
				listmax = 0
				buff = lang("《愚者の魔石》が眠っているとされる死者の洞窟は、最も危険な場所です。多くの名のある冒険者が命を落とし、不死者となりこの洞窟の中をさ迷っています。", "The <Crypt of the Damned> is an ancient cave where the walking dead have amassed in droves. It is the most dangerous of the three strongholds. Countless famous adventurers have lost their lives in the crypt, doomed to wander its halls for all eternity as undead.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("魔石はこの洞窟を支配する《闇の奇形イスシズル》が身に着けているはずです。死霊術使い達に崇められ、その名は大陸中で畏怖されていますが、《イスシズル》の姿や力は、全くの謎に包まれています…", "I believe that the <Dark Abomination Issizzle> rules the hallowed crypts. He is a powerful necromancer and his name is feared all across the continent. Issizzle is shrouded in mystery so I'm afraid I can't tell you much more.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				listmax = 0
				buff = lang("死者の洞窟はヴェルニースとパルミアを結ぶ街道の中ほどにあり、危険度はレシマスの２５階相当です。万全に準備を整えていく必要があるでしょう。", "The crypt of the damned is along the road that runs between Vernis and Palmia. The danger level of the crypt is roughly equivalent to the 25th floor of Lesimas. You will need to be well prepared before venturing into the crypts.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_unique
			}
			goto *label_3835
		}
		if ( flagMain == 50 ) {
			listmax = 0
			buff = lang("あなたが" + cnName(CHARA_PLAYER) + "ですね。使いの者から聞いています。私はエリステア、ネフィア迷宮群の歴史の研究に携わって来ました。今は王の命によりレシマス調査隊の副長を務めていますが、洞窟に眠る多くの謎と危険な魔物の存在のために、調査は思わしく進んでいません。あなたのような冒険者に力になってもらえると心強いです。", "You must be " + cnName(CHARA_PLAYER) + ". I've already heard some of the soldiers talking about you. My name is Erystia, and I came to Nefia in order to research the history behind the various labyrinths here. The King has placed me in charge of the expedition to investigate Lesimas. Unfortunately, due to numerous obstacles and an abundance of hostile monsters residing in the caverns, our investigation has made little, if any, progress. It would be very reassuring if we had the strength of adventurers like you backing us up.")
			list(0, listmax) = 1
			listn(0, listmax) = lang("力になる", "I will gladly pledge my strength to Palmia.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("断る", "I'm not interested.")
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( chatval == 0 ) {
				listmax = 0
				buff = lang("わかりました。考えが変わったら、また声をかけてください。", "Fair enough... but should you change your mind feel free to come back.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			listmax = 0
			buff = lang("よかった。こんなことを言っては悪いけれど、城の兵士達は機転に欠けていて、調査にはあまり役に立ってくれなかったの。", "Fantastic. I hate to admit it, but the castle's regular soldiers have been virtually useless so far...")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("私達の目的は、レシマスを探索し、最下層にあるといわれる《秘宝》を持ち帰ることです。《秘宝》の正体とレシマスについての研究はある程度進んでいます。一度に言っても覚えられないでしょうから、必要があればその度に聞いてください。", "Our objective is to penetrate to the deepest reaches of Lesimas and retrieve the <codex> hidden there. Once we know the true nature of the <codex>, we can complete our research on the ancient dungeon. You probably won't remember all this after hearing it only once, so feel free to ask me about it again.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("最初の仕事として、あなたにはある人物の探索をお願いします。男の名は《カラム》。あなたと同じように、彼もレシマス探索の協力を買って出た屈指の冒険者です。調査隊の情報源として少なからぬ貢献をしていました。しかし、彼からの音沙汰がここ数週間まったくないのです。", "Now, on to the first order of business. We need you to investigate the fate of one of our agents. His name is <Karam>. Like you, he is one of the foremost adventurers in the land. He agreed to assist with the expedition into Lesimas. He had been contributing information to the expedition's limited intelligence on the caverns. However... we haven't heard anything from him in some number of weeks.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("あなたの任務は、レシマスに赴き、《カラム》との接触を試みることです。彼から最後に連絡があったのは、レシマスの16階。おそらくは、より深層に探索の手を広げているでしょう。彼の足取りをつかみ、私に報告してください。", "Your duty will be to penetrate into Lesimas and make contact with <Karam>. In the last report we received from him, he told us he was on the 16th floor. If you can find him, perhaps we can get this excavation back on track. Godspeed, " + cnName(CHARA_PLAYER) + ", find out what happened to <Karam>.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("レシマス4階の鍵を受け取った。ジャーナルが更新された。", "You receive a key of Lesimas 4th level. Your journal has been updated.")
			flagMain = 60
			goto *label_3835
		}
		_switch_sw++
	}
	if ( _switch_val == 146 | _switch_sw ) {
		_switch_sw = 0
		if ( flagMain == 90 ) {
			flagMain = 100
			listmax = 0
			buff = lang("…貴公は？そうか、エリステアが私を探すために…見ての通り私は傷を負い、もう動くことすらできぬ。しかし、貴公のおかげで、今まで生きながらえたことに意味を見出せるようだ。", "Who's there? So... Erystia sent you to find me... as you can see I'm badly wounded. I'm pretty much screwed aren't I? But then... now that you're here maybe I won't have to die in vain after all.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("貴公にお願いする。エリステアに、私の言葉を伝えてもらいたい。信じがたいことだが、レシマスの奥深くに眠る秘宝を守護しているのは、今は亡きザシム王の従弟ゼームだ。秘宝の、いやレシマスの魔に操られているのだろうか。もはや生身の人間ではあるまい。", "I have something to ask of you. Relay this message to Erystia for me... Tell her that she must believe me when I say that the one guarding the codex in the depths of Lesimas is none other than former King Zashim's brother, Zeome. He's the one controlling the magic of the codex... or... no, not just the codex, but the whole of Lesimas. He's no longer human... he's something... more.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("それだけではない。ザナンのサイモアが秘宝を狙っていることは知っておろう。しかし、その理由は？", "But it doesn't end there... You need to know that Saimore from Zanan is also after the codex. But... why?")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("ゼームが持つ秘宝の名は《常闇の眼》。世界の真実を映すといわれている。レム・イドの終焉とシエラ・テールの始まりを説き、自身の説に莫大な支持を得ているサイモアが、今更秘宝を求めるのは何故だ？", "The codex Zeome possesses... it's called the <Origin of Vice>. They say it describes the darkness inherent in the world. But if Saimore's widely accepted story about the end of Rehm-Ido and the beginning of the era of Sierre Terre is true, then why would he be after the relic?")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("サイモアの後押しにより、エレアとの戦が始まろうとしている。異形の森がレム・イドの災厄《メシェーラ》であるというのは、果たして確かなのだろうか。そして、もしサイモアの説が偽りであるとすれば、かの者の本当の目的は？…私には悪い予感がする。", "aimore has been pushing for war against the Eleas. The truth is that Saimore's claim that the irreverent forest destroyed the world of the era of Rehm-Ido is a carefully constructed lie and that the <Meshella> are real. But then, if Saimore's theory was just a deception meant to incite a war, then what is he really after? I have a bad feeling about all of this...")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("私の役目はこれまでだ。この傷ではどうせ地上まで辿りつけまい。この報せを早く都に…貴公に運命の神の加護のあらんことを！", "My role in this saga is at an end... I'll never make it out with these injuries... Deliver my message to the capital quickly... and may the gods of fate watch over you...")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			repeat 4
				flt calcobjlv(gLevel ), calcfixlv(FIX_QUALITY_GOOD)
				flttypemajor = fltsetdungeon()
				itemcreate -1, ITEM_ID_DUMMY, cX(tc), cY(tc), 0
			loop
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(tc), cY(tc), 1000 + rnd(200)
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(tc), cY(tc), 3
			flt
			itemcreate -1, ITEM_ID_BEJEWELED_CHEST, cX(tc), cY(tc), 0
			iParam2(ci) = 0
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			txt -1, lang(cnName(tc) + "は自ら命を絶った…", cnName(tc) + " kills himself...")
			chara_vanquish tc
			goto *label_3835
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 3 | _switch_sw ) {
		_switch_sw = 0
		if ( areaId(gArea ) == AREA_DUNGEON ) {
			if ( ogEventHeadMaidPutit >= 1 & ogEventHeadMaidPutit < 1000 ) {
				listmax = 0
				buff = lang("（矢が刺さったような傷がある。かなり衰弱しているようだ）", "(There's a wound which appears to have been stabbed by an arrow. It appears very weak.)")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			if ( ogEventHeadMaidPutit == 1000 ) {
				if ( getgametime() >= cRoleRestock(tc) ) {
					flt
					flttypemajor = fsetincome(rnd(length(fsetincome)))
					itemcreate -1, ITEM_ID_DUMMY, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
					txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
					cRoleRestock(tc) = getgametime() + 168
					listmax = 0
					buff = lang("（" + name(tc) + "は何かを拾ってきたようだ）", "(" + name(tc) + " seems to have picked up something.)")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *label_3835
				}
				else {
					listmax = 0
					buff = lang("（" + name(tc) + "はころころと転がっている）", "(" + name(tc) + " is rolling and rolling.)")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *label_3835
				}
			}
		}
	}
	if ( _switch_val == 205 | _switch_sw ) {
		_switch_sw = 0
		if ( ogDungeonEventFlag == 0 & ogEventHeadMaidPutit == 0 & ogDungeonStayersTotal > 5 ) {
			listmax = 0
			buff = lang("あっ！" + _syujin(cSex(CHARA_PLAYER)) + "！と、とと特に変わったことはない" + _yo(2), "Ah! " + cnven(_syujin(cSex(CHARA_PLAYER))) + "! T-t-there's nothing to report in particular.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = lang("…あやしい", "...suspicious")
			listmax++
			chatesc = 1
			gosub *label_3836
			ogEventHeadMaidPutit = 1
			ogDungeonEventFlag = 1
			cRoleRestock(tc) = getgametime() + 72
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ogEventHeadMaidPutit == 1 ) {
			if ( getgametime() >= cRoleRestock(tc) ) {
				list(0, listmax) = 1
				listn(0, listmax) = lang("問い詰める", "Inquire.")
				listmax++
				list(0, listmax) = 0
				listn(0, listmax) = lang("問い詰めない", "Don't question.")
				listmax++
				chatesc = 1
				buff = lang("うわっ！…な、何でもない！何も隠してなんかいない" + _yo(2), "Ahhh! ...It's n-nothing! There's nothing hidden here.")
				gosub *label_3836
				if ( chatval != 1 ) {
					listmax = 0
					buff = lang("きょ、今日も特に変わったことはない" + _yo(), "T-there was nothing in particular today.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *label_3835
				}
				listmax = 0
				buff = lang("うう…実は……", "Um... actually...")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				txt -1, lang(name(tc) + "の後ろから何かが現れた。", "Something appears in the back of " + name(tc) + ".")
				flt
				characreate -1, CREATURE_ID_PUTIT, cX(tc), cY(tc)
				cQuality(rc) = FIX_QUALITY_UNIQUE
				cRelation(rc) = RELATION_NEUTRAL
				cOrgRelation(rc) = RELATION_NEUTRAL
				cRole(rc) = ROLE_CITIZEN
				faction(rc) = ""
				addfaction rc, "family,man"
				addfaction rc, "align,neutral"
				addfaction rc, "god,eyth"
				ogEventHeadMaidPutit = 2
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			else {
				listmax = 0
				buff = lang("（" + name(tc) + "は機嫌が良さそうに見える）", "(" + name(tc) + " looks to be in a good mood.)")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
		}
		if ( ogEventHeadMaidPutit == 2 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("いい", "Yes.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("だめ", "No.")
			listmax++
			chatesc = 1
			theputit = findchara(CREATURE_ID_PUTIT, 6)
			if ( theputit == 0 ) {
				theputit = -1
			}
			buff = lang("何日か前に外から入ってきた" + _nda(3) + "…。怪我をして弱っているようだし、放っておけなくて…。ねえ、" + _syujin(cSex(CHARA_PLAYER)) + "。この子、ここで飼っちゃだめ" + _kana(1), "A few days ago " + he(theputit) + " came in from outside... It was hurt and badly injured and I just couldn't leave " + him(theputit) + " alone... " + cnven(_syujin(cSex(CHARA_PLAYER))) + ". Would you be willing to give " + him(theputit) + " a home?")
			gosub *label_3836
			if ( chatval != 1 ) {
				list(0, listmax) = 1
				listn(0, listmax) = lang("いい", "Yes.")
				listmax++
				list(0, listmax) = 0
				listn(0, listmax) = lang("だめ", "No.")
				listmax++
				chatesc = 1
				buff = lang("そんな！ちゃんと街のみんなのことは食べないように躾けるから！", "Please! I'll even train " + him(theputit) + " to make sure not to eat anyone in our town!")
				gosub *label_3836
				if ( chatval != 1 ) {
					listmax = 0
					buff = lang("ひどい…", "How cruel...")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					locvar_findchara_p = 0
					repeat 245 - 57, 57
						if ( cExist(cnt) != CHAR_STATE_SPIRIT ) {
							if ( cExist(cnt) != CHAR_STATE_ALIVE ) {
								continue
							}
						}
						if ( cQuality(cnt) != FIX_QUALITY_UNIQUE ) {
							continue
						}
						if ( cId(cnt) == CREATURE_ID_PUTIT ) {
							locvar_findchara_p = cnt
							break
						}
					loop
					txt -1, lang("プチはどこかに去って行ってしまった…", "The putit went somewhere else...")
					chara_vanquish locvar_findchara_p
					ogEventHeadMaidPutit = 1000
					ogDungeonEventFlag = 0
					cRoleRestock(tc) = 0
					modimp tc, -40
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *label_3835
				}
				listmax = 0
				buff = lang("本当" + _ka(2) + _thanks(3) + "、" + _syujin(cSex(CHARA_PLAYER)) + "！", "Really? Thank you, " + cnven(_syujin(cSex(CHARA_PLAYER))) + "!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				ogEventHeadMaidPutit = 3
				cRoleRestock(tc) = getgametime() + 72
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			listmax = 0
			buff = lang("本当" + _ka(2) + _thanks(3) + "、" + _syujin(cSex(CHARA_PLAYER)) + "！", "Really? Thank you, " + cnven(_syujin(cSex(CHARA_PLAYER))) + "!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			ogEventHeadMaidPutit = 3
			cRoleRestock(tc) = getgametime() + 72
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ogEventHeadMaidPutit == 3 ) {
			if ( getgametime() >= cRoleRestock(tc) ) {
				list(0, listmax) = 1
				listn(0, listmax) = lang("分かった", "Alright.")
				listmax++
				list(0, listmax) = 0
				listn(0, listmax) = lang("いやだ", "No.")
				listmax++
				buff = lang("困った" + _na(3) + "…なかなかプチの怪我が治らない" + _yo() + _syujin(cSex(CHARA_PLAYER)) + "、申し訳ない" + _ga(3) + "、どこかでジュア様の癒しの力を持つポーションを調達してきてくれない" + _ka(1), "This is rather troubling... " + cnven(_syujin(cSex(CHARA_PLAYER))) + ", putit's injuries are not healing well. I'm sorry to ask this from you, but would it be possible to acquire a healing potion that contains Jure's healing power?")
				gosub *label_3836
				if ( chatval != 1 ) {
					listmax = 0
					buff = lang("ひどい…", "How cruel...")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *label_3835
				}
				listmax = 0
				buff = lang(_thanks(2) + "では、" + _yoro(), "Thank you. I look forward to it.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				ogEventHeadMaidPutit = 4
				goto *label_3835
			}
			else {
				listmax = 0
				buff = lang("（" + name(tc) + "は機嫌が良さそうに見える）", "(" + name(tc) + " looks to be in a good mood.)")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
		}
		if ( ogEventHeadMaidPutit == 4 ) {
			inv_getheader 0
			f = 0
			repeat invrange, invhead
				if ( iNum(cnt) > 0 ) {
					if ( iID(cnt) == ITEM_ID_POTION_SACRED_HEALER_JURE ) {
						iNum(cnt)--
						f = 1
						txt -1, lang(name(tc) + "に" + itemname(cnt, 1) + "を渡した。", "You handed " + itemname(cnt, 1) + " to " + name(tc) + ".")
						break
					}
				}
			loop
			if ( f ) {
				listmax = 0
				buff = lang(_thanks() + "これできっとプチの怪我もよくなるはず" + _da(), "Thank you. With this, the putit's injuries should be getting better now.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				ogEventHeadMaidPutit = 5
				cRoleRestock(tc) = getgametime() + 72
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
			}
			if ( f == 0 ) {
				listmax = 0
				buff = lang("早めに" + _tanomu(), "Please hurry.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
			}
			gosub *label_1681
			goto *label_3835
		}
		if ( ogEventHeadMaidPutit == 5 ) {
			if ( getgametime() >= cRoleRestock(tc) ) {
				flt
				nostack = 1
				itemcreate -1, ITEM_ID_SMALL_MEDAL, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 5
				flt
				itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 5000
				flt
				itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 3
				txt -1, lang("クエストを達成した！", "You have completed the quest!")
				snd SOUNDLIST_COMPLETE1
				txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
				listmax = 0
				buff = lang(_syujin(cSex(CHARA_PLAYER)) + "のおかげで無事にプチの怪我も回復した" + _yo() + "これは少ないけどお礼" + _da() + "貰っておいて" + _kure(), _syujin(cSex(CHARA_PLAYER)) + ", thanks to you the putit has successfully recovered from its injuries. Although small, please accept this as a token of my thanks.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				ogEventHeadMaidPutit = 1000
				ogDungeonEventFlag = 0
				cRoleRestock(tc) = 0
				goto *label_3835
			}
			else {
				listmax = 0
				buff = lang("（" + name(tc) + "は機嫌が良さそうに見える）", "(" + name(tc) + " looks to be in a good mood.)")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
		}
		if ( ogDungeonEventFlag == 0 & ogEventDungeonAlien == 0 & ogDungeonStayersTotal > 15 ) {
			listmax = 0
			buff = lang(_syujin(cSex(CHARA_PLAYER)) + "！" + _syujin(cSex(CHARA_PLAYER)) + "！" + "街のみんなの様子が変なの" + _da() + "少し見てきてくれない" + _ka(1), _syujin(cSex(CHARA_PLAYER)) + "! " + cnven(_syujin(cSex(CHARA_PLAYER))) + "! Everyone in this town has been acting rather odd lately. Could you please investigate this matter?")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			areaMinLevel(gArea ) = 0
			ogEventDungeonAlien = 1
			ogDungeonEventFlag = 1
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ogEventDungeonAlien == 1 ) {
			listmax = 0
			buff = lang("早く様子を見てきて" + _kure(), "Please look into the situation as soon as possible.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ogEventDungeonAlien == 2 ) {
			listmax = 0
			buff = lang(_syujin(cSex(CHARA_PLAYER)) + "、大変" + _da(2) + "どうやら街にエイリアンが侵入してみんなに寄生してしまったよう" + _da() + "", _syujin(cSex(CHARA_PLAYER)) + ", there is a serious problem. Aliens have invaded our town and proceeded to impregnate everyone.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			list(0, listmax) = 1
			listn(0, listmax) = lang("行く", "Go.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("行かない", "Don't go.")
			listmax++
			buff = lang("調査したところ、どうやら地下に巣を作って大繁殖しているらしい" + _nda() + "恐らくそこにいるであろう女王を倒して、エイリアンを全滅させてきてくれない" + _ka(1), "From prior investigation, a nest used as large breeding gounds has been spotted underground. Will you exterminate the aliens and defeat its queen?")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("そんな！この街のためにも" + _tanomu(2), "Please! Do it for this town, I beg of you.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			listmax = 0
			buff = lang(_thanks(2) + "では、準備ができたら声をかけて" + _kure() + "地下まで案内する" + _yo(), "Thank you. Then please call me when you are ready. I'll be guiding you to the basement.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			ogEventDungeonAlien = 3
			goto *label_3835
		}
		if ( ogEventDungeonAlien == 3 | ogEventDungeonAlien == 4 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("いい", "Yes.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("だめ", "No.")
			listmax++
			buff = lang(_syujin(cSex(CHARA_PLAYER)) + "、準備はいい" + _kana(1), _syujin(cSex(CHARA_PLAYER)) + ", are you ready?")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("早めに" + _tanomu(), "Please hurry.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			listmax = 0
			buff = lang("では、" + _yoro(), "I look forward to it.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			ogEventDungeonAlien = 4
			mDownStairPos = cY(CHARA_PLAYER) * 1000 + cX(CHARA_PLAYER)
			gTeleportArea = gArea 
			gTeleportLevel = 0
			gReturnLevel = gLevel 
			levelexitby = MAP_EXIT_TELEPORT
			chatteleport = 1
			goto *label_3835
		}
		if ( ogEventDungeonAlien == 5 ) {
			flt
			nostack = 1
			itemcreate -1, ITEM_ID_MATERIAL_KIT, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			fixmaterial = ITEM_MATERIAL_GRIFFON
			gosub *remake_material
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 50000
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 5
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			listmax = 0
			buff = lang("お疲れ様" + _da(3) + "、" + _syujin(cSex(CHARA_PLAYER)) + "。街のみんなに寄生したエイリアンは溶かしておいた" + _yo() + "さっき巣だった場所を掃除していたらこんなものが出てきた" + _nda() + "報酬として貰っておいたらいいんじゃない" + _kana(), "Thank you very much, " + _syujin(cSex(CHARA_PLAYER)) + ". Al signs of infection frm citizens has been wiped clean. I found this while cleaning up what was left of the nest. It may be better to keep this as part of the reward.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("それと、これは" + _ore(3) + "から" + _da() + "大事にして" + _kure(), "Also, this is from me. Please take care.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			flt 0, FIX_QUALITY_GODLY
			itemcreate -1, ITEM_ID_PANTY, cX(tc), cY(tc), 0
			txt -1, lang(name(tc) + "の足元に何かが落ちた。", "Something falls at " + name(tc) + "'s feet.")
			ogEventDungeonAlien = 1000
			ogDungeonEventFlag = 0
			goto *label_3835
		}
		if ( ogDungeonEventFlag == 0 & ogEventDungeonAlien == 1000 & ogDungeonStayersTotal > 30 & ncgHerbMerchant == 0 & ogTitleChampionOfTheLabyrinths != 0 ) {
			listmax = 0
			list(0, listmax) = 1
			listn(0, listmax) = lang("わかった", "OK.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("やだ", "Nope.")
			listmax++
			buff = lang(_syujin(cSex(CHARA_PLAYER)) + "！" + _syujin(cSex(CHARA_PLAYER)) + "！" + "街の評判を聞きつけて、遠い地からハーブを専門とする商人がここに移住してきてくれた" + _yo() + "……だけど、その商人はこちらに来る途中でエーテル病を発症してしまって体調が悪いらしい" + _nda() + _syujin(cSex(CHARA_PLAYER)) + "、商人のエーテル病を治すために*エーテル抗体のポーション*を5本調達してきてくれない" + _kana(), "Hearing of the city's reputation, a merchant specializing in herbs from a distant land has settled here, but I heard that the herb merchant is sick with etheric disease, so could you please get me five greater cure corruption?")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("ひどい…", "Please!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			listmax = 0
			buff = lang(_thanks(2) + "では、" + _yoro(), "Thank you. I look forward to it.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			ncgHerbMerchant = 1
			ogDungeonEventFlag = 1
			goto *label_3835
		}
		if ( ncgHerbMerchant == 1 & ogDungeonEventFlag == 1 ) {
			if ( get_freechara() == (-1) ) {
				listmax = 0
				buff = lang("あ、" + _syujin(cSex(CHARA_PLAYER)) + "。ハーブ商人を迎えるスペースが足りない" + _yo(), "Ah, " + _syujin(cSex(CHARA_PLAYER)) + ". Not enough space to welcome herb merchant.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			inv_getheader 0
			f = 0
			repeat invrange, invhead
				if ( iNum(cnt) > 4 ) {
					if ( iID(cnt) == ITEM_ID_POTION_OF_GREATER_CURE_CORRUPTION ) {
						iNum(cnt) -= 5
						f = 1
						txt -1, lang(name(tc) + "に" + itemname(cnt, 1) + "を渡した。", "You handed " + itemname(cnt, 1) + " to " + name(tc) + ".")
						break
					}
				}
			loop
			if ( f ) {
				listmax = 0
				buff = lang(_thanks() + "これで問題なく商人のエーテル病を治せるはず" + _da() + "それと、商人がお礼を用意してくれたから受け取って" + _kure(), "Thank you.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				txtef COLOR_GREEN
				txt -1, lang("クエストを達成した！", "You have completed the quest!")
				flt
				itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 100000
				flt
				itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 10
				if ( stat ) {
					txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
				}
				snd SOUNDLIST_COMPLETE1
				characreate -1, CREATURE_ID_SHOPKEEPER, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
				cRole(rc) = ROLE_SHOP_HERB_MERCHANT
				cRoleShopLv(rc) = 10
				cnName(rc) = "ハーブ専門店の" + cnName(rc)
				txtef COLOR_GREEN
				txt -1, "" + cnName(rc) + lang("が街に移住した！", " have settled here!")
				ncgHerbMerchant = 1000
				ogDungeonEventFlag = 0
				ogDungeonStayersTotal++
				ogdata(gLevel )++
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
			}
			if ( f == 0 ) {
				listmax = 0
				buff = lang("早めに" + _tanomu(), "Please hurry.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
			}
			gosub *label_1681
			goto *label_3835
		}
		if ( ogDungeonEventFlag == 0 ) {
			if ( ogEventHeadMaidPutit == 1000 & ogEventDungeonAlien == 0 & ogDungeonStayersTotal <= 15 ) {
				subquestrequirement lang("住民が15人よりも多い", "Residents 16+")
			}
			if ( ogEventHeadMaidPutit == 1000 & ogEventDungeonAlien == 1000 & ncgHerbMerchant == 0 & (ogDungeonStayersTotal <= 30 | ogTitleChampionOfTheLabyrinths != 0) ) {
				subquestrequirement lang("住民が30人よりも多い+ネフィアの迷宮「レシマス」を制覇", "Residents 31+ and Conquer Lesimas")
			}
			listmax = 0
			buff = lang("あ、" + _syujin(cSex(CHARA_PLAYER)) + "。特に変わったことはない" + _yo(), "Ah, " + _syujin(cSex(CHARA_PLAYER)) + ". There is nothing in particular to report.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
	}
	if ( _switch_val == 208 | _switch_sw ) {
		_switch_sw = 0
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		buff = lang("見て分からんか、わしゃ忙しいんじゃ。用があるなら手短にな。", "Don't you see I'm busy!")
		gosub *label_3836
		if ( chatval == 1 ) {
			invctrl = INVCTRL_INFO
			snd SOUNDLIST_POP2
			gosub *label_2391
			goto *chat_unique
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 209 | _switch_sw ) {
		_switch_sw = 0
		if ( cRole(tc) == ROLE_SHOP_MIROK ) {
			list(0, listmax) = 2
			listn(0, listmax) = lang("小さなメダル", "I have some small medals.")
			listmax++
		}
		list(0, listmax) = 3
		listn(0, listmax) = lang("荷車の改造", "Can you upgrade my cart?")
		listmax++
		if ( cRole(tc) == ROLE_SHOP_MIROK & ogTitleTheEnd == 2 ) {
			list(0, listmax) = 4
			listn(0, listmax) = lang("合成素材が欲しい", "I went Material.")
			listmax++
		}
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		buff = lang("ほほう、客人とはこれまた珍しい。暖かい飯でも馳走してさしあげたいが、あいにくと今日の飯番はガロクでの。あやつの作る料理は自らの作品に似て、なんとも無骨で味気ない。とても客人に楽しんでもらえる代物じゃないのう。まぁ、せっかくこんな辺境の地にまで、やって来なさったんだ。何か用件があれば、話だけは聞こうじゃないか。", "Oh oh, what we got, talk about rare! A traveler? I would have given you a feast if it were not Garok that handles today's dinner. You know, his cooking is as loutish as his creations. Oh well, you've come all the way here, what can I do for you?")
		gosub *label_3836
		if ( chatval == 2 ) {
			listmax = 0
			buff = lang("おお、小さなメダルを持っておるのか？メダルの収集は、わしの生きがいなんじゃよ！これまでに生産してきた自慢の品の数々と交換せぬか？", "Ho ho ho! You got small medals! Let me see, let me see! Would you like to trade them for one of my proud works?")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			invctrl = INVCTRL_METAL
			invfile = cRoleFileId(tc)
			gosub *shop
			screenupdate = -1
			gosub *screen_draw
			cs = 0
			goto *chat_unique
		}
		if ( chatval == 3 ) {
			listmax = 0
			buff = lang("荷車の改造とな。たいして気乗りのする仕事ではないが、そうじゃの、小さなメダル" + calccargoupdatecost() + "枚をくれるならやらんでもない。", "Upgrade your cart? It's not something I get excited about but if you can give me " + calccargoupdatecost() + " small medals, I'll think about it.")
			item_find ITEM_ID_SMALL_MEDAL, ITEM_FIND_MODE_DBID, ITEM_FIND_LOCATION_CHARAS
			if ( stat != (-1) ) {
				ci = stat
				if ( iNum(ci) >= calccargoupdatecost() ) {
					list(0, listmax) = 1
					listn(0, listmax) = lang("メダルを渡す", "Here, take these medals.")
					listmax++
				}
			}
			list(0, listmax) = 0
			listn(0, listmax) = lang("断る", "I think not.")
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("ふぅん。", "Huh.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_unique
			}
			txtnew
			txt -1, lang("荷車の重量の限界が" + cnvweight(calccargoupdate()) + "上昇した。", "Your cart's weight limit has increased by " + cnvweight(calccargoupdate()) + ".")
			snd SOUNDLIST_BUILD1
			iNum(ci) -= calccargoupdatecost()
			gCargoLimit += calccargoupdate()
			gosub *label_1681
			listmax = 0
			buff = lang("ほい。", "Here you are.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_unique
		}
		if ( chatval == 4 ) {
			listmax = 0
			buff = lang("ふぅむ、まぁお前さんには長い間世話になっとるからの。小さなメダル10,000枚をくれるのなら交換してやらんでもない。", "If you give me 10,000 small medals, I'll trade you.")
			item_find ITEM_ID_SMALL_MEDAL, ITEM_FIND_MODE_DBID, ITEM_FIND_LOCATION_CHARAS
			if ( stat != (-1) ) {
				nc_intb_002 = stat
				if ( iNum(nc_intb_002) >= 10000 ) {
					list(0, listmax) = 1
					listn(0, listmax) = lang("メダルを渡す", "Here, take these medals.")
					listmax++
				}
			}
			list(0, listmax) = 0
			listn(0, listmax) = lang("断る", "I think not.")
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("ふぅん。", "Huh.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_unique
			}
			else {
				txt -1, lang("エンチャントを複製したいランダムアーティファクトを選ぼう。", "Choose a random artifact that you want to duplicate the enchantment on.")
				invctrl = INVCTRL_MATERIAL_ENCHANT, 0
				snd SOUNDLIST_INV
				gosub *label_2974
				nc_intb_001 = stat
				if ( nc_intb_001 == 0 ) {
					listmax = 0
					buff = lang("ふぅん。", "Huh.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
				if ( iQuality(ci) <= FIX_QUALITY_GREAT | iQuality(ci) == FIX_QUALITY_UNIQUE | ibit(ITEM_BIT_ALIVE, ci) == TRUE ) {
					txt -1, lang("そのアイテムに使用することは出来ない。", "This item leaves no room for improvement.")
					listmax = 0
					buff = lang("ふぅん。", "Huh.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
				reftype = refitem(iID(ci), DBSPEC_TYPE, ci)
				listmax = 0
				repeat 15
					if ( inv(STARTING_INV_ITEM_ENCHANT + cnt * 2, ci) == 0 ) {
						break
					}
					list(0, listmax) = rtval, rtval(1)
					val = inv(STARTING_INV_ITEM_ENCHANT + cnt * 2, ci), inv(STARTING_INV_ITEM_ENCHANT_POWER + cnt * 2, ci), 0, reftype
					getencproc encprocref2, ci, val
					gosub *item_encdetail
					promptl(0, promptmax) = s, "null", "" + promptmax
					promptmax++
					listmax++
				loop
				if ( listmax > 0 ) {
					txt -1, lang("複製したいエンチャントを選ぼう。", "Choose the enchantments you want to duplicate.")
					val = promptx, prompty, 600, 1
					gosub *prompt_key
					if ( rtval == (-1) ) {
						listmax = 0
						buff = lang("ふぅん。", "Huh.")
						tc = tc * (0 == 0) + (0 != 0) * 0
						list(0, listmax) = 0
						listn(0, listmax) = strmore
						listmax++
						chatesc = 1
						gosub *label_3836
						if ( scenemode ) {
							if ( scene_cut == 1 ) {
								goto *label_3835
							}
						}
						goto *chat_unique
					}
					else {
						iNum(nc_intb_002) -= 10000
						nc_intb_003 = inv(STARTING_INV_ITEM_ENCHANT_POWER + rtval * 2, ci)
						nc_intb_004 = inv(STARTING_INV_ITEM_ENCHANT + rtval * 2, ci)
						itemcreate -1, ITEM_ID_GAROKS_HAMMER, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
						repeat 15
							inv(STARTING_INV_ITEM_ENCHANT_POWER + cnt * 2, ci) = 0
							inv(STARTING_INV_ITEM_ENCHANT + cnt * 2, ci) = 0
						loop
						inv(STARTING_INV_ITEM_ENCHANT_POWER + 0 * 2, ci) = nc_intb_003
						inv(STARTING_INV_ITEM_ENCHANT + 0 * 2, ci) = nc_intb_004
						iSubName(ci) = 50501
						txt -1, lang("足元に" + itemname(ci) + "が転がってきた。", "" + itemname(ci) + " appear" + _s2(iNum(ci)) + ".")
						snd SOUNDLIST_BUILD1
						listmax = 0
						buff = lang("ほい。", "Here you are.")
						tc = tc * (0 == 0) + (0 != 0) * 0
						list(0, listmax) = 0
						listn(0, listmax) = strmore
						listmax++
						chatesc = 1
						gosub *label_3836
						if ( scenemode ) {
							if ( scene_cut == 1 ) {
								goto *label_3835
							}
						}
						goto *chat_unique
					}
				}
				else {
					txt -1, lang("その装備にエンチャントは存在しない。", "There is no enchantment on the equipment.")
					listmax = 0
					buff = lang("ふぅん。", "Huh.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
			}
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 221 | _switch_sw ) {
		_switch_sw = 0
		if ( sqMother == 1000 ) {
			if ( gArea  == AREA_NOYEL & areaFestival(gArea ) ) {
				listmax = 0
				buff = lang("おかあさん、なんだか今日はいつもより元気そう！お祭りは人がたくさん来るから嫌いだけど、おかあさんにもジュア様の加護があるといいな。", "Mommy looks to be in a good condition today. I hate the festival because there are so many people out there but I hope St.Jure will watch over her!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			listmax = 0
			buff = lang("どうして、おかあさんはあんなに悲しそうなの？顔はかわっても、あたしのおかあさんだよ。お友達もきっとわかってくれる…わかってくれないんなら…お友達なんていらない！…あたしはお母さんとずっといっしょにいるんだもん。", "Why does mommy look so sad? Her face has changed but she's still my mommy. I know my friends will understand too... and if they don't then they're no friends of mine! I'll always be by her side. Always.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqMother == 1001 ) {
			listmax = 0
			buff = lang("消えて！二度と顔をみせないで！！ばかぁ！", "Go away! Never come back again! Bastard!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqMother == 1002 ) {
			listmax = 0
			buff = lang("おかあさん…どこにいっちゃったのぉ…", "Mommy... where have you gone mommy?")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqMother == 0 ) {
			buff = lang("おかあさんがひどい病気で…お医者さんはエーテル病だから手に負えないって…", "Mommy is really sick... but the doctor said she has the ether plague and he can't do anything...")
			gosub *sqMother_1
			if ( stat == 0 ) {
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			sqMother = 1
			goto *label_3835
		}
		if ( sqMother == 1 | sqMother == 3 ) {
			listmax = 0
			buff = lang("おかあさん、はやく良くなるといいな♪", "I hope mommy gets better soon!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqMother == 5 | sqMother == 7 ) {
			listmax = 0
			buff = lang("" + cnName(CHARA_PLAYER) + "さん、大好き〜。おかあさん、どんどん元気になってるよ♪", "Thanks " + cnName(CHARA_PLAYER) + ", you're the best! Mommy's getting better and better.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqMother == 2 | sqMother == 4 ) {
			buff = lang("あ…" + cnName(CHARA_PLAYER) + "さん。おかげで、おかあさんの身体も良くなっています。でもまだ、もとどおりに元気になるには時間がかかるみたいなの…", "Ah, hi " + cnName(CHARA_PLAYER) + ". Thanks to you Mommy's been getting better! But... it still looks like she needs more time before she's really healthy.")
			gosub *sqMother_1
			if ( stat == 0 ) {
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			sqMother++
			goto *label_3835
		}
		if ( sqMother == 6 ) {
			buff = lang("おかあさん、最近すごく調子いいの！お医者さんも、もう大丈夫だろうって。最近は、近所の子供達もお見舞いに来てくれるんだよ。はやく、おかあさんやみんなと遊びたいな〜。", "Mommy looks a lot better these days! The doctor said she's gonna be okay. Even the other kids have come to visit her in the past few weeks. I want mommy to be able to play with us soon...")
			gosub *sqMother_1
			if ( stat == 0 ) {
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			sqMother++
			goto *label_3835
		}
		if ( sqMother == 8 ) {
			buff = lang("" + cnName(CHARA_PLAYER) + "さん…おかあさんが…！おかあさんが…急に具合が悪くなって…身体がおかしくなって…あぁ…神様…", "" + cnName(CHARA_PLAYER) + "! It's mommy... something's wrong! Suddenly she started acting strange and... now her body is changing and... oh gods...")
			gosub *sqMother_1
			if ( stat == 0 ) {
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			sqMother++
			goto *label_3835
		}
		if ( sqMother == 9 ) {
			listmax = 0
			buff = lang("おかあさん…大丈夫？…大丈夫？…あぁぁ…", "Mommy! Mommy are you okay? Mommy?")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqMother == 10 ) {
			listmax = 0
			buff = lang("おかあさんが…" + cnName(CHARA_PLAYER) + "さんにお話があるって…", "" + cnName(CHARA_PLAYER) + ", mommy has something to say to you.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 222 | _switch_sw ) {
		_switch_sw = 0
		if ( sqMother == 1002 ) {
			listmax = 0
			buff = lang("ひどいわ。", "You are cruel.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqMother == 10 ) {
			listmax = 0
			buff = lang("" + cnName(CHARA_PLAYER) + "さん…こんな姿でごめんなさい…どうか、怖がらないで…逃げないで…。私の病気は、もう手遅れだったようです。この醜い身体が元に戻ることは…もうないでしょう。", "" + cnName(CHARA_PLAYER) + ", I'm sorry you have to see me this way... please don't turn away... don't run. It seems my disease has already progressed too far... my twisted and hideous body... I can never return to normal... the disease is too advanced now.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("病気は治りませんでしたが、あなたがして下さった全ての事に感謝します。ええ、無駄ではなかったの。だって、おかげでパエルに、あんないいお友達がたくさんできたんだもの。", "Even though you couldn't cure me, you have my thanks for all that you've done. It was... your efforts were not in vain. You helped Pael make a lot of friends... surely that counts for something.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			flt
			itemcreate -1, ITEM_ID_HAPPY_APPLE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 20000
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 4
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("これは少ないですが、私の感謝の気持ちです。受け取ってくださいな。", "This isn't much, I know, but it's the least I can do. Please accept these gifts.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqMother = 1000
			cbitmod CHARA_BIT_SHUT_UP, tc, TRUE
		}
		if ( sqMother == 1000 ) {
			if ( gArea  == AREA_NOYEL & areaFestival(gArea ) ) {
				buff = lang("ああ、もうこんな時期になったのね。パエルったら、私のことなんか気にせずお祭りを楽しんでくればいいのに。元気な頃は、よく二人でジュア様の像にお参りしていたのよ。", "Oh, it's already this time of the year. Poor Pael, she should stop worrying about me and go to the festival. We used to visit the St.Jure's statue and pray together around this time.")
				inv_find ITEM_ID_POTION_CURE_CORRUPTION, CHARA_PLAYER
				invret = stat
				inv_find ITEM_ID_POTION_OF_GREATER_CURE_CORRUPTION, CHARA_PLAYER
				invret += stat
				if ( invret != (-2) ) {
					list(0, listmax) = 2
					listn(0, listmax) = lang("エーテル抗体を1本渡す", "(Give her a potion of cure corruption.)")
					listmax++
				}
				list(0, listmax) = 0
				listn(0, listmax) = lang("お元気で", "Take care.")
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( chatval == 2 ) {
					inv_find ITEM_ID_POTION_CURE_CORRUPTION, CHARA_PLAYER
					if ( stat == (-1) ) {
						inv_find ITEM_ID_POTION_OF_GREATER_CURE_CORRUPTION, CHARA_PLAYER
					}
					iNum(stat)--
					txt -1, lang("エーテル抗体を1本渡した。", "You hand her a potion.")
					snd SOUNDLIST_EQUIP1
					modkarma 0, 20
					listmax = 0
					buff = lang("ありがとうございます。あなたは本当に優しい心の持ち主ね。ジュア様のご加護があるのかしら、なんだか聖夜祭の間はお薬がよく効く気がするわ。", "Oh, thank you. You have a very kind heart, you know. The potion, I feel like the medicine is working better during the festival. Maybe it's the blessing of St.Jure?")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *label_3835
				}
				listmax = 0
				buff = lang("いつもお見舞いに来てくれてありがとう…どうぞ、聖夜祭を楽しんで行ってください。", "Thanks for coming to see me. Please enjoy yourself at the festival during your stay.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
		}
		if ( sqMother == 1000 ) {
			listmax = 0
			buff = lang("…" + cnName(CHARA_PLAYER) + "さん、あなたに最後のお願いがあります。この短剣で、私の胸を貫いてください。うふふ、だって、この姿がばれてしまったら、せっかくできたパエルの友達が逃げてしまうじゃない。あの子が幸せになれるなら、私は…", "" + cnName(CHARA_PLAYER) + ", I have... I have one final request. Take this knife and... *weep*. If Pael's friends saw me like this, they'd run in fear and treat her with fear and suspicion. As long as she can be happy, I...")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			buff = lang("こんなこと、あなたにだから頼めるのよ。どうか、この苦しみを終わらせてください…", "Please, I'm begging you. Please put me out of my misery...")
			inv_find ITEM_ID_POTION_CURE_CORRUPTION, CHARA_PLAYER
			invret = stat
			inv_find ITEM_ID_POTION_OF_GREATER_CURE_CORRUPTION, CHARA_PLAYER
			invret += stat
			if ( invret != (-2) ) {
				list(0, listmax) = 2
				listn(0, listmax) = lang("エーテル抗体を1本渡す", "(Give her a potion of cure corruption.)")
				listmax++
			}
			list(0, listmax) = 1
			listn(0, listmax) = lang("息の根を止める", "(End her life.)")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("希望はまだある", "There's still hope.")
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( chatval == 1 ) {
				listmax = 0
				buff = lang("あぁ…ありがとう。ありがとう…", "Th-thank you... thank...")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				evadd EVENT_KILL_MOTHER, tc
				goto *label_3835
			}
			if ( chatval == 2 ) {
				inv_find ITEM_ID_POTION_CURE_CORRUPTION, CHARA_PLAYER
				if ( stat == (-1) ) {
					inv_find ITEM_ID_POTION_OF_GREATER_CURE_CORRUPTION, CHARA_PLAYER
				}
				iNum(stat)--
				txt -1, lang("エーテル抗体を1本渡した。", "You hand her a potion.")
				snd SOUNDLIST_EQUIP1
				modkarma 0, 20
				listmax = 0
				buff = lang("そんなものいくら飲んでも、元には戻らないのに…そんなもの…ありがとう…", "No matter how many I drink, my body won't return to normal... thank you though...")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			listmax = 0
			buff = lang("あ、あなたは、私にこんな姿で生き続けろというの？世の中には、希望なんて便利な言葉で片付けられない苦しみがたくさんあることを、あなたはわかっているのかしら。…ごめんなさい、きついことをいって。あなたの考えが変わるのをまっているわ。", "You... you would force me to keep living like this? You'll find there's much suffering and pain in this world that you can't heal with such optimistic words. I'm sorry... I'm sure you know that well, but... I'll be waiting for you to change your mind.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqMother > 7 ) {
			listmax = 0
			buff = lang("う…けほっ、けほっ。ごめん…なさい…気分が悪いの…はぁ…はぁ…", "*cough* *cough* I'm... sorry... I don't... feel well... *huff* *huff*")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqMother > 5 ) {
			listmax = 0
			buff = lang("" + cnName(CHARA_PLAYER) + "さん、いらっしゃい。え？嬉しそうな顔をしてる？…うふふ、この前ね、パエルが家の外に大きな雪だるまを作ってくれたのよ。「お友達と一緒に作ったの」って、あんな嬉しそうな顔は、あの子の父親が死んでしまって以来見ていないわ。あのパエルの作った雪だるまを窓から見てるとね、とても幸せな気分になるのよ。", "It's good to see you, " + cnName(CHARA_PLAYER) + ". Hmm? You say I look happy? Hehe, just before you arrived Pael made a snowman outside. She said she made it with her friends. I haven't seen her smile like that since her father died. When I see that snowman through the window, I feel a joy I cannot describe to you.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqMother > 3 ) {
			listmax = 0
			buff = lang("いつもありがとうございます。薬のおかげで、だいぶ痛みも引いてきました。身体が元気になったら、あの子と思う存分遊んであげたいわ…そうそう、最近では、近所の子供達が何人か見舞いに来てくれるの。パエルも、最初は恥ずかしがっていたけど、だんだんと話をするようになって。パエル、いいお友達ができるといいわね。", "Thanks for everything you've done for us. The medicine has mostly stopped the pain. If I can get better I promise to play with my daughter to her heart's content... thankfully the other kids in the neighborhood have been coming to visit these past few days. Pael seems quite shy, but even still she's started to talk to them little by little. I hope Pael can make a lot of friends.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		listmax = 0
		buff = lang("あら…こんな姿でごめんなさいね。パエルの父親は、パエルが5歳の時にプチに食べられてしまったの…そのせいで、あの子は家にこもりがち、いつも、ほかの子供が外で遊ぶのを眩しそうに眺めているわ。きっと、外の世界と自分との間に、見えない線を引いてしまっているのね。小さな胸の奥には、とても、とても優しい心をもった子なのに。ちょっとだけ甘えん坊さんだけどね、うふふ。", "Oh... I'm sorry you have to see me like this. Pael's father died when she was five... he was eaten by a swarm of putits. Ever since then, she just sits around the house. She's always watching the other kids play from the window, staring longingly like she'd love to join them. I can tell she's torn between watching over me and joining the outside world. She has a kind heart beating in that little chest of hers. She's a bit spoiled, but she's a good kid, he he.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 223 | _switch_sw ) {
		_switch_sw = 0
		if ( sqWife == 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("こんな嫁でよければ", "Sure.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("ふざけるな", "Don't mock me you filthy wretch.")
			listmax++
			buff = lang("俺を誰だか知らないだと？この街で一番の色男、ラファエロ様だよ。俺が狙った女は、例えパルミアの王妃だろうとイチコロさ。だがな、最近はどうも恋の駆け引きみたいなのに、飽き飽きしちまった。本音をいや、無条件で俺に仕えてくれる女が欲しいんだよ。で、お前の嫁を俺によこさないか？礼はするぜ。", "Don't you know who I am? I am, by far, without question, doubtlessly and unabashedly, the sexiest man in this town -- if not the whole of North Tyris. I can have any woman I desire. I could even take the princess of Palmia if I wanted. Yet, strange as it sounds, lately I've grown tired of the game. Honestly, I want a woman who will serve me unconditionally and never complain. Why don't you let me keep one of your wives? You'd have my thanks. ")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("まあ、そんな上手い話はないよな。", "Pah, it's not that important anyhow.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("よしきた。じゃあ、お前さんのとびきりの嫁を連れてきてくれ！", "Great. Bring me a fine young girl!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqWife = 1
			goto *label_3835
		}
		if ( sqWife == 1 | sqWife == 1000 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("嫁を見せる", "How's this one?")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("ふざけるな", "Forget it.")
			listmax++
			buff = lang("どれどれ、お前さんの嫁を吟味させてもらおうか！", "Which one? Who have you brought for me to inspect?")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("はやくしてくれよ。", "Bring me your wife!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			allyctrl = 1
			gosub *label_2611
			if ( stat == (-1) ) {
				listmax = 0
				buff = lang("じらすなよ。", "Huh?")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			rc = stat
			if ( cbit(CHARA_BIT_MARRIED, rc) == FALSE ) {
				listmax = 0
				buff = lang("嫁だ。嫁じゃなきゃだめだ！", "I want your wife, it's pointless if you aren't married!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			listmax = 0
			buff = lang("ほう、これがお前さんの嫁か。" + cnName(rc) + "ちゃんというのだな？恥ずかしがらずこっちに来なさい。", "So... this is your wife eh? " + cnName(rc) + " is her name? Don't be embarrassed, come along!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			tcbk = tc
			tc = rc
			s = refchara(cId(tc), DBSPEC_CHARA_FILTER, 1)
			if ( instr(s, 0, "/man/") == (-1) ) {
				dmgcon tcbk, CONDITION_INSANE, 1000
				f = 1
				modkarma 0, 2
			}
			else {
				f = 0
				modkarma 0, -15
			}
			listmax = 0
			buff = lang("いやん、おじさまったら♪", "Ick, you're leaving me with him!?")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			throwsstpevent "SaleWife", tc, "", f
			tc = tcbk
			if ( f == 1 ) {
				listmax = 0
				buff = lang("な、おま…ぎぎ…の嫁さ…ぎぎ…は人間じゃ…ぎぎ", "She's...she's not--hiii--She's not even hu--huuuuu--human..")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
			}
			if ( sqWife == 1 ) {
				flt
				itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 5000
				txt -1, lang("クエストを達成した！", "You have completed the quest!")
				snd SOUNDLIST_COMPLETE1
				snd SOUNDLIST_WRITE1
				txtef COLOR_GREEN
				txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
				sqWife = 1000
			}
			else {
			}
			resetcai rc
			chara_vanquish rc
			snd SOUNDLIST_COMPLETE1
			flt
			itemcreate -1, ITEM_ID_UNICORN_HORN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 2
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 2
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			listmax = 0
			buff = lang("これは…すごい嫁だ…！お前さんとは女の趣味が合いそうだな。また嫁を連れてきてくれれば、いいものを渡すぜ。", "She's a work of art! Looks like we have the same taste in women. Hey, if you bring me another one as good as this one, I will give you something incredible. ")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 224 | _switch_sw ) {
		_switch_sw = 0
		if ( sqYeek == 1000 ) {
			listmax = 0
			buff = lang("イィッック！！イィーック！ハ…これは、" + cnName(CHARA_PLAYER) + "さん、その節はお世話になりました。", "Yeeeeck! Yeee-eeeck! Oh, it's you again.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqYeek == 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("まかせて", "I'll do it for you.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			buff = lang("イィッック！やめて！くるなぁー！イィーック！ハ…失礼しました。あなた…見たところ強そうですね。私に力を貸してくれませんか？騎士昇格のための試験で、イークの首領を討伐しなければならないんです。私には、荷が重い使命ですよ…イーク…うわあああ…ダメだ…思い出しただけでも膝が震える…お願いです。私の代わりに倒してきてください。", "Yeeeck! Nooo! Don't!! Get away from me!! Yeeeee-eeeck! Hump, oh....excuse me. You...you look like a skilled adventurer. Could you give me your hand? I need to slay the head of Yeek to be promoted to the rank of knight. The duty is too heavy for me....yeeee-eeck! No...! Hump...I don't want to recall anything anymore. Please do this duty for me.")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("イィッック！", "Yeeeeck!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("助かります。こんな試験、私にはできっこないんです。奴らの住処は、この村を出てすぐ西の洞窟。頼みますよ。", "Fantastic! This duty...it's impossible for me. Yeeks live in a dungeon west from here. I'm counting on you.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqYeek = 1
			goto *label_3835
		}
		if ( sqYeek == 1 ) {
			listmax = 0
			buff = lang("イィッック！やめて！くるなぁー！イィーック！ハ…あなたでしたか…", "Yeeeeck! Noo...! Don't..! That's my nose..! Yeee-eeeck! Hmph, oh, it's you...")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqYeek == 2 ) {
			listmax = 0
			buff = lang("おお、無事にイークの首領を討伐してくれたのですね。これで晴れて立派な騎士になれます。本当にありがとうございました。", "Oh, you've brought me the head! I can pass the test now. Thank you very much.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			flt
			itemcreate -1, ITEM_ID_DAL_I_THALION, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 5000
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 3
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			sqYeek = 1000
			goto *label_3835
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 225 | _switch_sw ) {
		_switch_sw = 0
		if ( sqDog == 1000 ) {
			listmax = 0
			buff = lang("くぅぅぅぅん！", "Ruff-ruff!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( get_freeally() != 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("連れて行く", "I'll take you")
			listmax++
		}
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		buff = lang("くぅうううん。", "Woof!")
		gosub *label_3836
		if ( chatval == 1 ) {
			txt -1, lang(name(tc) + "を保護した。無事に連れて帰らなければ。", "You must return the puppy safely.")
			rc = tc
			gosub *label_3911
			cbitmod CHARA_BIT_GUARD_TEMP, rc, TRUE
			r1 = rc
			gosub *charaRefresh
			goto *label_3835
		}
		else {
			goto *label_3835
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 226 | _switch_sw ) {
		_switch_sw = 0
		if ( sqDog == 1000 ) {
			listmax = 0
			buff = lang("あ、冒険者さんだ〜。こんにちわん！", "Hello there!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqDog == 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("まかせて", "I'll get your puppy.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			buff = lang("はうっ。ポピーがいなくなっちゃった…また、あの洞窟に迷い込んじゃったのかな？どうしよう、お父さんは今いそがしくて相手にしてもらえないし…あ、冒険者さん、ポピーを探してきてよ〜。ポピー？ポピーは子犬だよ。私の一番のお友達なの。", "Oh no, Poppy has disappeared again... He probably got lost in that cave again. Now what do I do, Papa is too busy to deal with this... Oh, Adventurer, go and find Poppy for me. Poppy? He's my puppy, and my best friend.")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("ポピー…。", "Poppy...")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("よかったぁ！ポピーは、きっといつもの洞窟で迷っちゃったの。この街を出て、すぐ東にある洞窟だよ。冒険者さん、よろしくね。", "Great! I'm sure he's lost in that cave he always plays in. The cave is just outside the east side of town. Thanks in advance.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqDog = 1
			goto *label_3835
		}
		if ( sqDog == 1 ) {
			if ( findally(CREATURE_ID_POPPY_THE_LITTLE_DOG) == (-1) ) {
				listmax = 0
				buff = lang("ポピーまだ〜？", "Where's Poppy?")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			listmax = 0
			buff = lang("ポピー！！無事だったのね！冒険者さん、ありがとう。これ、あげる〜。", "Poppy you're safe! Thank you adventurer, you can have this...")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			flt
			itemcreate -1, ITEM_ID_COOLER_BOX, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 2500
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 2
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			sqDog = 1000
			chara_vanquish findally(CREATURE_ID_POPPY_THE_LITTLE_DOG)
			flt
			characreate -1, CREATURE_ID_POPPY_THE_LITTLE_DOG, 31, 4
			cRole(rc) = ROLE_SPECIAL
			goto *label_3835
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 227 | _switch_sw ) {
		_switch_sw = 0
		if ( sqCat == 1000 ) {
			listmax = 0
			buff = lang("いや〜。おかげさまで家は猫から解放されたんですが、宿屋のほうが快適でね。つい、こっちで寝泊りしてしまいますよ。ははは。", "Well...actually...I found this inn more comfortable than my house.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqCat == 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("引き受ける", "No problem.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("面倒だ", "None of my business.")
			listmax++
			buff = lang("あなた、猫は大丈夫ですか？いえね、私は猫が大の苦手なんですが、こともあろうに、私の家に大量の猫が住み着いてしまったんですよ。そこで冒険者さん達に猫の退治を依頼しているものの、何故か誰も帰ってこない…いったい、家の中はどうなってるんでしょうか。あなた、もしよかったら見てきてくれませんか？", "Hey you, are you..uh...alright with cats? Well, those filthy...they creatures took over my house. I've been asking adventurers to clean up the cats from my house ever since but none returned. What's happening in my house? You...can you take a look inside my house?")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("そうですか…残念です。", "Uh...fine...")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("おお、ありがたい。家は南の畑の近くにあります。中にどんな猫がいるのかわからないので、十分気をつけてください。", "Thank God. My house is south from here. Be careful, for it is unknown what inhabits my home.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqCat = 1
			cell_featset 23, 22, tile_downstairs, CELL_FEATURE_DOWNSTAIRS, 3
			goto *label_3835
		}
		if ( sqCat == 1 ) {
			listmax = 0
			buff = lang("どうです？猫はもういなくなりましたか？", "Is my home safe from the cats?")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqCat == 2 ) {
			flt
			nostack = 1
			itemcreate -1, ITEM_ID_MATERIAL_KIT, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			fixmaterial = ITEM_MATERIAL_DRAGON
			gosub *remake_material
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 25500
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 4
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("なんと、猫使いなる魔物が住み着いていたのですか。いやぁ、猫退治なんて軽い依頼ではなかったですね。ははは。私の家で亡くなった冒険者さん達も、あなたのおかげで浮かばれるでしょう。どうぞ、お礼を受け取ってください。", "What? An evil cat tamer? My God...I have no idea why such a creature took over my home. But uh...thanks anyway.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqCat = 1000
			goto *label_3835
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 231 | _switch_sw ) {
		_switch_sw = 0
		if ( sqWar == 1000 ) {
			listmax = 0
			buff = lang("おお、勇者よ！酒でも飲み交わさぬか？フハハハア！", "Ah, the bravest of the brave. Care for a drink? Muwahaha!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( cFame(CHARA_PLAYER) < 5000 ) {
			subquestrequirement lang("名声5000以上", "Fame 5000+")
			listmax = 0
			buff = lang("なんだ、ぬしは。私は弱いものには興味がないのだ。フハハハハ！", "Be gone. I have no interest in weak soldiers. Muwahahaha!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqWar == 0 ) {
			listmax = 0
			buff = lang("オパートスの名にかけて！貴殿はかの有名な" + cnAka(CHARA_PLAYER) + "ではないか？貴殿の腕を見込んで頼みがあるのだ。", "By Opatos! You are the famous " + cnAka(CHARA_PLAYER) + ", are you not? I have a favor I'd like to ask of someone like you. ")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			list(0, listmax) = 1
			listn(0, listmax) = lang("話を聞こう", "(Hear him out.)")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("止めておこう", "(Don't get involved.)")
			listmax++
			buff = lang("私はジューアの解放軍の大佐、ギルバートと申す。軍といっても国軍ではないが、イェルスの犬に占拠された各地のジューア自治区を、解放してまわっておるのだ。その我が軍が、パルミア国境でイェルスの強力な防衛線の前に苦戦しておる。最新鋭の武装を持つ奴らに対し、我らは剣に頼るのみ。このままでは、全滅する恐れさえあるのだ。どうか、貴殿の力、貸してもらえぬか？", "I am colonel of the Juere Liberation Army, Gilbert. We're not the true national army, but even so we fully intend to free the Juere Territories from their occupation by those Yerles dogs. However, our army is having a hard time breaking through their strong front lines on the Palmia border. We only have our swords against their advanced weapons, after all. If things go on like they are, our army might be totally annihalated. So I ask you, will you lend us your power?")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("フハハハハッ。腰抜けめ。", "Mwahahaha! You damn coward!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("フハハハァッ。そうこなくてはならぬ。貴殿の力、頼りにしておる。戦の準備ができ次第、声をかけてくれ。", "Mwahahaha! Good, good. We'll be counting on you. Once you've prepared, come speak to me again.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqWar = 1
			goto *label_3835
		}
		if ( sqWar == 1 | sqWar == 2 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("いい", "They are.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("だめ", "Not yet.")
			listmax++
			buff = lang("準備はいいかな？", "Are your preparations complete, then?")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("待っておるぞ。", "We're waiting on you.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("フハァ。貴殿にオパートスの加護のあらんことを祈っておるぞ！", "Hahaha! I pray Opatos' favor be with you!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqWar = 2
			mDownStairPos = cY(CHARA_PLAYER) * 1000 + cX(CHARA_PLAYER)
			gTeleportArea = AREA_YOWYN
			gTeleportLevel = 4
			levelexitby = MAP_EXIT_TELEPORT
			chatteleport = 1
			goto *label_3835
		}
		if ( sqWar == 3 ) {
			flt
			itemcreate -1, ITEM_ID_HERO_CHEESE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 10000
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 3
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("フアハァァァァハハハ。フハー！ファハハハ、フ、フハッ、ブ、ブバァッ…ゲホッ…ゲホ…す…すまん。震えるほど興奮したぞ、ぬしの雄姿に。解放軍も、これで無事にパルミアの国境を越えることができる。どうか、この感謝の気持ちを受け取ってくれ。", "Muwahahahah! Muwahahahahaha! Mu-mu...wa..! *cough* *cough* My...My apologies. Your heroic figure striding the battlefield was so amazing that even I was shaken. With this, the Liberation Army can pass the borders of Palmia. Please, accept this reward as my thanks.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqWar = 1000
			goto *label_3835
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 243 | _switch_sw ) {
		_switch_sw = 0
		if ( sqKamikaze == 1000 ) {
			listmax = 0
			buff = lang("" + cnName(CHARA_PLAYER) + "さん、あなたとまた会話できるとは光栄です！", "I hope we can talk again sometime, " + cnName(CHARA_PLAYER) + "!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqKamikaze == 0 ) {
			buff = lang("パルミア軍第十連隊は、カミカゼ特攻隊の猛攻により大苦戦中です！敵は弾幕の雨の中を潜り抜け、戦死を前提とした自爆攻撃を繰り返しています。このままでは、我が部隊は全滅の恐れもあります。どうか、援軍に向かってください！", "Right now, the 10th regiment of the Palmian army is entrenched in battle with the suicide squadron! The enemy has broken through our suppression fire and now they're assaulting us with suicide bombers. The enemy know they're going to die and they're trying to take us with them. How can we fight an enemy with no regard for his own life! At this rate it looks like we'll be totally annihilated! We need you to lend us your hand and lead the reinforcements.")
			list(0, listmax) = 1
			listn(0, listmax) = lang("引き受ける", "I accept.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("やめておこう", "That sounds... dangerous. No thanks.")
			listmax++
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("無念です！", "I'm sorry to hear that.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("助かります。準備ができ次第、声をかけてください。必ず遠隔武器を持参してください！", "Thank the gods. Call me when you're prepared. Be sure to bring a ranged weapon!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqKamikaze = 1
			goto *label_3835
		}
		if ( sqKamikaze == 1 | sqKamikaze == 2 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("いい", "Okay, let's roll.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("だめ", "I'm not ready yet.")
			listmax++
			buff = lang("準備はよろしいですか？あなたは、パルミア軍が撤退するまでの間、どうにかカミカゼ特攻隊の猛撃に耐え、時間稼ぎをして下さい。", "Are you ready to go? We need you to hold off the suicide squadron's onslaught and buy time for the Palmian army to retreat.")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("早くしてください！", "Hurry up!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("伝令に現地まで案内させます。くれぐれも、奴らの接近を許さないように！パルミア軍の撤退が完了次第、連絡を入れます。", "I'll guide you to the battlefield then. Whatever you do, don't let them get close! I'll tell the Palmian army to begin a steady retreat.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqKamikaze = 2
			mDownStairPos = cY(CHARA_PLAYER) * 1000 + cX(CHARA_PLAYER)
			gTeleportArea = AREA_PORT_KAPUL
			gTeleportLevel = 25
			levelexitby = MAP_EXIT_TELEPORT
			chatteleport = 1
			goto *label_3835
		}
		if ( sqKamikaze == 3 ) {
			flt
			itemcreate -1, ITEM_ID_MAGIC_FRUIT, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 7500
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 3
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("お疲れ様であります。まさか、あの死地から戻って来ることができるなんて！戦友の無事も確認し、感謝の言葉もありません。どうかこの報酬を受け取ってください。", "Well done. I cannot believe you made it back alive! I've heard my comrades are safe. I can find no words to express my gratitude. Please take this reward.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqKamikaze = 1000
			goto *label_3835
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 247 | _switch_sw ) {
		_switch_sw = 0
		if ( sqSilverCat == 1000 ) {
			listmax = 0
			buff = lang("あ、冒険者さん！お仕事お疲れでありますぅ♪", "Mia's happy happy nyah!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqSilverCat == 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("捕ってくる", "I'll find one for you!")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("さ、さようなら", "Oh...God...")
			listmax++
			buff = lang("るんるんるん♪ねっこねっここっねこっ♪ふ〜んふ〜ん♪お〜冒険者さんだ〜。お仕事お疲れ様でありますぅ。冒険者さんは、シルバーキャット見たことありますかぁ？シルバーにゃんことお風呂できゃっきゃするのが、ミーアの夢なんですっ！う〜。ねっこねっここっねこ♪ふ〜んふ〜ん♪", "Nyobody knyows the touble Mia's seen, nyobody knyows Mia's Tru-bull. Nuah? Adventurer? Nyou find silver cat for me?")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("はーい♪さよ〜なら〜♪", "Nyo? Mia can wait nyou. Mia have goood mannyah!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("はわぁ。ほんとですか〜！楽しみにしてますぅ♪う〜。ねっこねっここっねこ♪は〜やくこないかな♪るんるんるん♪", "Nyowl! Mia trust nyou. Nyo hurting cats!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqSilverCat = 1
			goto *label_3835
		}
		if ( sqSilverCat == 1 ) {
			if ( findally(CREATURE_ID_SILVER_CAT) == (-1) ) {
				listmax = 0
				buff = lang("ふ〜んふ〜ん♪ねっこねっこ〜ま〜だかな〜♪にししし！", "Nyoroon nyoroon. Nyou still look for Mia's cat?")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			if ( jp ) {
				listmax = 0
				buff = "はわわ？それはっ！シルバーキャット！お〜♪ミーアうれしぃであります！こっちにおいで〜だっこだっこっ♪にしし！"
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
			}
			listmax = 0
			buff = lang("そうだ、お礼にこれあげますっ！モンスターハートっていって、所持しているだけで、支配の確率を高めてくれるアーティファクトなんですよ♪", "Nyanya! Nyou bring Mia silver cat! Come come, I nyo hurt nyou, nyo hurt nyou. Mia thank you very much. Nyou can have Mia's precious!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			flt
			itemcreate -1, ITEM_ID_MONSTER_HEART, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 5000
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 3
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			sqSilverCat = 1000
			relocate_chara findally(CREATURE_ID_SILVER_CAT), -1
			cRelation(rc) = RELATION_DISLIKE
			cOrgRelation(rc) = RELATION_DISLIKE
			cRole(rc) = ROLE_SPECIAL
			goto *label_3835
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 249 | _switch_sw ) {
		_switch_sw = 0
		if ( sistersex == 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("違う", "Wrong.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("そう", "That's right.")
			listmax++
			buff = lang(_onii(cSex(CHARA_PLAYER)) + "ちゃん？もしかして" + _onii(cSex(CHARA_PLAYER)) + "ちゃん" + _ka(1), _onii(cSex(CHARA_PLAYER)) + "chan? Are you my " + _onii(cSex(CHARA_PLAYER)) + "chan, are you?")
			chatesc = 0
			gosub *label_3836
			if ( chatval == 0 ) {
				listmax = 0
				buff = lang("やっぱり！やっと会えた" + _na(3) + "、" + _onii(cSex(CHARA_PLAYER)) + "ちゃん！", "I knew it! It was you all along " + _onii(cSex(CHARA_PLAYER)) + "chan!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				tcbk = tc
				cc = tc
				tc = CHARA_PLAYER
				gosub *label_3302
				goto *label_3835
			}
			listmax = 0
			buff = lang("そんな、今度こそ" + _onii(cSex(CHARA_PLAYER)) + "ちゃんだと思ったのに！", "No? I thought for sure you were my " + _onii(cSex(CHARA_PLAYER)) + "chan this time!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			repeat 245 - 57, 57
				if ( cId(cnt) == CREATURE_ID_YOUNGER_SISTER | cId(cnt) == CREATURE_ID_YOUNGER_SISTER2 ) {
					cRelation(cnt) = RELATION_ENEMY
					cOrgRelation(cnt) = RELATION_ENEMY
					cAiAggro(cnt) = 80
					cEmoIcon(cnt) = 18 + 100 * 2
					lockon cnt, 0, 17
				}
			loop
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		else {
			sistersex = 0
			listmax = 0
			buff = lang("良かった" + _yo(3) + "、" + _onii(cSex(CHARA_PLAYER)) + "ちゃん！またね！", "I had a good time, " + _onii(cSex(CHARA_PLAYER)) + "chan! See you later!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			levelexitby = MAP_EXIT_NORMAL
			chatteleport = 1
			snd SOUNDLIST_EXITMAP1
			goto *label_3835
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 166 | _switch_sw ) {
		_switch_sw = 0
		if ( gQuestStatus == QUEST_STATE_FAIL ) {
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), limit(cFame(CHARA_PLAYER) / EXT_EQUIP_SLOTS, 1, 10)
			if ( cFame(CHARA_PLAYER) < 50000 ) {
				p = 2
			}
			else {
				if ( cFame(CHARA_PLAYER) < 100000 ) {
					p = 3
				}
				else {
					p = 4
				}
			}
			flt calcobjlv(difficulty()), calcfixlv(p)
			if ( rnd(2) ) {
				flttypemajor = FILTER_ACCESSORY_AMULET
			}
			else {
				flttypemajor = FILTER_ACCESSORY_RING
			}
			itemcreate -1, ITEM_ID_DUMMY, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 1
			if ( ogTitleKumari == 2 ) {
				flt
				if ( finditemid("artifacts fusion license") ) {
					inititemid = stat
					itemcreate -1, ITEM_ID_CARNEADES_PLANK, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 5
				}
			}
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			gQuestStatus = QUEST_STATE_SUCCESS
			gQuestFame = calcfame(CHARA_PLAYER, 10000)
			txtef COLOR_GREEN
			txt -1, lang("" + gQuestFame + "の名声値を手に入れた。", "You gain " + gQuestFame + " fame.")
			incfame 0, gQuestFame
			listmax = 0
			buff = lang(_thanks(2) + "　これはお礼" + _da(0) + "　大切にして" + _kure(2), "Thanks! these are for you.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			list(0, listmax) = 1
			listn(0, listmax) = lang("襲撃するよ", "Prepare to die!")
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( chatval == 1 ) {
				listmax = 0
				buff = lang("そんな！　本気" + _ka(3) + "！？", "Oh crap. Another bandit trying to spoil my business! Form up, mercenaries.")
				list(0, listmax) = 1
				listn(0, listmax) = lang("神に祈れ", "Pray to your God.")
				listmax++
				list(0, listmax) = 0
				listn(0, listmax) = lang("いや、冗談です", "W-Wait! I was just kidding.")
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( chatval == 1 ) {
					repeat 245 - 57, 57
						if ( cExist(cnt) != CHAR_STATE_SPIRIT ) {
							if ( cExist(cnt) != CHAR_STATE_ALIVE ) {
								continue
							}
						}
						if ( cId(cnt) == CREATURE_ID_LITTLE_GIRL ) {
							cRelation(cnt) = RELATION_ENEMY
							cAiAggro(cnt) = 80
							cEmoIcon(cnt) = 18 + 100 * 2
							cQuality(cnt) = FIX_QUALITY_GREAT
							r1 = cnt
							gosub *charaRefresh
						}
					loop
					goto *label_3835
				}
				else {
					listmax = 0
					buff = lang("驚かせないで" + _kure(2), "You kidding? ")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
				}
			}
			music = MUSICLIST_MCFANFARE
			musicloop = 1
			gosub *music_play
			txtef COLOR_GREEN
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			f = 0
			ncgKnightsEventsCleared += 1
			if ( ogTitleKumari == 0 ) {
				if ( ncgKnightsEventsCleared >= 1000 ) {
					f = 1
					ogTitleKumari = 1
				}
			}
			if ( f == 1 ) {
				snd SOUNDLIST_WRITE1
				txtef COLOR_GREEN
				txt -1, lang("新しい称号を獲得した！", "Earned a new title!")
			}
			goto *label_3835
		}
		else {
			if ( gQuestStatus == QUEST_STATE_ONGOING ) {
				listmax = 0
				buff = lang(_yoro(2), "Thanks!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			else {
				if ( gQuestStatus == QUEST_STATE_NONE ) {
					list(0, listmax) = 1
					listn(0, listmax) = lang("協力する", "Help.")
					listmax++
					list(0, listmax) = 0
					listn(0, listmax) = lang("断る", "Decline.")
					listmax++
					buff = lang(_kimi(3) + "はもしかして" + cnAka(CHARA_PLAYER) + "！？　" + _ore(3) + "たちは少女騎士団の" + gdatan(GDATAN_TEAM2) + _da(2) + "　" + _ore(3) + "たちは今、とても強力なモンスターと交戦中" + _da(2) + "　どうか協力を" + _tanomu(2), "Are you the " + cnAka + "?! We are \"" + gdatan(GDATAN_TEAM2) + "\" of Knights of the Little Girls! We are presently in the thick of combat against a very powerful monster! Please, lend us your strength!")
					chatesc = 0
					gosub *label_3836
					if ( chatval == 0 ) {
						listmax = 0
						var_ta = _ta(0)
						if ( strmid(var_ta, 0, 2) == "ま" ) {
							var_ta = "り" + var_ta
						}
						else {
							var_ta = "っ" + var_ta
						}
						buff = lang("そうですか……わか" + var_ta + "　何とか" + _ore(3) + "たちだけで喰い止めてみせ" + _ru(2), "Is that so... I understand. We will at the very least try and fend out by ourselves!")
						tc = tc * (0 == 0) + (0 != 0) * 0
						list(0, listmax) = 0
						listn(0, listmax) = strbye
						listmax++
						chatesc = 1
						gosub *label_3836
						if ( scenemode ) {
							if ( scene_cut == 1 ) {
								goto *label_3835
							}
						}
						levelexitby = MAP_EXIT_NORMAL
						chatteleport = 1
						snd SOUNDLIST_EXITMAP1
						goto *label_3835
					}
					listmax = 0
					buff = lang(_thanks(2), "Thanks!")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					ogQuestKnightsOfLittleGirls = 1
					gQuestStatus = QUEST_STATE_ONGOING
					txt -1, lang("少女騎士団を守れ！", "Protect the Knights of the Little Girls!")
					goto *label_3835
				}
			}
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 317 | _switch_sw ) {
		_switch_sw = 0
		list(0, listmax) = 0
		listn(0, listmax) = lang("違う", "No.")
		listmax++
		list(0, listmax) = 1
		listn(0, listmax) = lang("そう", "Yes.")
		listmax++
		buff = lang("組織の者" + _ka(1), "Are you a member of the organization?")
		chatesc = 0
		gosub *label_3836
		if ( chatval == 0 ) {
			listmax = 0
			buff = lang("そう" + _ka(0), "I see.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			levelexitby = MAP_EXIT_NORMAL
			chatteleport = 1
			snd SOUNDLIST_EXITMAP1
			goto *label_3835
		}
		listmax = 0
		buff = lang("皆殺しにしてやる" + _yo(0), "I'm going to kill... every last one of you.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		turn_aggro tc, 0, 80
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 211 | _switch_sw ) {
		_switch_sw = 0
		if ( cRole(tc) == 20000 | ocFormerPet(tc) == 20000 ) {
			if ( areaId(gArea ) == AREA_ARENA ) {
				listmax = 0
				list(0, listmax) = 1
				listn(0, listmax) = lang("返り討ちにする", "Try me.")
				listmax++
				buff = lang("ようやく会えた" + _na(3) + "、" + cnAka(CHARA_PLAYER) + "。　" + _ore(3) + "は" + cnAka(tc) + cnName(tc) + _da(2) + "　" + _kimi(3) + "を倒せば名が上がる……覚悟して" + _kure(2), "Looks like I have finally met you, " + cnAka(CHARA_PLAYER) + ". I am " + cnAka(tc) + " " + cnName(tc) + "! Once I defeat you, my name will be known across the continent... Steel yourself!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				gosub *label_3836
				turn_aggro tc, 0, 80
				goto *label_3835
			}
			else {
				if ( cbit(CHARA_BIT_MARRIED, tc) == TRUE | implevel(cImpression(tc)) >= 8 ) {
					if ( cbit(CHARA_BIT_TOKEN_FRIEND, tc) | inv_getfreeid(CHARA_PLAYER) == (-1) ) {
						listmax = 0
						buff = lang(cnName(CHARA_PLAYER) + "も頑張って" + _kure(2), "Try your best, " + cnName(CHARA_PLAYER) + "!")
					}
					else {
						listmax = 0
						buff = lang("これ、あげ" + _ru(0) + cnName(CHARA_PLAYER) + "も頑張って" + _kure(2), "Here, take is for you, so try your best!")
						cbitmod CHARA_BIT_TOKEN_FRIEND, tc, TRUE
						flt
						nostack = 1
						itemcreate CHARA_PLAYER, ITEM_ID_SISTERS_LOVE_FUELED_LUNCH, -1, -1, 0
						iSubName(ci) = cId(tc)
						txt -1, lang(name(tc) + "に" + itemname(ci, 1) + "をもらった！", "You receive " + itemname(ci, 1) + ".")
					}
				}
				else {
					if ( implevel(cImpression(tc)) >= 6 ) {
						listmax = 0
						buff = lang(cnName(CHARA_PLAYER) + "を倒すのは" + _ore(3) + _da(0) + "　だからそれまで負けないで" + _kure(2), "I'll be the one to defeat you. Therefore, don't you lose on anyone else until then!")
					}
					else {
						if ( implevel(cImpression(tc)) >= 4 ) {
							listmax = 0
							buff = lang(cnName(CHARA_PLAYER) + "には負けない" + _yo(2), "I won't lose to you this time.")
						}
						else {
							if ( implevel(cImpression(tc)) >= 3 ) {
								listmax = 0
								buff = lang("また会った" + _na(3) + "、" + cnAka(CHARA_PLAYER) + "。　" + _ore(3) + "は" + cnAka(tc) + cnName(tc) + _da(2) + "　いずれ" + _kimi(3) + "を倒す" + _sex(cSex(tc)) + _yo(2), "It seems we've met again, " + cnAka(CHARA_PLAYER) + " " + cnName(CHARA_PLAYER) + ". My name is " + cnAka(tc) + " " + cnName(tc) + ". I'll be the one to defeat you someday.")
							}
						}
					}
				}
				goto *chat_slave
			}
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 210 | _switch_sw ) {
		_switch_sw = 0
		if ( cRole(tc) == 20005 ) {
			if ( ogQuestCatSister == 1 ) {
				listmax = 0
				buff = lang("わーん！　" + _onii4(cSex(CHARA_PLAYER)) + "、こわかったよー！", "Waaaah! That was really really scary, " + _onii4(cSex(CHARA_PLAYER)) + "!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				listmax = 0
				buff = lang("たすけてくれて、ありがとう！　" + _onii4(cSex(CHARA_PLAYER)) + "だいすき！　チュッ！　……またね！", "Thanks for saving me! You're the best, " + _onii4(cSex(CHARA_PLAYER)) + "! *kiss*... I'll see you later!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( ogTitleBastet == 2 ) {
					flt
					itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 12
					flt
					itemcreate -1, ITEM_ID_SPECIAL_STEAMED_MEAT_BUN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 8
				}
				else {
					flt
					itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 6
					flt
					itemcreate -1, ITEM_ID_SPECIAL_STEAMED_MEAT_BUN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 4
				}
				txtef COLOR_GREEN
				txt -1, lang("クエストを達成した！", "You have completed the quest!")
				snd SOUNDLIST_COMPLETE1
				txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
				txt -1, lang(name(tc) + "は消え去った。", name(tc) + " vanish" + _s(tc, 1) + ".")
				ncgCatSisterEventsCleared += 1
				if ( ogTitleBastet == 0 ) {
					if ( ncgCatSisterEventsCleared >= 1000 ) {
						f = 1
						ogTitleBastet = 1
					}
				}
				if ( f == 1 ) {
					snd SOUNDLIST_WRITE1
					txtef COLOR_GREEN
					txt -1, lang("新しい称号を獲得した！", "Earned a new title!")
				}
				chara_vanquish tc
				ogQuestCatSister = 0
				goto *label_3835
			}
			else {
				listmax = 0
				buff = lang("わーん！　" + _onii4(cSex(CHARA_PLAYER)) + "、たすけてー！", "Help me!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = stryes
				listmax++
				chatesc = 1
				gosub *label_3836
				ogQuestCatSister = 1
				goto *label_3835
			}
		}
		else {
			if ( cRole(tc) == 20001 | cRole(tc) == 20003 ) {
				if ( ogQuestCatSister ) {
					if ( ocChipTransparency(tc) != 0 ) {
						ocChipTransparency(tc) = 0
					}
					listmax = 0
					buff = lang("えへへ、つかまっちゃった！　つきあってくれて、ありがとう！", "Haha, got me! Thanks for playing with me!")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					listmax = 0
					buff = lang("がんばった" + _onii4(cSex(CHARA_PLAYER)) + "にごほうびだよ！　またね！", "Here's your reward, " + _onii4(cSex(CHARA_PLAYER)) + ". See ya!")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( ogTitleBastet == 2 ) {
						flt
						itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 12
						flt
						itemcreate -1, ITEM_ID_SPECIAL_STEAMED_MEAT_BUN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 8
					}
					else {
						flt
						itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 6
						flt
						itemcreate -1, ITEM_ID_SPECIAL_STEAMED_MEAT_BUN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 4
					}
					txtef COLOR_GREEN
					txt -1, lang("クエストを達成した！", "You have completed the quest!")
					snd SOUNDLIST_COMPLETE1
					txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
					ncgCatSisterEventsCleared += 1
					if ( ogTitleBastet == 0 ) {
						if ( ncgCatSisterEventsCleared >= 1000 ) {
							f = 1
							ogTitleBastet = 1
						}
					}
					if ( f == 1 ) {
						snd SOUNDLIST_WRITE1
						txtef COLOR_GREEN
						txt -1, lang("新しい称号を獲得した！", "Earned a new title!")
					}
					txt -1, lang(name(tc) + "は消え去った。", name(tc) + " vanish" + _s(tc, 1) + ".")
					chara_vanquish tc
					ogQuestCatSister = 0
					goto *label_3835
				}
				else {
					list(0, listmax) = 0
					listn(0, listmax) = lang("いいよ", "Okay.")
					listmax++
					list(0, listmax) = 1
					listn(0, listmax) = lang("またの機会ね", "Maybe next time.")
					listmax++
					buff = lang("あ、" + _onii4(cSex(CHARA_PLAYER)) + "だ！　ね！　いっしょにあそぼ！？", "Oh, it's you " + _onii4(cSex(CHARA_PLAYER)) + "! Hey! Wanna play together?")
					tc = tc * (0 == 0) + (0 != 0) * 0
					chatesc = 0
					gosub *label_3836
					if ( chatval == 1 ) {
						listmax = 0
						buff = lang(_onii4(cSex(CHARA_PLAYER)) + "のケチー！", "Fine! You're no fun anyway!")
						tc = tc * (0 == 0) + (0 != 0) * 0
						list(0, listmax) = 0
						listn(0, listmax) = strbye
						listmax++
						chatesc = 1
						gosub *label_3836
						txt -1, lang(name(tc) + "は消え去った。", name(tc) + " vanish" + _s(tc, 1) + ".")
						chara_vanquish tc
						goto *label_3835
					}
					listmax = 0
					if ( cRole(tc) == 20003 ) {
						s = lang("かくれんぼ", "Hide and seek")
					}
					else {
						s = lang("おにごっこ", "Tag")
					}
					buff = lang("それじゃ、" + s + "しよ！　" + _onii4(cSex(CHARA_PLAYER)) + "がオニね！", "Let's play tag then! You're it!")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( cRole(tc) == 20003 ) {
						ocChipTransparency(tc) = 256
						cc = tc
						efid = SKILL_SPELL_TELEPORT
						gosub *label_3383
					}
					else {
						lockon tc, 0, 18
						cAiAggro(tc) = 1000
					}
					ogQuestCatSister = 1
					cParalyze(CHARA_PLAYER) += 5
					goto *label_3835
				}
			}
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 263 | _switch_sw ) {
		_switch_sw = 0
		if ( cRole(tc) == 20004 ) {
			if ( gQuestStatus == QUEST_STATE_FAIL ) {
				if ( ogdata(60) \ 10000 > ogdata(60) / 10000 ) {
					listmax = 0
					buff = lang("久々に楽しかった" + _yo(2) + "　これはお礼" + _da(0) + "　受けとって" + _kure(), "I haven't had that much fun in a while! This is my thanks to you. Here, it's yours!")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					flt
					itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 6
					flt
					itemcreate -1, ITEM_ID_RARE_TREASURE_BALL, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
					ibitmod ITEM_BIT_PRECIOUS, ci, TRUE
					txtef COLOR_GREEN
					txt -1, lang("クエストを達成した！", "You have completed the quest!")
					snd SOUNDLIST_COMPLETE1
					txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
				}
				else {
					listmax = 0
					buff = lang("まだまだ" + _dana(0), "Not good enough!")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
				}
				txt -1, lang(name(tc) + "は消え去った。", name(tc) + " vanish" + _s(tc, 1) + ".")
				chara_vanquish tc
				ogQuestKnightsOfLittleGirls = 0
				gQuestStatus = QUEST_STATE_SUCCESS
				gQuest = QUEST_TYPE_NONE
				ogdata(60) = 0
				goto *label_3835
			}
			else {
				list(0, listmax) = 0
				listn(0, listmax) = lang("受ける", "Okay-dokey.")
				listmax++
				list(0, listmax) = 1
				listn(0, listmax) = lang("断わる", "Shut up slut.")
				listmax++
				buff = lang("あら、珍しく骨のあるヤツ" + _kana(1) + "　" + _ore(3) + "と勝負して" + _kure(2), "I'ma black angel, the hustler. You seem a singular swag battler. Now the time is ripe with my criminal rhyme. You must show me your ill skill and sign.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				chatesc = 0
				gosub *label_3836
				if ( chatval == 1 ) {
					listmax = 0
					buff = lang("そう、残念" + _da(0), "That's a pity. See ya, kitty.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					txt -1, lang(name(tc) + "は消え去った。", name(tc) + " vanish" + _s(tc, 1) + ".")
					chara_vanquish tc
					goto *label_3835
				}
				listmax = 0
				buff = lang("狩り勝負" + _da(0) + "　この階の獲物をより多く狩れた方が勝ち" + _dana(2), "Yeah, one thing we'll go is hunting. Which will beat more on this floor?")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				cRelation(tc) = RELATION_DISLIKE
				cOrgRelation(tc) = RELATION_DISLIKE
				ogQuestKnightsOfLittleGirls = 2
				gQuestStatus = QUEST_STATE_ONGOING
				gQuest = QUEST_SUBTYPE_ELIMINATE
				ogdata(60) = 0
				goto *label_3835
			}
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 252 | _switch_sw ) {
		_switch_sw = 0
		if ( sqVein == 1000 ) {
			listmax = 0
			buff = lang("私は…生きている価値があるのかな？", "I wonder... does my life really have any value?")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqVein == 0 | sqVein == 1 ) {
			listmax = 0
			buff = lang("才能のある者の努力とない者の努力は、果たして同じなのだろうか？私の妹は、このルミエストの都で絵描きを目指していた。彼女は美しいものを愛したが、画家としての才能には恵まれてなかった。自分の限界に気付いた彼女は精神を病み、周りの者に当たり散らかした。罵られ、蔑まれ、誰からも理解されないまま、冬のある日、湖に身を投げて死んでしまった。", "Talent or no talent... if you're a success it doesn't really matter now does it? My sister came here to Lumiest hoping to make it as an artist. She dearly loved the beauty of all things, but she had no artistic ability. She tried so hard and she pushed her limits to succeed, but in the end she was rejected and it drained all the life out of her. The people here mocked and insulted her; nobody understood her. Then, one winter day, despondent, she jumped into the lake and drowned herself. ")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("私は知っていたよ…身体を壊すほどに、妹が絵の勉強に励んでいたこと。常人離れした情熱と、名声への憧れ。だが、妹が死んで間も無く、一人の天才がこの都にやって来て、何の努力もなしに彼女が望んでいた全てを手に入れてしまった。名声、幸福、富…", "I was sure... her obsession with painting had wrecked her health. Her devotion and desire for fame alienated her from ordinary people. But, not long after my sister died, a prodigal artist came here to Lumiest. With hardly any effort, all the things she wanted came to her. Fame, happiness, fortune... ")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("恵まれたもの、恵まれないもの、全ては運命の偶然に過ぎない…何がいいたいかよくわからない？そうだな、私自身、この感情をうまく説明できないんだ。ただ、私には人生の意味が分からなくなった…ただそれだけだ。", "To be privileged, or to be poor, it's all just a matter of fate and inescapable coincidence... Do you understand what it is I'm trying to say? That's right, it's tough for me to explain exactly how I feel. It's just that... I guess I no longer understand the meaning of life... that's all. ")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			listmax = 0
			buff = lang("…レイチェルという童話作家が描いた絵本を、妹は愛読していた。もうすでに遺品は処理してしまったが、一度読んでみたいものだ。今ならば、あいつの気持ちを、少しはわかってやれそうな気がするよ。", "I remember my sister really loved a series of children's books illustrated by a woman named Rachel. I'm sure they're really rare, or even impossible to find, but... I'd like to read them just once. I feel that perhaps you can understand how I feel... ")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			if ( sqVein == 0 ) {
				snd SOUNDLIST_WRITE1
				txtef COLOR_GREEN
				txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
				sqVein = 1
				goto *label_3835
			}
			p = 0, 0, 0, 0, 0, 0
			inv_getheader 0
			repeat invrange, invhead
				if ( iNum(cnt) == 0 ) {
					continue
				}
				if ( iID(cnt) == ITEM_ID_BOOK_RACHEL ) {
					p(iParam2(cnt)) = 1
				}
			loop
			repeat 4, 1
				p += p(cnt)
			loop
			if ( p != 0 ) {
				if ( p != 4 ) {
					listmax = 0
					buff = lang("私のために、絵本を" + p + "冊集めた…？感謝するよ。絵本は第4巻まであるみたいだ。もし全部集めて持ってきてくれれば、何か礼をしよう。", "You've brought " + p + " book" + _s2(p) + ", just for my sake? You have my thanks. If I recall correctly, there are four volumes in the series. If you can find all four for me I'll find some way to thank you. ")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *label_3835
				}
				p = 0, 0, 0, 0, 0, 0
				inv_getheader 0
				repeat invrange, invhead
					if ( iNum(cnt) == 0 ) {
						continue
					}
					if ( iID(cnt) == ITEM_ID_BOOK_RACHEL ) {
						if ( p(iParam2(cnt)) == 0 ) {
							iNum(cnt)--
							p(iParam2(cnt)) = 1
						}
					}
				loop
				listmax = 0
				buff = lang("おお…これがレイチェルの絵本か。本を読んでみたいと思う気になったのは、久しぶりだよ。さっそく読ませてもらおう。", "Oh! So these are Rachel's storybooks? I feel like I should read them soon... it's been such a long time. Give me a moment to look at them will you. These... these are! And this! And... *Renton bubbles at the mouth* ")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				if ( jp ) {
					listmax = 0
					buff = "…"
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					listmax = 0
					buff = "… …"
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					listmax = 0
					buff = "… … …"
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
				}
				listmax = 0
				buff = lang("ビーーー！バリリ！！ビリリ！バリリリリリ！！！こんなモノ！こんなモノ！こんなモノ…ビリビリビリビリ！ふう、ふう、はあ、はあ…。", "And this... *huff* *huff* ")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				txtef COLOR_YELLOW
				txt -1, lang("エヘカトル「うみゃ〜？」", cnvtalk("Mew?"))
				listmax = 0
				buff = lang("…こんな絵は天才にしか描けない。努力じゃダメだ。妹には…どう頑張っても、描けなかっただろう。幸運の女神というものがいるのなら、私は彼女を恨もう。…すまない、報酬だ。しばらく一人にしておくれ。", "*A crazed look wells up in Renton's eyes* These books... only a true artistic genius could've painted like this. Effort alone is simply not enough... my sister... no matter how long or hard she tried, she never could've painted such beauty. If the goddess of luck truly exists, I should devote myself to her. I'm sorry... you do deserve a reward. I'd like to be alone for a while... if you don't mind. ")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				flt
				itemcreate -1, ITEM_ID_STATUE_LULWY, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
				flt
				itemcreate -1, ITEM_ID_HERO_CHEESE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
				flt
				itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 20000
				flt
				itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 5
				txt -1, lang("クエストを達成した！", "You have completed the quest!")
				snd SOUNDLIST_COMPLETE1
				txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
				snd SOUNDLIST_WRITE1
				txtef COLOR_GREEN
				txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
				sqVein = 1000
			}
			goto *label_3835
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 253 | _switch_sw ) {
		_switch_sw = 0
		if ( sqPyramid != 0 ) {
			listmax = 0
			buff = lang("フッ。安心してください。あなたの家に侵入したりはしませんよ。", "Heh, don't worry, I won't break in your house.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( cFame(CHARA_PLAYER) < 3000 ) {
			subquestrequirement lang("名声3000以上", "Fame 3000+")
			listmax = 0
			buff = lang("私に気安く話しかけないでもらえますか？", "Leave me alone, please.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqPyramid == 0 ) {
			listmax = 0
			buff = lang("ああ、あなたがかの有名な" + cnAka(CHARA_PLAYER) + "ですね。いい所に来てくれました。カプールの北にある謎のピラミッドを、あなたはご存知ですか？ネフィアがまだ草の根も生えない砂漠だった頃から存在し、古代の秘宝が眠っているといわれている。しかし、入り口は奇妙な魔法に保護され、誰も手をつけることができない。いや…できなかった。", "Ah, you're the famous " + cnAka(CHARA_PLAYER) + ", aren't you? You came at a fine time. North of Kapul lies an enigmatic pyramid; you may have heard of it. The pyramid has existed since Nefia was a barren desert where even grass wouldn't grow and it's said that ancient treasure is buried within. However, it's sealed by some bizarre enchantments and is impenetrable... well, it WAS impenetrable.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			if ( cGold(CHARA_PLAYER) >= 20000 | ncgGoldOverflow > 0 ) {
				list(0, listmax) = 1
				listn(0, listmax) = lang("購入する", "Alright, I'll pay.")
				listmax++
			}
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			buff = lang("私宛にね、面白い手紙が届いたんですよ。送り主はピラミッドの主『ツェン』。そして、内容は私にピラミッドへの挑戦権を与えると。…しかし、私は危険な罠に自ら陥るほど愚かではない。あなたにこの挑戦状を譲りましょう。むろん、タダではない。金貨20000枚でいかがですか？", "I have received a very strange letter. The sender calls himself Tsen, lord of the Pyramid. He has sent me an invitation to enter his pyramid... However, I am not foolish enough to barge into such a trap. I'll turn this invitation over to you. Of course, I won't let you have it for nothing. 20,000 gold and it's yours.")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("フッ。お金が用意できたら、いつでも取引に応じますよ。", "Heh, talk to me again when you have money.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			cGold(CHARA_PLAYER) -= 20000
			gosub *label_0422
			snd SOUNDLIST_PAYGOLD1
			flt
			itemcreate -1, ITEM_ID_RED_BOOK, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			iParam1(ci) = 13
			listmax = 0
			buff = lang("ホホホッ。取引成立ですね。では、この招待状をあなたに渡しましょう。", "Deal then. You can keep this invitation.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqPyramid = 1
			goto *label_3835
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 259 | _switch_sw ) {
		_switch_sw = 0
		if ( sqNuke == 1000 ) {
			listmax = 0
			buff = lang("あなた、生きてたのね。ヒトゴロシくん。", "You're still alive I see. Good luck glorious murderer.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
		}
		if ( sqNuke == 1 ) {
			listmax = 0
			buff = lang("パルミアの街に、真っ赤な花が咲くのを楽しみにしているわ。", "Go, make the brilliant blood red roses bloom.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
		}
		if ( sqNuke == 2 ) {
			flt
			nostack = 1
			itemcreate -1, ITEM_ID_SECRET_TREASURE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			iParam1(ci) = 162
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 6
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			sqNuke = 1000
			listmax = 0
			buff = lang("感じるわ、大勢の人の苦しみ…悲しみ…。あなたはたくさん殺したのね。小さな子供…女性…老人…生まれて間もない赤ん坊…あたし、今日は身体が火照って眠れそうにないわ。ありがとう。報酬を受け取りなさい。", "I can feel it already... the suffering... the misery... the pain... You've killed many people this day, you should be proud. Little kids, girls, women, old men, the sick, the feeble, even those neither born nor conceived yet. My body's hot, excited, I can hardly breathe... I won't be able to sleep tonight. My thanks, these are for you. ")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
		}
		if ( sqNuke == 0 ) {
			listmax = 0
			buff = lang("ねえ、あなたはこの街の人じゃないでしょ？匂いで分かるのよ、外の人間は。外の…世界があたしに教えてくれたのは、力のない生物はただ利用され、弄ばれ、最後には食べられてしまうっていうことだけ。同情や慈悲さえ勝ち取れない人間が、この街には大勢いる。そんな者達がどうやって生活しているか、あなたは知りたいと思うわない？", "Hey, you're not from around here are you? I can tell just by your smell. The world out there... it's taught me that the meek are inevitably used, abused, and then chewed up and swallowed kicking and screaming. The people here are a rank lot, you won't win them over with sympathy and compassion. Don't you ever wonder how people like that can survive? Don't you want to know? ")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			list(0, listmax) = 1
			listn(0, listmax) = lang("もちろん", "Of course I will.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			buff = lang("あたし達は他人の血を吸って生きるのよ。憎しみや妬み、執着、悪意が、この街では力になる。外の世界では疎まれ軽蔑される弱き者達が、自分に与えられた能力をはじめて認めてもらえる、ダルフィはそんな街。ねえ、あなたもこっちの世界に来る気はない？", "It's so simple, we live by feeding off of others. Spite, hatred, wickedness, and unrelenting cutthroat vigor are the only strengths you can rely on in this town. The outside world looks down on our lot, so we will make the outside world recognize our might. Say, stranger, why don't you join me in my world?")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("どっかにいきなさい、イクジナシくん。", "Then find somewhere else to stand, coward.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			sqNuke = 1
			listmax = 0
			buff = lang("そう、あなたもこちらの人間だったのね。歓迎の宴の代わりに、美味しい話をあげるわ。あたしね、たくさんの人が苦しむ姿を想像すると、とても興奮するの。パルミアの宿屋にぬいぐるみが置かれている部屋がある。そのぬいぐるみに、爆弾をしかけなさい。あのすました街を血で溢れさせてくれたら、ご褒美をあげる。", "Looks like you're one of us after all. I can't give you a welcome feast, but I can tell you a delicious little story. When I imagine others suffering, whimpering in pain and misery, I get goose bumps. How divine! At the inn in Palmia, there's a stuffed toy laying on the floor of the private room. Stick this bomb inside that toy for me. If you can drown those mindless ants in blood for me, I'll reward you well ")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
		}
		if ( cGold(CHARA_PLAYER) >= 12000 | ncgGoldOverflow > 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("1個購入する", "I'll buy.")
			listmax++
		}
		if ( ogTitleFelixHoenikker == 2 ) {
			if ( cGold(CHARA_PLAYER) >= 120000 | ncgGoldOverflow > 0 ) {
				list(0, listmax) = 2
				listn(0, listmax) = lang("10個購入する", "I'll buy 10 bombs.")
				listmax++
			}
			if ( cGold(CHARA_PLAYER) >= 1200000 | ncgGoldOverflow > 0 ) {
				list(0, listmax) = 3
				listn(0, listmax) = lang("100個購入する", "I'll buy 100 boms.")
				listmax++
			}
		}
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		buff = lang("ねえ、核爆弾買う？1個 金貨12,000枚よ。", "Here, you need a nuke. Only 12,000 gold pices per bomb.")
		gosub *label_3836
		if ( chatval <= 0 ) {
			listmax = 0
			buff = lang("あら、そう。", "Then go away.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( chatval == 1 ) {
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			cGold(CHARA_PLAYER) -= 12000
			gosub *label_0422
			snd SOUNDLIST_PAYGOLD1
			flt
			itemcreate -1, ITEM_ID_NUCLEAR_BOMB, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			listmax = 0
			throwsstpevent "BuyNuke", tc, "", 0
			buff = lang("さあ、真っ赤な花を咲かせなさい。", "Go, make the brilliant blood red roses bloom.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
		}
		if ( chatval == 2 ) {
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			cGold(CHARA_PLAYER) -= 120000
			gosub *label_0422
			snd SOUNDLIST_PAYGOLD1
			flt
			itemcreate -1, ITEM_ID_NUCLEAR_BOMB, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 10
			listmax = 0
			buff = lang("さあ、真っ赤な花を咲かせなさい。", "Go, make the brilliant blood red roses bloom.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
		}
		if ( chatval == 3 ) {
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			cGold(CHARA_PLAYER) -= 1200000
			gosub *label_0422
			snd SOUNDLIST_PAYGOLD1
			flt
			itemcreate -1, ITEM_ID_NUCLEAR_BOMB, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 100
			listmax = 0
			buff = lang("さあ、真っ赤な花を咲かせなさい。", "Go, make the brilliant blood red roses bloom.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
		}
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 279 | _switch_sw ) {
		_switch_sw = 0
		if ( sqBiologist >= 1000 ) {
			listmax = 0
			buff = lang("なんじゃ、話しかけるでにゃー。実験で忙しいのじゃ！", "I don't have time to talk, I'm busy conducting experiments. Out of the way!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			if ( cnRace(CHARA_PLAYER) == "mutant" | gettrait(0, 0) == 1 ) {
				list(0, listmax) = 1
				listn(0, listmax) = lang("自分の肉体を再構築してほしい", "I want my body to rebuild itself.")
				listmax++
			}
			list(0, listmax) = 2
			listn(0, listmax) = lang("ペットの肉体を再構築してほしい", "I want pets body to rebuild itself.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( chatval <= 0 ) {
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			if ( chatval == 1 ) {
				bodycheck 0
				nc_intb_001 = stat
				if ( nc_intb_001 == (-1) ) {
					goto *label_3835
				}
				plat = 20 + ncgBodyRebuildPlatinumCost * 20
				listmax = 0
				buff = lang("部位を変えたいのじゃな？価格は" + plat + "プラチナ硬貨じゃ。", "cost " + plat + "platinum pieces.")
				if ( cPlat(CHARA_PLAYER) >= plat ) {
					list(0, listmax) = 1
					listn(0, listmax) = lang("部位を変える", "Change Body.")
					listmax++
				}
				list(0, listmax) = 0
				listn(0, listmax) = lang("今日はやめとく", "Not today.")
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( chatval == 1 ) {
					nc_intb_003 = -1
					repeat 30
						nc_intb_002 = cdata(100 + cnt, CHARA_PLAYER) / EXT_EQUIP_SLOTS
						if ( nc_intb_002 != 0 & nc_intb_002 <= 9 & nc_intb_001 + 1 != nc_intb_002 ) {
							repeat
								nc_intb_003 = rnd(30)
								nc_intb_002 = cdata(100 + nc_intb_003, CHARA_PLAYER) / EXT_EQUIP_SLOTS
								if ( nc_intb_002 != 0 & nc_intb_002 <= 9 & nc_intb_001 + 1 != nc_intb_002 ) {
									break
								}
							loop
							break
						}
					loop
					if ( nc_intb_003 == (-1) ) {
						listmax = 0
						buff = lang("残念じゃが、その部位はこれ以上増やせないみたいじゃ。", "Sorry, I can't add any more to that part of the body.")
						tc = tc * (0 == 0) + (0 != 0) * 0
						list(0, listmax) = 0
						listn(0, listmax) = strbye
						listmax++
						chatesc = 1
						gosub *label_3836
						if ( scenemode ) {
							if ( scene_cut == 1 ) {
								goto *label_3835
							}
						}
						goto *label_3835
					}
					body = 100 + nc_intb_003
					nc_intb_004 = cdata(body, CHARA_PLAYER) / EXT_EQUIP_SLOTS
					r1 = 0
					gosub *label_3591
					cdata(body, CHARA_PLAYER) = (nc_intb_001 + 1) * 10000
					cPlat(CHARA_PLAYER) -= plat
					snd SOUNDLIST_PAYGOLD1
					snd SOUNDLIST_PRAY1
					txtef COLOR_GREEN
					txt -1, lang("あなたの" + bodyn(nc_intb_004) + "は新たな" + bodyn(cdata(body, CHARA_PLAYER) / EXT_EQUIP_SLOTS) + "に変化した！", "")
					ncgBodyRebuildPlatinumCost = limitmax(ncgBodyRebuildPlatinumCost + 1, 14)
					autosave = 1 * (gArea  != AREA_SHOW_HOUSE)
					if ( cfg_noautosave > 2 & gettrait(0, 190) == 0 ) {
						autosave = 0
					}
				}
				goto *label_3835
			}
			if ( chatval == 2 ) {
				allyctrl = 4
				gosub *label_2611
				if ( stat == (-1) ) {
					goto *label_3835
				}
				nc_intb_100 = stat
				if ( cnRace(nc_intb_100) != "mutant" & gettrait(nc_intb_100, 0) != 1 ) {
					listmax = 0
					buff = lang("その子の部位を変える事は出来ないぞ。", "Sorry, I can't change a part of that pet.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *label_3835
				}
				bodycheck nc_intb_100
				nc_intb_001 = stat
				if ( nc_intb_001 == (-1) ) {
					goto *label_3835
				}
				plat = 20 + ncgBodyRebuildPlatinumCost * 20
				listmax = 0
				buff = lang("その子の部位を変えたいのじゃな？価格は" + plat + "プラチナ硬貨じゃ。", "cost " + plat + "platinum pieces.")
				if ( cPlat(CHARA_PLAYER) >= plat ) {
					list(0, listmax) = 1
					listn(0, listmax) = lang("部位を変える", "Change Body.")
					listmax++
				}
				list(0, listmax) = 0
				listn(0, listmax) = lang("今日はやめとく", "Not today.")
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( chatval == 1 ) {
					nc_intb_003 = -1
					repeat 30
						nc_intb_002 = cdata(100 + cnt, nc_intb_100) / EXT_EQUIP_SLOTS
						if ( nc_intb_002 != 0 & nc_intb_002 <= 9 & nc_intb_001 + 1 != nc_intb_002 ) {
							repeat
								nc_intb_003 = rnd(30)
								nc_intb_002 = cdata(100 + nc_intb_003, nc_intb_100) / EXT_EQUIP_SLOTS
								if ( nc_intb_002 != 0 & nc_intb_002 <= 9 & nc_intb_001 + 1 != nc_intb_002 ) {
									break
								}
							loop
							break
						}
					loop
					if ( nc_intb_003 == (-1) ) {
						listmax = 0
						buff = lang("残念じゃが、その部位はこれ以上増やせないみたいじゃ。", "Sorry, I can't add any more to that part of the body.")
						tc = tc * (0 == 0) + (0 != 0) * 0
						list(0, listmax) = 0
						listn(0, listmax) = strbye
						listmax++
						chatesc = 1
						gosub *label_3836
						if ( scenemode ) {
							if ( scene_cut == 1 ) {
								goto *label_3835
							}
						}
						goto *label_3835
					}
					body = 100 + nc_intb_003
					nc_intb_004 = cdata(body, nc_intb_100) / EXT_EQUIP_SLOTS
					r1 = nc_intb_100
					gosub *label_3591
					cdata(body, nc_intb_100) = (nc_intb_001 + 1) * 10000
					cPlat(CHARA_PLAYER) -= plat
					snd SOUNDLIST_PAYGOLD1
					snd SOUNDLIST_PRAY1
					txtef COLOR_GREEN
					txt -1, lang(name(nc_intb_100) + "の" + bodyn(nc_intb_004) + "は新たな" + bodyn(cdata(body, nc_intb_100) / EXT_EQUIP_SLOTS) + "に変化した！", "")
					ncgBodyRebuildPlatinumCost = limitmax(ncgBodyRebuildPlatinumCost + 1, 14)
					autosave = 1 * (gArea  != AREA_SHOW_HOUSE)
					if ( cfg_noautosave > 2 & gettrait(0, 190) == 0 ) {
						autosave = 0
					}
				}
				goto *label_3835
			}
		}
		if ( sqBiologist == 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("手伝う", "Alright, I'll see what I can do.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			buff = lang("おうおう、良いところに来た。猫の手も借りたいほど忙しいのじゃ。今わしは遺伝子操作の研究をしておってな、成功すればなんと、二体の生物を合成させて、より強力な種を造りだすことができるのじゃ！最後の段階として、5体の実験体が必要じゃが、ちょっと取ってきてはくれまいか？報酬として、今使っている試作機をくれてやってもよいぞ。", "Oh oh oh! You've come at *just* the right time. I'm so busy I'd take help from a cat if I had to. I'm doing research in the most remarkable field of genetic engineering. You see, I can take two living creatures and combine them to produce an even stronger creature! Is that not the most amazing thing you've ever heard? I need five test subjects for the final stage of the experiment. Won't you go get some for me? I'll reward you with the gene splicing machine I'm building.")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("とんだ愚か者じゃ！", "Then get out of my way you fool!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			flt
			nostack = 1
			itemcreate -1, ITEM_ID_MONSTER_BALL, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 6
			iParam2(ci) = 5
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			listmax = 0
			buff = lang("よしよし…このモンスターボールを持っていくがいい。使い方はわかっておるな？そう、瀕死のモンスターに投げつけるだけでよい。ボールのLV未満の相手には効かないから、気をつけるのじゃ。5個のボールにモンスターを捕獲して持ってきてくれ。いいか、「ボールに入れたまま」持ってくるのじゃぞ！", "Good good! Take these monster balls with you. Do you know how to use them? Yes yes, throw them at a monster when it is near death. The ball won't work if the monster is too high in level, so be careful. Please bring me five captured monsters. Oh... and... *please* bring them back to me IN the balls!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqBiologist = 1
			goto *label_3835
		}
		if ( sqBiologist >= 1 & sqBiologist <= 5 ) {
			inv_getheader 0
			f = 0
			repeat invrange, invhead
				if ( sqBiologist >= 6 ) {
					break
				}
				if ( iNum(cnt) > 0 ) {
					if ( iID(cnt) == ITEM_ID_MONSTER_BALL ) {
						if ( iSubName(cnt) != 0 ) {
							iNum(cnt)--
							sqBiologist++
							f = 1
							txt -1, itemname(cnt, 1) + "を納入した。"
							continue cnt
						}
					}
				}
			loop
			if ( f ) {
				listmax = 0
				buff = lang("おうおう、例の品を持ってきてくれたか。これで実験が進むわい。", "Oh oh! What a fine batch of samples you've brought me. I can finally proceed with the final stage.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
			}
			if ( f == 0 ) {
				listmax = 0
				buff = lang("さあ、実験体を集めてくるのじゃ。", "Let's go over this one last time... I need five samples to proceed. FIVE.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
			}
			gosub *label_1681
		}
		if ( sqBiologist >= 6 ) {
			listmax = 0
			buff = lang("成功じゃ！実験は大成功じゃ！おぬしの働きに感謝して、記念すべき遺伝子複合機第一号をくれてやろう。大事に使うのじゃぞ！", "Success! The experiment is a huge success! You've done a great job! To express my thanks I'll let you use my gene splicing machine. Please take good care of it.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			flt
			itemcreate -1, ITEM_ID_GENE_MACHINE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 2500
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 2
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			sqBiologist = 1000
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 280 | _switch_sw ) {
		_switch_sw = 0
		if ( sqSewer == 1000 ) {
			listmax = 0
			buff = lang("ルミエストの街道は今日も清潔だぞ！", "Clean! The roads are clean in Lumiest today!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqSewer == 0 ) {
			listmax = 0
			buff = lang("待て待て待てーい！", "Wait there! Wait!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			list(0, listmax) = 1
			listn(0, listmax) = lang("いいだろう", "Alright.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("面倒だ", "I'm not interested.")
			listmax++
			buff = lang("俺はルミエストの清掃を生涯の使命とし、この道十年のベテラン掃除屋バルザックだ。街道に落ちているどんな小さなゴミも見逃さないプロ魂を持つが、そんなプライドも傷つけられちまった。下水道にとんでもない化け物が住みついて、もう俺の手には負えないぜ。お前なら、俺の気持ちを汲み取って、退治に出向いてくれるな？", "I'm Balzak, a well known pro garage man who has been cleaning the roads of Lumiest for 10 years. I've never missed a single garbage that messes the beautiful town of Lumiest. But my days are over. Foul creatures now nest in the sewer and sick smells spread everywhere. Adventurer, you are my only hope. Kill them, kill them for my sake!")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("そうか…冷たい奴だな…", "Ok. You are cruel.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("その言葉、待っていたぜ！下水道は宿屋の近くにある。気をつけろ、奴らは手強いぞ！", "That's the word I wanted to hear! You'll find the sewer entrance near the inn. Be aware, they are pretty tough.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqSewer = 1
			cell_featset 18, 45, tile_downstairs, CELL_FEATURE_DOWNSTAIRS, 20
			goto *label_3835
		}
		if ( sqSewer == 1 ) {
			listmax = 0
			buff = lang("おう、お前か。下水道の掃除は進んでいるか？", "Oh, it's you. What about the task I asked you?")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqSewer == 2 ) {
			flt
			itemcreate -1, ITEM_ID_STATUE_JURE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			flt
			nostack = 1
			itemcreate -1, ITEM_ID_MONSTER_BALL, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			iParam2(ci) = 30
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 15000
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 4
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("なんだってー！あの下水道をほんとに浄化したというのか？さすがに、お前を選んだ俺の目は確かだったということか…ともかく礼をいうぞ！この報酬を受け取ってくれ。", "Whaaat! You've really done it? Amazing! Here, take it, you deserve this.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqSewer = 1000
			goto *label_3835
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 290 | _switch_sw ) {
		_switch_sw = 0
		if ( guildcheck(0) != "mage" ) {
			list(0, listmax) = 2
			listn(0, listmax) = lang("魔術士ギルドとは？", "Tell me about the Mages Guild.")
			listmax++
			list(0, listmax) = 1
			listn(0, listmax) = lang("魔術士ギルドに加入したい", "I want to join the Mages Guild.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			buff = lang("止まれ…この階段の先は魔術士ギルドの管轄だ。ギルドメンバー以外の者が入ることはできない…", "Halt...the stairs lead to the Mages Guild office. Only the members of the guild are allowed to enter.")
			gosub *label_3836
			if ( chatval == 2 ) {
				listmax = 0
				buff = lang("魔術士ギルドは、各地の魔術士を管轄する組合だ。組合員には規律の厳守と一定のノルマを求める代わりに、援助を施し特定の仕事を斡旋している。魔術士ギルドのメンバーには、魔法書の予約、全店舗での魔法書の割引、魔術スキルの習得と訓練などの特典がある。ギルドに加入するには、厳しい審査を通らなければならない。", "The Mages Guild is made up by experienced and confirmed experts in their field of magic. We offer a variety of services such as discounted spellbook prices, reservation of spellbooks, and training related skills. But joining the Mages Guild requires you to pass a difficult test that most common mages will fail.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_unique
			}
			if ( chatval == 1 ) {
				if ( sqMageGuild == 0 ) {
					listmax = 0
					buff = lang("ギルドに加入したいというのか…我々が求めているのは有能な魔術士だ。お前がギルドのメンバーにふさわしいか試させてもらおう。", "So you are interested in joining our guild and we only need elite mages. Let's see if you are worthy of becoming one of us.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					listmax = 0
					buff = lang("この世界には、特殊な古代文字で書かれた古書物が散らばっている。これらを収集し、解読した後に、私の横にある納入箱に収めたまえ。古書物の価値に応じてギルドポイントを与えよう。30ギルドポイント、これがお前に課せられた試験のノルマだ…", "In north Tyris, there are several ancient books encrypted with an unique rune language. Should you want to join the guild, put them into the delivery chest after you have decrypted them and we shall reward you with guild points.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					sqMageGuild = 1
					flagMageGuildNorma = 30
					snd SOUNDLIST_WRITE1
					txtef COLOR_GREEN
					txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
					listmax = 0
					buff = lang("ギルドポイントを規定の値まで集めたら、また私に話しかけてくれ。", "You will need to gather 30 guild points in order to enter the Mages Guild. Until then, we have no more to speak.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
				if ( flagMageGuildNorma > 0 ) {
					listmax = 0
					buff = lang("まだノルマが残っているじゃないか…ギルドに加入するには、審査を通らなければならないぞ。", "To pass the test, you need to gather 30 guild points.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
				listmax = 0
				buff = lang("ほう…どうやらノルマを見事に達成したようだな。", "Quite impressive...you have accomplished the task.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				if ( ogTitleTechnologyForFreedom != 2 ) {
					gRankGuild = 10000
				}
				else {
					modrank 8, -2500
				}
				joinguild 0, "mage"
				flagMageGuildNorma = 0
				flagThiefGuildNorma = 0
				sqMageGuild = 1000
				sqThiefGuild = 0
				sqFighterGuild = 0
				sqFighter1 = 0
				sqMage1 = 0
				sqThief1 = 0
				ogdata(250) = 0, 0, 0, 0, 0
				stgdata(10) = 0, 0, 0, 0, 0, 0, 0, 0
				txt -1, lang("クエストを達成した！", "You have completed the quest!")
				snd SOUNDLIST_COMPLETE1
				snd SOUNDLIST_WRITE1
				txtef COLOR_GREEN
				txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
				txtef COLOR_YELLOW
				txt -1, lang("魔術士ギルドに加入した！", "You have joined the Mages Guild!")
				listmax = 0
				buff = lang("おめでとう…合格だ。今日からお前は魔術士ギルドの一員となった。以後はギルドの規約を守り、ノルマをしっかりこなすように。", "Congratulations. You are a formal member of the Mages Guild now. You can now use this stairs to enter the office. Always conform to the guild's rule and perform your tasks.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				cell_movechara tc, 4, 20
				cXorg(tc) = 4
				cYorg(tc) = 20
			}
			goto *label_3835
		}
		cell_movechara tc, 4, 20
		cXorg(tc) = 4
		cYorg(tc) = 20
		if ( sqMage1 == 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("ノルマを貰う", "Do you have any tasks for me?")
			listmax++
		}
		else {
			list(0, listmax) = 2
			listn(0, listmax) = lang("ノルマを報告する", "About my task.")
			listmax++
		}
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		buff = lang("ようこそ魔術士ギルドへ、" + ranktitle(8) + "の" + cnName(CHARA_PLAYER) + "…どうぞ中にお入り下さい。", "Welcome to the Mages Guild, " + ranktitle(8) + " " + cnName(CHARA_PLAYER) + "... Please come in.")
		gosub *label_3836
		if ( chatval == 1 ) {
			sqMage1 = 1
			flagMageGuildNorma = 75 - gRankGuild / 200
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("良い心がけです。あなたにランク昇格のためのノルマを与えましょう。世界に散らばった古書物を解読し、納入してください。" + flagMageGuildNorma + "ギルドポイントが集まったら、昇進のための審査会に報告してあげましょう。", "Sure, there're plenty of tasks for you. For now, collect the ancient books and decrypt them. When you gather " + flagMageGuildNorma + " guild points, we will think about your promotion.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_unique
		}
		if ( chatval == 2 ) {
			if ( flagMageGuildNorma > 0 ) {
				listmax = 0
				buff = lang("どうしました？まだノルマが残っていますよ。", "You have your task to complete.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_unique
			}
			sqMage1 = 0
			flt 51 - gRankGuild / 200
			flttypemajor = FILTER_ITEM_SPELLBOOK
			itemcreate -1, ITEM_ID_DUMMY, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 10000 - gRankGuild + 1000
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), limit(4 - gRankGuild / 2500, 1, 4)
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			modrank 8, 500, 8
			listmax = 0
			buff = lang("確かにノルマの達成を確認しました。早速審査会を開いてあなたの功績を報告しましょう。", "You've done very well. I will give a report of your achievement to the council.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 294 | _switch_sw ) {
		_switch_sw = 0
		if ( guildcheck(0) != "thieve" ) {
			list(0, listmax) = 2
			listn(0, listmax) = lang("盗賊ギルドとは？", "Tell me about the Thieves Guild.")
			listmax++
			list(0, listmax) = 1
			listn(0, listmax) = lang("盗賊ギルドに加入したい", "I want to join the Thieves Guild.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			buff = lang("止まれ…この階段の先は盗賊ギルドの管轄だ。ギルドメンバー以外の者が入ることはできない…", "Halt...the stairs lead to the Thieves Guild office. Only the members of the guild are allowed to enter.")
			gosub *label_3836
			if ( chatval == 2 ) {
				listmax = 0
				buff = lang("盗賊ギルドは、各地の盗賊を管轄する組合だ。組合員には規律の厳守と一定のノルマを求める代わりに、援助を施し特定の仕事を斡旋している。盗賊ギルドのメンバーには、盗品の高値での売却、ブラックマーケットでの割引、盗賊スキルの習得と訓練などの特典がある。ギルドに加入するには、厳しい審査を通らなければならない。", "The Thieves Guild is made up by experienced and confirmed experts in their field of the shadow arts. We offer a variety of services such as buying stolen goods, discount at black markets, and training related skills. But joining the Thieves Guild requires you to pass a difficult test that most common thieves will fail.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_unique
			}
			if ( chatval == 1 ) {
				if ( sqThiefGuild == 0 ) {
					listmax = 0
					buff = lang("盗賊ギルドに加入したいというのか…我々は知ってのとおり闇の世界に身を置いている。まずは、お前が信頼に足る者かどうか試させてもらおう。", "So...you're interested in our guild? We hide in the shadows of the society. You must win our trust to enter the guild.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					sqThiefGuild = 1
					snd SOUNDLIST_WRITE1
					txtef COLOR_GREEN
					txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
					listmax = 0
					buff = lang("なに、簡単な試験だ。一定の名声を得た冒険者には、税金が毎月徴収されるのは知っているな？その税金を4ヶ月滞納するだけだ。無論、お前は犯罪者となり、国の犬に追われる事になるだろう。その覚悟がないならば、盗賊ギルドに入るなど諦めることだ。", "It is a simple task. We require you to not pay tax for 4 months. Take it granted the guards will try to hunt you down. If you aren't ready to face it, just forget it.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
				if ( gBill <= 4 & 0 == 0 ) {
					listmax = 0
					buff = lang("どうした？試験の内容は伝えたはずだ。税金を4ヶ月以上滞納してからまた来るがいい。", "I've already told you what you must do. Don't pay tax for 4 months.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
				listmax = 0
				buff = lang("ほう…どうやらノルマを見事に達成したようだな。", "Quite impressive...you have accomplished the task.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				if ( ogTitleTechnologyForFreedom != 2 ) {
					gRankGuild = 10000
				}
				else {
					modrank 8, -2500
				}
				joinguild 0, "thieve"
				flagMageGuildNorma = 0
				flagThiefGuildNorma = 0
				sqMageGuild = 0
				sqThiefGuild = 1000
				sqFighterGuild = 0
				sqFighter1 = 0
				sqMage1 = 0
				sqThief1 = 0
				ogdata(250) = 0, 0, 0, 0, 0
				stgdata(10) = 0, 0, 0, 0, 0, 0, 0, 0
				txt -1, lang("クエストを達成した！", "You have completed the quest!")
				snd SOUNDLIST_COMPLETE1
				snd SOUNDLIST_WRITE1
				txtef COLOR_GREEN
				txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
				txtef COLOR_YELLOW
				txt -1, lang("盗賊ギルドに加入した！", "You have joined the Thieves Guild!")
				listmax = 0
				buff = lang("おめでとう…合格だ。今日からお前は盗賊ギルドの一員となった。以後はギルドの規約を守り、ノルマをしっかりこなすように。", "Congratulations. You are a formal member of the Thieves Guild now. You can now use this stairs to enter the office. Always conform to the guild's rule and perform your tasks.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				cell_movechara tc, 17, 17
				cXorg(tc) = 17
				cYorg(tc) = 17
			}
			goto *label_3835
		}
		cell_movechara tc, 17, 17
		cXorg(tc) = 17
		cYorg(tc) = 17
		if ( sqThief1 == 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("ノルマを貰う", "Do you have any tasks for me?")
			listmax++
		}
		else {
			list(0, listmax) = 2
			listn(0, listmax) = lang("ノルマを報告する", "About my task.")
			listmax++
		}
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		buff = lang("ようこそ盗賊ギルドへ、" + ranktitle(8) + "の" + cnName(CHARA_PLAYER) + "…どうぞ中にお入り下さい。", "Welcome to the Thieves Guild, " + ranktitle(8) + " " + cnName(CHARA_PLAYER) + "... Please come in.")
		gosub *label_3836
		if ( chatval == 1 ) {
			sqThief1 = 1
			flagThiefGuildNorma = (10000 - gRankGuild) * 6 + 1000
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("良い心がけです。あなたにランク昇格のためのノルマを与えましょう。他人の所有物を奪い取り、盗品を売り払いなさい。金貨" + flagThiefGuildNorma + "枚相当の盗品を売ったら、昇進のための審査会に報告してあげましょう。", "Alright. The Thieves Guild wants you to put stolen goods into circulation. Steal some goods and sell them to any vendors. When the sum of your earning reaches " + flagThiefGuildNorma + " gold pieces, we will think about your promotion.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_unique
		}
		if ( chatval == 2 ) {
			if ( flagThiefGuildNorma > 0 ) {
				listmax = 0
				buff = lang("どうしました？まだノルマが残っていますよ。", "You have your task to complete.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_unique
			}
			sqThief1 = 0
			flt 51 - gRankGuild / 200
			flttypemajor = FILTER_FURNITURE
			itemcreate -1, ITEM_ID_DUMMY, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 10000 - gRankGuild + 1000
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), limit(3 - gRankGuild / 3000, 1, 3)
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			modrank 8, 500, 8
			listmax = 0
			buff = lang("確かにノルマの達成を確認しました。早速審査会を開いてあなたの功績を報告しましょう。", "You've done very well. I will give a report of your achievement to the council.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 297 | _switch_sw ) {
		_switch_sw = 0
		if ( guildcheck(0) != "fighter" ) {
			list(0, listmax) = 2
			listn(0, listmax) = lang("戦士ギルドとは？", "Tell me about the Fighters Guild.")
			listmax++
			list(0, listmax) = 1
			listn(0, listmax) = lang("戦士ギルドに加入したい", "I want to join the Fighters Guild.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			buff = lang("止まれ…この階段の先は戦士ギルドの管轄だ。ギルドメンバー以外の者が入ることはできない…", "Halt...the stairs lead to the Fighters Guild office. Only the members of the guild are allowed to enter.")
			gosub *label_3836
			if ( chatval == 2 ) {
				listmax = 0
				buff = lang("戦士ギルドは、各地の戦士を管轄する組合だ。組合員には規律の厳守と一定のノルマを求める代わりに、援助を施し特定の仕事を斡旋している。戦士ギルドのメンバーには、能力復元価格の割引、鑑定価格の割引、戦士スキルの習得と訓練などの特典がある。ギルドに加入するには、厳しい審査を通らなければならない。", "The Fighters Guild is made up by experienced and confirmed experts in their field of the fighting. We offer a variety of services such as reduced prices of identification and restoring, and training related skills. But joining the Fighters Guild requires you to pass a difficult test that most common fighters will fail.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_unique
			}
			if ( chatval == 1 ) {
				if ( sqFighterGuild == 0 ) {
					listmax = 0
					buff = lang("戦士ギルドに加入したいというのか…我々が求めているのは、どんな強敵にも怯まず、与えられた指令を確実にこなす真のハンターだ。いる。お前が信頼に足る者かどうか試させてもらおう。", "To join the Fighters Guild, you must first face a test to earn our trust. We only need skilled hunters who will obey our law and remain undaunted even in a desperate battle.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					sqFighterGuild = 1
					snd SOUNDLIST_WRITE1
					txtef COLOR_GREEN
					txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
					repeat
						flt 10
						characreate MAX_CHARA_NC, CREATURE_ID_BUG, -3, 0
						if ( refchara(cId(MAX_CHARA_NC), DBSPEC_CHARA_RARE) < 70 ) {
							continue
						}
						if ( cRelation(MAX_CHARA_NC) != RELATION_ENEMY ) {
							continue
						}
						if ( cQuality(MAX_CHARA_NC) >= FIX_QUALITY_MIRACLE ) {
							continue
						}
						break
					loop
					fFGNorma = 15
					fFGTG = cId(MAX_CHARA_NC)
					chara_vanquish MAX_CHARA_NC
					listmax = 0
					buff = lang("" + refchara(fFGTG, DBSPEC_CHARA_NAME_ORG, 1) + "を" + fFGNorma + "匹討伐するのが、お前に課せられた試験だ。ノルマを達成したら、私に報告したまえ。", "The task given to you is this. Find and slay " + fFGNorma + " " + refchara(fFGTG, DBSPEC_CHARA_NAME_ORG, 1) + ". When you complete this, talk to me again")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
				if ( fFGNorma > 0 & 0 == 0 ) {
					listmax = 0
					buff = lang("どうした？試験の内容は伝えたはずだ。" + refchara(fFGTG, DBSPEC_CHARA_NAME_ORG, 1) + "をあと" + fFGNorma + "匹討伐してからまた来なさい。", "You still need to slay " + fFGNorma + " more " + refchara(fFGTG, DBSPEC_CHARA_NAME_ORG, 1) + ".")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
				listmax = 0
				buff = lang("ほう…どうやらノルマを見事に達成したようだな。", "Quite impressive...you have accomplished the task.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				if ( ogTitleTechnologyForFreedom != 2 ) {
					gRankGuild = 10000
				}
				else {
					modrank 8, -2500
				}
				joinguild 0, "fighter"
				flagMageGuildNorma = 0
				flagThiefGuildNorma = 0
				sqMageGuild = 0
				sqThiefGuild = 0
				sqFighterGuild = 1000
				sqFighter1 = 0
				sqMage1 = 0
				sqThief1 = 0
				ogdata(250) = 0, 0, 0, 0, 0
				stgdata(10) = 0, 0, 0, 0, 0, 0, 0, 0
				txt -1, lang("クエストを達成した！", "You have completed the quest!")
				snd SOUNDLIST_COMPLETE1
				snd SOUNDLIST_WRITE1
				txtef COLOR_GREEN
				txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
				txtef COLOR_YELLOW
				txt -1, lang("戦士ギルドに加入した！", "You have joined the Fighters Guild!")
				listmax = 0
				buff = lang("おめでとう…合格だ。今日からお前は戦士ギルドの一員となった。以後はギルドの規約を守り、ノルマをしっかりこなすように。", "Congratulations. You are a formal member of the Fighters Guild now. You can now use this stairs to enter the office. Always conform to the guild's rule and perform your tasks.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				cell_movechara tc, 29, 2
				cXorg(tc) = 29
				cYorg(tc) = 2
			}
			else {
			}
			goto *label_3835
		}
		cell_movechara tc, 29, 2
		cXorg(tc) = 29
		cYorg(tc) = 2
		if ( sqFighter1 == 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("ノルマを貰う", "Do you have any tasks for me?")
			listmax++
		}
		else {
			list(0, listmax) = 2
			listn(0, listmax) = lang("ノルマを報告する", "About my task.")
			listmax++
		}
		list(0, listmax) = 3
		listn(0, listmax) = lang("人を借りたい", "I want to borrow a member.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		buff = lang("ようこそ戦士ギルドへ、" + ranktitle(8) + "の" + cnName(CHARA_PLAYER) + "…どうぞ中にお入り下さい。", "Welcome to the Fighters Guild, " + ranktitle(8) + " " + cnName(CHARA_PLAYER) + "... Please come in.")
		gosub *label_3836
		if ( chatval == 1 ) {
			repeat
				flt difficulty() + 10
				characreate MAX_CHARA_NC, CREATURE_ID_BUG, -3, 0
				if ( refchara(cId(MAX_CHARA_NC), DBSPEC_CHARA_RARE) < 70 ) {
					continue
				}
				if ( cRelation(MAX_CHARA_NC) != RELATION_ENEMY ) {
					continue
				}
				if ( cQuality(MAX_CHARA_NC) >= FIX_QUALITY_MIRACLE ) {
					continue
				}
				break
			loop
			fFGNorma = 2 + rnd(3)
			fFGTG = cId(MAX_CHARA_NC)
			chara_vanquish MAX_CHARA_NC
			sqFighter1 = 1
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("良い心がけです。あなたにランク昇格のためのノルマを与えましょう。" + refchara(fFGTG, DBSPEC_CHARA_NAME_ORG, 1) + "をあと" + fFGNorma + "匹討伐してからまた来なさい。昇進のための審査会に報告してあげましょう。", "There's a task for you. Go find and slay " + fFGNorma + " " + refchara(fFGTG, DBSPEC_CHARA_NAME_ORG, 1) + ". Then we will think about your promotion.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_unique
		}
		if ( chatval == 2 ) {
			if ( fFGNorma > 0 & 0 == 0 ) {
				listmax = 0
				buff = lang("どうしました？まだノルマが残っていますよ。", "You have your task to complete.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_unique
			}
			sqFighter1 = 0
			flt 51 - gRankGuild / 200, calcfixlv(FIX_QUALITY_GREAT)
			flttypemajor = FILTER_WEAPON
			itemcreate -1, ITEM_ID_DUMMY, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 10000 - gRankGuild + 1000
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), limit(4 - gRankGuild / 2500, 1, 4)
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			modrank 8, 500, 8
			listmax = 0
			buff = lang("確かにノルマの達成を確認しました。早速審査会を開いてあなたの功績を報告しましょう。", "You've done very well. I will give a report of your achievement to the council.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( chatval == 3 ) {
			f = 0
			repeat 15, 1
				if ( cRole(cnt) == 20001 ) {
					if ( cExist(cnt) != CHAR_STATE_DEAD ) {
						f = 1
						break
					}
				}
			loop
			if ( f ) {
				listmax = 0
				buff = lang("一人だけと言ったでしょう。", "Only one member at a time, you know the rules.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_unique
			}
			flt 0, FIX_QUALITY_GOOD
			p(99) = gRankGuild / 100
			initlv = 56 - p(99) / 2
			characreate MAX_CHARA_NC, CREATURE_ID_FIGHTER_GUILD_MEMBER, -3, 0
			if ( stat ) {
				if ( jp ) {
					rname = refchara(CREATURE_ID_FIGHTER_GUILD_MEMBER, DBSPEC_CHARA_NAME_ORG, 1)
					sreplace uname, cnName(rc), rname, ""
					if ( p(99) == 1 ) {
						cnName(rc) = rname + "の" + guildclassn(0, 0)
					}
					else {
						if ( p(99) <= 5 ) {
							cnName(rc) = rname + "の" + guildclassn(1, 0)
						}
						else {
							if ( p(99) <= 10 ) {
								cnName(rc) = rname + "の" + guildclassn(2, 0)
							}
							else {
								if ( p(99) <= 80 ) {
									cnName(rc) = rname + "の" + guildclassn(p(99) / 15 + 3, 0)
								}
								else {
									cnName(rc) = rname + "の" + guildclassn(8, 0)
								}
							}
						}
					}
					cnName(rc) += uname
				}
				gosub *label_3911
				if ( stat ) {
					cRole(rc) = 20001
					cbitmod CHARA_BIT_HIRED, rc, TRUE
					cHireDate(rc) = getgametime() + 24 * 7
				}
			}
			listmax = 0
			buff = lang("人員が必要なのか？なら一人だけ派遣しましょう。期間は7日間です。それでなんとかしなさい。", "Need someone with you on your travels? We can dispatch a single member to join you for 7 days. You'll be on your own after that, however.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_unique
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( cRole(tc) == 298 | _switch_sw ) {
		_switch_sw = 0
		if ( guildcheck(0) != "blacksmith" ) {
			list(0, listmax) = 2
			listn(0, listmax) = lang("鍛冶ギルドとは？", "Tell me about the Blacksmith Guild.")
			listmax++
			list(0, listmax) = 1
			listn(0, listmax) = lang("鍛冶ギルドに加入したい", "I want to join the Blacksmith Guild.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			buff = lang("止まれ…この階段の先は鍛冶ギルドの管轄だ。ギルドメンバー以外の者が入ることはできない…", "Halt...the stairs lead to the Blacksmith Guild office. Only the members of the guild are allowed to enter.")
			gosub *label_3836
			if ( chatval == 2 ) {
				listmax = 0
				buff = lang("鍛冶ギルドは、各地の鍛冶士を支援する組合だ。組合員には規律の厳守と一定のノルマを求める代わりに、援助を施し特定の仕事を斡旋している。鍛冶ギルドのメンバーには、鍛冶の知識の伝授、鍛冶に必要な資源の支援などの特典がある。ギルドに加入するには、厳しい審査を通らなければならない。", "Blacksmith guild is an association supporting blacksmith of each place. A member is given a benefit to increase the sale of the item which is convenient for blacksmith, the experience level of the hammer.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_unique
			}
			if ( chatval == 1 ) {
				if ( stgdata(10) == 0 ) {
					listmax = 0
					buff = lang("鍛冶ギルドに加入したいというのか…我々は鍛冶の道を歩むものを必要としている。まずは、お前が鍛冶の道を歩むのに足る者かどうか試させてもらおう。", "Okay... then give you a test to enter the guild.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					stgdata(10) = 1
					stgdata(12) = 5
					snd SOUNDLIST_WRITE1
					txtef COLOR_GREEN
					txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
					listmax = 0
					buff = lang("とりあえず、実際に鍛冶に挑戦してみろ。ハンマーを使って装備の作成を行うんだ。" + stgdata(12) + "回作成に挑戦すれば試験は合格だ。…そして事前に一つ注意しておくことがある、ハンマーはそれ自体が職人の経験を記憶している。もしも失うことがあればその経験も同時に失われる…一度手にしたハンマーは無くさないように気をつけろ。", "Use the hammer to make the equipment " + stgdata(12) + " times. Then the test will pass, okey?")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
				if ( stgdata(12) != 0 ) {
					listmax = 0
					buff = lang("どうした？試験の内容は伝えたはずだ。指定した回数成功してからまた来るがいい。", "I've already told you what you must do.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
				listmax = 0
				buff = lang("ほう…どうやらノルマを見事に達成したようだな。", "Quite impressive...you have accomplished the task.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				if ( ogTitleTechnologyForFreedom != 2 ) {
					gRankGuild = 10000
				}
				else {
					modrank 8, -2500
				}
				joinguild 0, "blacksmith"
				flagMageGuildNorma = 0
				flagThiefGuildNorma = 0
				sqMageGuild = 0
				sqThiefGuild = 0
				sqFighterGuild = 0
				sqFighter1 = 0
				sqMage1 = 0
				sqThief1 = 0
				ogdata(250) = 0, 0, 0, 0, 0
				stgdata(10) = 0, 0, 0, 0, 0, 0, 0, 0
				stgdata(10) = 1000
				stgdata(11) = 0
				stgdata(12) = 0
				txtef COLOR_GREEN
				txt -1, lang("クエストを達成した！", "You have completed the quest!")
				snd SOUNDLIST_COMPLETE1
				snd SOUNDLIST_WRITE1
				txtef COLOR_GREEN
				txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
				txtef COLOR_YELLOW
				txt -1, lang("鍛冶ギルドに加入した！", "You have joined the Blacksmith Guild!")
				listmax = 0
				buff = lang("おめでとう…合格だ。今日からお前は鍛冶ギルドの一員となった。以後はギルドの規約を守り、ノルマをしっかりこなすように。", "Congratulations. You are a formal member of the Blacksmith Guild now. You can now use this stairs to enter the office. Always conform to the guild's rule and perform your tasks.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				cell_movechara tc, 23, 5
				cXorg(tc) = 23
				cYorg(tc) = 5
			}
			goto *label_3835
		}
		cell_movechara tc, 23, 5
		cXorg(tc) = 23
		cYorg(tc) = 5
		if ( stgdata(11) == 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("ノルマを貰う", "Do you have any tasks for me?")
			listmax++
		}
		else {
			list(0, listmax) = 2
			listn(0, listmax) = lang("ノルマを報告する", "About my task.")
			listmax++
		}
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		buff = lang("ようこそ鍛冶ギルドへ、" + ranktitle(8) + "の" + cnName(CHARA_PLAYER) + "…どうぞ中にお入り下さい。", "Welcome to the Blacksmith Guild, " + ranktitle(8) + " " + cnName(CHARA_PLAYER) + "... Please come in.")
		gosub *label_3836
		if ( chatval == 1 ) {
			stgdata(11) = 1
			stgdata(12) = (10000 - gRankGuild) / 500 + 20
			if ( gRankGuild < 3000 ) {
				stgdata(12) *= 3
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("良い心がけです。あなたにランク昇格のためのノルマを与えましょう。鍛冶で装備作成に挑戦してください。" + stgdata(12) + "回装備作成を行えば、昇進のための審査会に報告してあげましょう。", "Okay, I'll give you a quota. Create equipment " + stgdata(12) + " times with a hammer. Once you've achieved it, we will think about your promotion.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_unique
		}
		if ( chatval == 2 ) {
			if ( stgdata(12) > 0 ) {
				listmax = 0
				buff = lang("どうしました？まだノルマが残っていますよ。", "You have your task to complete.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_unique
			}
			stgdata(11) = 0
			flt 51 - gRankGuild / 200
			flttypemajor = FILTER_FURNITURE
			itemcreate -1, ITEM_ID_DUMMY, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 10000 - gRankGuild + 1000
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), limit(3 - gRankGuild / 3000, 1, 3)
			txtef COLOR_GREEN
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			modrank 8, 500, 8
			listmax = 0
			buff = lang("確かにノルマの達成を確認しました。早速審査会を開いてあなたの功績を報告しましょう。", "You've done very well. I will give a report of your achievement to the council.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( cRole(tc) == ROLE_SHOP_LURGY & guildcheck(0) == "blacksmith" ) {
		listmax = 0
		buff = lang("ハロー！あたしは妖精の鍛冶士、ルージィよ！普段はとおーいところで鍛冶士をやっているんだけど、今日はちょっと用事があってこっちに来てるの！…そうだ！せっかくだしプラチナ硬貨5枚であなたに私の技術の秘密、教えるわよ！", "Hello! My name <lurgy>! With 5 platinum coins, you can easily increase the experience value of the hammer!")
		if ( findbuff(CHARA_PLAYER, 67) == (-1) ) {
			if ( cPlat(CHARA_PLAYER) >= 5 ) {
				list(0, listmax) = 1
				listn(0, listmax) = lang("プラチナ硬貨を5枚支払う", "Pay to 5 platinum pieces.")
				listmax++
			}
			if ( gRankGuild == 100 ) {
				if ( cPlat(CHARA_PLAYER) >= 50 ) {
					list(0, listmax) = 2
					listn(0, listmax) = lang("プラチナ硬貨を50枚支払う", "Pay to 50 platinum pieces.")
					listmax++
				}
				if ( cPlat(CHARA_PLAYER) >= 500 ) {
					list(0, listmax) = 3
					listn(0, listmax) = lang("プラチナ硬貨を500枚支払う", "Pay to 500 platinum pieces.")
					listmax++
				}
				if ( cPlat(CHARA_PLAYER) >= 5000 ) {
					list(0, listmax) = 4
					listn(0, listmax) = lang("プラチナ硬貨を5000枚支払う", "Pay to 5000 platinum pieces.")
					listmax++
				}
				if ( ncgHammerMaxLevel >= 14000 ) {
					if ( cPlat(CHARA_PLAYER) >= 1 ) {
						list(0, listmax) = 5
						listn(0, listmax) = lang("任意の枚数支払う", "Pay to Any platinum pieces.")
						listmax++
					}
				}
			}
		}
		list(0, listmax) = 10
		listn(0, listmax) = lang("職業の技能を学びたい", "Learn the skills of profession.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		gosub *label_3836
		if ( chatval == 1 ) {
			snd SOUNDLIST_PAYGOLD1
			cPlat(CHARA_PLAYER) -= 5
			addbuff CHARA_PLAYER, 67, 1000, 1000
			buff = lang("はい、これで上手に鍛冶を学ぶことが出来るはずよ！", "Yes, you should be able to learn blacksmithing well!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
		}
		if ( chatval == 2 ) {
			snd SOUNDLIST_PAYGOLD1
			cPlat(CHARA_PLAYER) -= 50
			addbuff CHARA_PLAYER, 67, 2000, 10000
			buff = lang("はーっ…はい、これで上手に鍛冶を学ぶことが出来るはずよ！", "Yes, you should be able to learn blacksmithing well! ...Well, I'm a little tired.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
		}
		if ( chatval == 3 ) {
			snd SOUNDLIST_PAYGOLD1
			cPlat(CHARA_PLAYER) -= 500
			addbuff CHARA_PLAYER, 67, 3000, 100000
			buff = lang("ぜ…ぜぇ…はい…これで上手に鍛冶を学ぶことが出来るはずよ！", "Yes, you should be able to learn blacksmithing well! ...oohh... I'm tired.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
		}
		if ( chatval == 4 ) {
			snd SOUNDLIST_PAYGOLD1
			cPlat(CHARA_PLAYER) -= 5000
			addbuff CHARA_PLAYER, 67, 5000, 1000000
			buff = lang("は…は…はい…これで…上手に…鍛冶を…学ぶことが出来るはずよ…！はぁ…疲れた…", "Yes, you should be able to learn blacksmithing well! ha...ha...yes, I'm very tired.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
		}
		if ( chatval == 5 ) {
			txt -1, lang("何枚支払う？", "How many pay to?")
			val = (windoww - 200) / 2 + inf_screenx, winposy(60), 8, 1, cPlat(CHARA_PLAYER)
			inputlog = "" + 1
			locvar_dmghp_p = rtval
			gosub *prompt_word
			rtval = locvar_dmghp_p
			nc_intb_001 = int(inputlog)
			snd SOUNDLIST_PAYGOLD1
			cPlat(CHARA_PLAYER) -= nc_intb_001
			addbuff CHARA_PLAYER, 67, limitmax(cPlat(CHARA_PLAYER), 500 * 19), nc_intb_001 * 200
			buff = lang("ひーっ！ひーっ！も、もうだめーっ！力を与えすぎてしんじゃうーっ！やすませてーっ！", "I AM TIERRRRRRRD!! NOOOOOOOO!!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
		}
		if ( chatval == 10 ) {
			plat = 20 + ncgdata(110) * 20
			listmax = 0
			buff = lang("技能を学びたい？いいわよ、でも…対価として" + plat + "プラチナ硬貨払ってもらうわよ。", "cost " + plat + "platinum pieces.")
			if ( cPlat(CHARA_PLAYER) >= plat ) {
				list(0, listmax) = 1
				listn(0, listmax) = lang("プラチナ硬貨を支払う", "Pay plat.")
				listmax++
			}
			list(0, listmax) = 0
			listn(0, listmax) = lang("今日はやめとく", "Not today.")
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( chatval == 1 ) {
				allyctrl = 6
				gosub *label_2611
				if ( stat != (-1) ) {
					cc = stat
					nc_intb_001 = stat
					cPlat(CHARA_PLAYER) -= plat
					snd SOUNDLIST_PAYGOLD1
					nc_intb_002 = 2
					nc_resettrait nc_intb_001
					snd SOUNDLIST_BOOK1
					gosub *label_0647
					snd SOUNDLIST_PRAY1
					txtef COLOR_GREEN
					txt -1, lang(name(cc) + "は新たな職業技能を手に入れた！", "")
					if ( cc == CHARA_PLAYER ) {
						nc_setjobskill
					}
					ncgdata(110) = limitmax(ncgdata(110) + 1, 14)
					autosave = 1 * (gArea  != AREA_SHOW_HOUSE)
					if ( cfg_noautosave > 2 & gettrait(0, 190) == 0 ) {
						autosave = 0
					}
				}
			}
		}
		goto *label_3835
		_switch_sw++
	}
	if ( cRole(tc) == 299 | _switch_sw ) {
		_switch_sw = 0
		if ( guildcheck(0) != "prostitute" ) {
			list(0, listmax) = 2
			listn(0, listmax) = lang("娼婦ギルドとは？", "Tell me about the Prostitute Guild.")
			listmax++
			list(0, listmax) = 1
			listn(0, listmax) = lang("娼婦ギルドに加入したい", "I want to join the Prostitute Guild.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			buff = lang("止まれ…この階段の先は娼婦ギルドの管轄だ。ギルドメンバー以外の者が入ることはできない…", "Halt...the stairs lead to the Prostitute Guild office. Only the members of the guild are allowed to enter.")
			gosub *label_3836
			if ( chatval == 2 ) {
				listmax = 0
				buff = lang("娼婦ギルドは、各地の娼婦を支援する組合だ。組合員には規律の厳守と一定のノルマを求める代わりに、活動を行うための援助を行っている。娼婦ギルドのメンバーには、活動を行うための各種酒や病気になった時の為の治療薬の販売、顧客への紹介を行っている。ギルドに加入するには、厳しい審査を通らなければならない。", "The Prostitute Guild is a union that supports prostitutes around the world. We sell potions for sickness, sell liquor, and introduce members to customers.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_unique
			}
			if ( chatval == 1 ) {
				if ( stgdata(15) == 0 ) {
					listmax = 0
					buff = lang("娼婦ギルドに加入したいというのか…知っての通り、このギルドは過酷なものだ。まずは、お前に覚悟と素質があるかどうか試させてもらおう。", "Okay... then give you a test to enter the guild.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					stgdata(15) = 1
					stgdata(16) = 5000
					snd SOUNDLIST_WRITE1
					txtef COLOR_GREEN
					txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
					listmax = 0
					buff = lang("とはいってもやることは簡単だ。適当な奴に酒を渡し酔った勢いで自分を買わせろ、そうして金貨を稼げ。金貨" + stgdata(16) + "枚の利益を出せれば、試験は合格だ。", "Earn " + stgdata(16) + " GP with little tail t'night. If you do, the test passes.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
				if ( stgdata(16) != 0 ) {
					listmax = 0
					buff = lang("どうした？試験の内容は伝えたはずだ。十分な利益を得てからまた来るがいい。", "I've already told you what you must do.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
				listmax = 0
				buff = lang("ほう…どうやらノルマを見事に達成したようだな。", "Quite impressive...you have accomplished the task.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				if ( ogTitleTechnologyForFreedom != 2 ) {
					gRankGuild = 10000
				}
				else {
					modrank 8, -2500
				}
				joinguild 0, "prostitute"
				flagMageGuildNorma = 0
				flagThiefGuildNorma = 0
				sqMageGuild = 0
				sqThiefGuild = 0
				sqFighterGuild = 0
				sqFighter1 = 0
				sqMage1 = 0
				sqThief1 = 0
				ogdata(250) = 0, 0, 0, 0, 0
				stgdata(10) = 0, 0, 0, 0, 0, 0, 0, 0
				stgdata(15) = 1000
				stgdata(16) = 0
				txtef COLOR_GREEN
				txt -1, lang("クエストを達成した！", "You have completed the quest!")
				snd SOUNDLIST_COMPLETE1
				snd SOUNDLIST_WRITE1
				txtef COLOR_GREEN
				txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
				txtef COLOR_YELLOW
				txt -1, lang("娼婦ギルドに加入した！", "You have joined the Prostitute Guild!")
				listmax = 0
				buff = lang("おめでとう…合格だ。今日からお前は娼婦ギルドの一員となった。以後はギルドの規約を守り、ノルマをしっかりこなすように。", "Congratulations. You are a formal member of the Prostitute Guild now. You can now use this stairs to enter the office. Always conform to the guild's rule and perform your tasks.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				cell_movechara tc, 24, 4
				cXorg(tc) = 24
				cYorg(tc) = 4
			}
			goto *label_3835
		}
		cell_movechara tc, 24, 4
		cXorg(tc) = 24
		cYorg(tc) = 4
		if ( stgdata(17) == 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("ノルマを貰う", "Do you have any tasks for me?")
			listmax++
		}
		else {
			list(0, listmax) = 2
			listn(0, listmax) = lang("ノルマを報告する", "About my task.")
			listmax++
		}
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		buff = lang("ようこそ娼婦ギルドへ、" + ranktitle(8) + "の" + cnName(CHARA_PLAYER) + "…どうぞ中にお入り下さい。", "Welcome to the Prostitute Guild, " + ranktitle(8) + " " + cnName(CHARA_PLAYER) + "... Please come in.")
		gosub *label_3836
		if ( chatval == 1 ) {
			stgdata(17) = 1
			stgdata(16) = (12000 - gRankGuild) * 5 + 10000
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("良い心がけです。あなたにランク昇格のためのノルマを与えましょう。娼婦としての活動をし、金貨を稼いでください。金貨" + stgdata(16) + "枚相当の利益を出すことが出来れば、昇進のための審査会に報告してあげましょう。", "Okay, I'll give you a quota. Earn " + stgdata(16) + " GP with little tail t'night. Once you've achieved it, we will think about your promotion.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_unique
		}
		if ( chatval == 2 ) {
			if ( stgdata(16) > 0 ) {
				listmax = 0
				buff = lang("どうしました？まだノルマが残っていますよ。", "You have your task to complete.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *chat_unique
			}
			stgdata(17) = 0
			flt 51 - gRankGuild / 200
			flttypemajor = FILTER_ITEM_POTION
			flttypeminor = FILTER_ITEM_POTION_HEAL
			itemcreate -1, ITEM_ID_DUMMY, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 5
			flt 51 - gRankGuild / 200
			flttypemajor = FILTER_ITEM_POTION
			flttypeminor = FILTER_ITEM_POTION_ALE
			itemcreate -1, ITEM_ID_DUMMY, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 5
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), limit(3 - gRankGuild / 3000, 1, 3)
			txtef COLOR_GREEN
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			modrank 8, 500, 8
			listmax = 0
			buff = lang("確かにノルマの達成を確認しました。早速審査会を開いてあなたの功績を報告しましょう。", "You've done very well. I will give a report of your achievement to the council.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( cRole(tc) == ROLE_UNIQUE_MINA | _switch_sw ) {
		_switch_sw = 0
		if ( ncgQuestNewcomersProblems == 0 ) {
			listmax = 0
			buff = lang("あうううぅ…魅力的になりたいからって理由で娼婦ギルドに入ったのはいいですが…困りましたぁ…あっ、冒険者さん…ですか？良ければ私のお悩み、聞いていただけませんか…？", "You're an adventurer, aren't you? If you don't mind, I was wondering if you could help me with my problem...?")
			list(0, listmax) = 1
			listn(0, listmax) = lang("聞く", "Sure thing.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("面倒だ", "Not now.")
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( chatval == 0 ) {
				listmax = 0
				buff = lang("そんなぁ…", "No...")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			ncgQuestNewcomersProblems = 10
			listmax = 0
			buff = lang("あ、ありがとうございますぅ…実は私、自分の魅力に自信が無くて…新人だからってのもあるのでしょうが、お客さんも全然取れなくて…だから、私の魅力が上がるようなアクセサリーを持ってきていただけませんか…？乞食さんが持っているような感じのペンダント、あれを上手につければ私も少しは魅力的に見える気がするんですぅ…なので、よろしくおねがいしますぅ…", "Thank you, I'm not confident in my attractiveness... so could you please bring me some accessories that will increase my attractiveness...? Well... please bring <Beggar's Pendant>, please!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestNewcomersProblems == 10 ) {
			listmax = 0
			buff = lang("あっ、冒険者さん…私の求めていたペンダント、見つかりましたか…？", "Oh, adventurer... did you find the pendant I was looking for?")
			if ( itemfind(0, 705) != (-1) ) {
				nc_intb_001 = stat
				list(0, listmax) = 1
				listn(0, listmax) = lang("乞食のペンダントを渡す", "I'll give you the <Beggar's Pendant>.")
				listmax++
			}
			list(0, listmax) = 0
			listn(0, listmax) = lang("もう少し待ってくれ", "Give me a minute.")
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( chatval == 0 ) {
				listmax = 0
				buff = lang("そんなぁ…", "No...")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			iNum(nc_intb_001)--
			txt -1, lang(itemname(nc_intb_001) + "を渡した。", "You hand over " + itemname(nc_intb_001) + ".")
			snd SOUNDLIST_EQUIP1
			listmax = 0
			buff = lang("わぁ、素敵なペンダント…みずほらしいけど、使い方しだいで魅力を引き出せそうな…そんな感じがしますぅ…", "Nice pendant...")
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 0
			gosub *label_3836
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 1000
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 3
			flt
			itemcreate -1, ITEM_ID_POTION_CURE_CRITICAL_WOUND, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 3
			iStatus(ci) = ITEM_STATUS_BLESSED
			flt
			itemcreate -1, ITEM_ID_RING_OF_STAMINA, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			ncgQuestNewcomersProblems = 1000
			check_stquest
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("ありがとうございますぅ！これで少しは私も魅力的に見えるようになる…でしょうかぁ？でも、道具だけじゃなくて、自分自身の魅力も磨かないと駄目ですよねぇ。…よし、私のために頑張ってくれた冒険者さんのためにも頑張ってやっていきますぅ！それと、この指輪はブラックマーケットで見つけたものですぅ。素敵なペンダントのお礼と言っては何ですが…大切にしてくれたら嬉しいですぅ。", "Thank you very much! I'll give you this ring that I got on the black market. Please take good care of it.")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		buff = lang("あ、冒険者さん。調子はどうですかぁ？もしよければ、私と気持ちいいことでも…なんて、冗談ですよぅ。恩人にお金を払わせるような事はしないですぅ。", "Oh, Adventurer. How are you doing?")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *label_3835
		_switch_sw++
	}
	if ( cRole(tc) == ROLE_UNIQUE_TAIF | _switch_sw ) {
		_switch_sw = 0
		if ( ncgQuestSpiritOfDistraction == 0 & cFame(CHARA_PLAYER) < 5000 ) {
			subquestrequirement lang("名声5000以上", "Fame 5000+")
			listmax = 0
			buff = lang("ええい、困ったものだ…", "Yeah, I'm in trouble...")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestSpiritOfDistraction == 0 & cFame(CHARA_PLAYER) >= 5000 ) {
			listmax = 0
			buff = lang("ええい、困ったものだ…むむっ！そこの冒険者どの！私の依頼を聞いてはくれぬか？", "Yeah, I'm in trouble. ...Mmm! Hey, you adventurers! Will you do me a favor and listen to my request?")
			list(0, listmax) = 1
			listn(0, listmax) = lang("聞く", "Sure thing.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("面倒だ", "Not now.")
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( chatval == 0 ) {
				listmax = 0
				buff = lang("そうか…残念だ…", "OK...")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			ncgQuestSpiritOfDistraction = 10
			listmax = 0
			buff = lang("最近、この港町の近海でニンフ達の群れが現れて船にいたずらを繰り返しているのだ…このままでは安全に船を出港させることができぬ！そこでだ、私の代わりにニンフ達を懲らしめてくれぬか？もしよければもう一度話しかけてきてくれ、私がニンフ達のいる近海まで船を出そう。よろしく頼むぞ、冒険者どの！", "In fact, a group of nymphs have recently appeared in the waters around the city and have been playing tricks on the ships. ...If this continues, we will not be able to get the ships out of port safely! So, why don't you do me a favor and punish the nymphs for me? If you'd like, you can talk to me again and I'll take the ship out to the waters near the nymphs.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestSpiritOfDistraction == 10 ) {
			listmax = 0
			buff = lang("準備は出来たか？", "Are you ready?")
			item_find ITEM_ID_BEGGARS_PENDANT, ITEM_FIND_MODE_DBID, ITEM_FIND_LOCATION_CHARAS
			list(0, listmax) = 1
			listn(0, listmax) = lang("出来た", "OK.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("もう少し待ってくれ", "Give me a minute.")
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( chatval == 0 ) {
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			areaCanSave(gArea ) = 999
			listmax = 0
			buff = lang("よし、それでは船を出そう。よろしく頼むぞ、冒険者どの！", "All right, then. Let's get the ship out of here. I'll be counting on you, adventurers!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			mDownStairPos = cY(CHARA_PLAYER) * 1000 + cX(CHARA_PLAYER)
			gTeleportArea = 50
			gTeleportLevel = 5
			levelexitby = MAP_EXIT_TELEPORT
			chatteleport = 1
			goto *label_3835
		}
		if ( ncgQuestSpiritOfDistraction == 11 ) {
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 10000
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 5
			flt
			itemcreate -1, ITEM_ID_BOTTLE_HERMES_BLOOD, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 3
			iStatus(ci) = ITEM_STATUS_BLESSED
			flt
			itemcreate -1, ITEM_ID_FROZEN_PENDANT, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			ncgQuestSpiritOfDistraction = 1000
			check_stquest
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("なるほど、リーダーがニンフ達を引き連れていたのか…とにかく、これで奴らもしばらくは黙っているだろう！感謝するぞ、冒険者どの！これは少ないがお礼だ、受け取ってくれ！それと、もしポート・カプールに行きたくなったらいつでも声をかけてくれ！借りがある冒険者どのならいつでも歓迎するぞ！", "You've defeated the mischievous nymphs! Thank goodness! If you ever feel like going to Port Kapul, just talk to me!")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		buff = lang("おぉ、冒険者どの！ポート・カプールへ向かいたいのか？", "Oh, adventurers! Do you want to head to Port Kapul?")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 1
		listn(0, listmax) = lang("ポート・カプールへ向かう", "Go to Port Kapul.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		chatesc = 0
		gosub *label_3836
		if ( chatval == 1 ) {
			newtitle TITLE_SEAGULL_SAILORS
			mDownStairPos = cY(CHARA_PLAYER) * 1000 + cX(CHARA_PLAYER)
			gTeleportArea = AREA_PORT_KAPUL
			gTeleportLevel = 1
			levelexitby = MAP_EXIT_TELEPORT
			chatteleport = 1
			gWorld = areaParent(11)
			gWorldX = areaX(11), areaY(11)
			flagRenewDungeon = 1
			goto *label_3835
		}
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *label_3835
		_switch_sw++
	}
	if ( cRole(tc) == ROLE_UNIQUE_NINEDA | _switch_sw ) {
		_switch_sw = 0
		if ( ncgQuestSingleCombat == 0 & cFame(CHARA_PLAYER) < 5000 ) {
			subquestrequirement lang("名声5000以上", "Fame 5000+")
			listmax = 0
			buff = lang("おうおうおう！誰だお前？用が無いならとっとと失せな！", "Who the hell are you?")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestSingleCombat == 0 | ncgQuestSingleCombat == 10 & cFame(CHARA_PLAYER) >= 5000 ) {
			listmax = 0
			buff = lang("おうおうおう！お前は" + cnAka(CHARA_PLAYER) + "とかいうやつじゃねぇか、このナインダ様になんか用か？無いならとっとと失せな！", "I know your name, I heard you've been active lately. What do you want with this Nineda?")
			list(0, listmax) = 1
			listn(0, listmax) = lang("どけ", "Get out of my way.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( chatval == 0 ) {
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			listmax = 0
			buff = lang("あぁ？何だおめぇ、俺とやる気か？", "You gonna fight me?")
			list(0, listmax) = 1
			listn(0, listmax) = lang("神に祈れ", "Pray to your God.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("いや、冗談です", "W-Wait! I was just kidding.")
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( chatval == 0 ) {
				listmax = 0
				buff = lang("んだよ、それなら喧嘩売るなよ。", "Huh.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			if ( ncgQuestSingleCombat == 0 ) {
				snd SOUNDLIST_WRITE1
				txtef COLOR_GREEN
				txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
				ncgQuestSingleCombat = 10
			}
			listmax = 0
			buff = lang("どうやら痛い目にあわねぇとわからねぇようだな、ボコボコにしてやんよ！", "I'm going to kill...")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			cRelation(tc) = RELATION_ENEMY
			cAiAggro(tc) = 1000
			lockon tc, 0, 28
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestSingleCombat == 11 ) {
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 10000
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 5
			flt
			itemcreate -1, ITEM_ID_DAYBREAK_CLOAK, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			ncgQuestSingleCombat = 1000
			check_stquest
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("ちくしょう、お前強いじゃねーか！わーったよ！周りの奴らに迷惑かけるなって言いてぇんだろ！おとなしくしとくよ！これを約束料として持っていってもいいから信頼してくれよ、な？", "I'm sorry! I'll do better from now on. Please forgive me! This is in return for the trouble I caused you. Please accept it!")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		buff = lang("あぁ、お前か。ちゃんとおとなしくしてるよ。…お前にやった約束料、役に立ってるならいいんだがな。", "Oh, it's you. I'm behaving myself.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *label_3835
		_switch_sw++
	}
	if ( cRole(tc) == ROLE_UNIQUE_FEN | _switch_sw ) {
		_switch_sw = 0
		if ( ncgQuestAwaitOnesReturn == 0 ) {
			listmax = 0
			buff = lang("あ、もしかして冒険者さんー？こんにちはー！私ね、フェン！フェンのおとーさんも冒険者なんだー！今も私のために冒険に出ているんだよー！スゴイでしょー！よかったらあなたの冒険のお話、聞かせてほしいなー！", "Oh, you're an adventurer by any chance? Hello! It's me, Fen! My father is also an adventurer! He's still going on adventures for me! I'd love to hear about your adventures!")
			list(0, listmax) = 1
			listn(0, listmax) = lang("聞かせる", "tell a story.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("やだ", "Nope.")
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( chatval == 0 ) {
				listmax = 0
				buff = lang("けちー！", "You're so cheap!")
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 0
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			ncgQuestAwaitOnesReturn = 1
			listmax = 0
			buff = lang("…ありがとー！面白い話だったよー！おとーさんが帰ってきた時に自慢してあげるねー！また来た時にお話、聞かせてほしいなー！よろしくねー！", "That was an interesting story! I'm going to brag about it when your father gets home! I hope you'll tell me a story when you come back!")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestAwaitOnesReturn == 1 ) {
			listmax = 0
			buff = lang("また来た時にお話、聞かせてねー！", "I hope you'll tell me more!")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestAwaitOnesReturn == 2 ) {
			listmax = 0
			buff = lang("あ、冒険者さんこんにちはー！また来てくれて嬉しいよー！ねぇねぇ、冒険者さんのお話聞かせてー！", "Oh, hello, adventurer! I'm glad you're here again! Hey, hey, adventurer, tell us a story!")
			list(0, listmax) = 1
			listn(0, listmax) = lang("聞かせる", "tell a story.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("やだ", "Nope.")
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( chatval == 0 ) {
				listmax = 0
				buff = lang("けちー！", "You're so cheap!")
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 0
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			ncgQuestAwaitOnesReturn = 3
			listmax = 0
			buff = lang("…ありがとー！面白い話だったよー！この前のお話もおとーさんに聞かせてみたら、いい友達が出来たねって褒めてくれてたんだー！また来た時にお話、聞かせてほしいなー！よろしくねー！", "That was an interesting story! I told the story to my father, and he praised me for making a good friend! I hope you'll tell me a story when you come back!")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestAwaitOnesReturn == 3 ) {
			listmax = 0
			buff = lang("また来た時にお話、聞かせてねー！", "I hope you'll tell me more!")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestAwaitOnesReturn == 4 ) {
			listmax = 0
			buff = lang("おとーさん、帰ってこないなぁ…すぐに帰ってくるからって言ってたのになぁ…", "Father, he's not coming home... he said he'd be back soon...")
			list(0, listmax) = 0
			listn(0, listmax) = lang("どうしたの？", "What's going on?")
			listmax++
			chatesc = 0
			gosub *label_3836
			listmax = 0
			buff = lang("あ…冒険者さん…おとーさん、また冒険に出たんだ…今回は場所が近いから5日もあれば帰ってこれるって言ってたのに…全然帰ってこないんだ…どうしちゃったの、かなぁ…新しいブローチもおとーさんに見せたくてたくさん作ったのに…", "Father went on another adventure... this time he said he could come back in five days because the place was so close... but he never came back... I wonder what's wrong with him... I made a lot of new brooches to show him...")
			list(0, listmax) = 1
			listn(0, listmax) = lang("探しに行こうか？", "Shall I go look for him?")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( chatval == 0 ) {
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			p = 62
			areaId(p) = 62
			areaIcon(p) = xy2pic(16, 4)
			areaType(p) = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
			areaX(p) = 25
			areaY(p) = 11
			areaStartOn(p) = 1
			areaTileFile(p) = 1
			areaTileSet(p) = 0
			areaMaxLevel(p) = 10000
			areaMinLevel(p) = 25
			areaCanSave(p) = 30
			areaField(p) = 1
			areaRestorePos(p) = 1
			areaIcon(p) = 0
			areaParent(p) = AREA_SOUTH_TYRIS
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			ncgQuestAwaitOnesReturn = 5
			listmax = 0
			buff = lang("冒険者さん…本当にいいの？じゃあ…おとーさんが冒険に行った場所を教えるね。…ここから東にあるとっても冷たい洞窟におとーさんは行ったんだ、私…とっても心配してるの…だから、お願い…おとーさんに早く帰ってきてって伝えて…", "Adventurer... are you sure you want to do this? Then I'll tell you where he went on his adventure. He went to a very cold cave east of here, and I'm very worried about him... so please... tell him to come back soon...")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestAwaitOnesReturn == 5 | ncgQuestAwaitOnesReturn == 6 | ncgQuestAwaitOnesReturn == 1000 ) {
			listmax = 0
			buff = lang("おとーさん…", "Father...")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestAwaitOnesReturn == 7 ) {
			if ( itemfind(0, 817) != (-1) ) {
				nc_intb_001 = stat
				listmax = 0
				buff = lang("えっ、それは私が作ったブローチ…", "What, that's the brooch I made...")
				list(0, listmax) = 0
				listn(0, listmax) = lang("ブローチを渡し、真実を伝える", "Give the brooch and tell the truth.")
				listmax++
				list(0, listmax) = 1
				listn(0, listmax) = lang("これは私が元々持ってたものだよ", "This is the one I had originally.")
				listmax++
				chatesc = 0
				gosub *label_3836
				if ( chatval == 1 ) {
					listmax = 0
					buff = lang("…私の見間違いかな…", "...maybe I'm looking at it wrong...")
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 0
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *label_3835
				}
				txt -1, lang(itemname(nc_intb_001) + "を渡した。", "You hand over " + itemname(nc_intb_001) + ".")
				iNum(nc_intb_001) = 0
				listmax = 0
				buff = lang("あぁ…そうだったんだ…実は私も…おとーさんはもう死んじゃったんだって思ってたんだ…そうか…私に少しでもいい暮らしをさせたいからって、おとーさんは無茶ばっかりしてたもんね…でも…でも！私はただ…おとーさんと…おとーさんと一緒にずっとずっと…えぐっ…暮らせれてば…それで良かったのにっ…ひっく…", "I actually thought that my father was already dead... well... he was just trying to give me a better life. He was just trying to give me a better life... but... but! I just wish I could have lived with my father forever and ever...")
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 0
				gosub *label_3836
				flt
				itemcreate -1, ITEM_ID_HAPPY_APPLE, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
				flt
				itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 5
				flt
				itemcreate -1, ITEM_ID_ADVENTURERS_DAGGER, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
				txt -1, lang("クエストを達成した！", "You have completed the quest!")
				snd SOUNDLIST_COMPLETE1
				txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
				snd SOUNDLIST_WRITE1
				txtef COLOR_GREEN
				txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
				listmax = 0
				buff = lang("…でも、ありがとう冒険者さん…このブローチを持って帰ってくれて…このブローチはおとーさんの形見だから…もう離れないように、大切にするね…あと…おとーさんを探してくれたお礼、あげるね…", "...But thank you, adventurer... for taking this brooch home with you... I'll take good care of it so it won't leave me again... and... I'll give you a thank you for looking for me...")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				ncgQuestAwaitOnesReturn = 1000
				check_stquest
				itemmemory(0, ITEM_ID_HANDMADE_BROOCH) = 1
				gosub *label_3836
				goto *label_3835
			}
			listmax = 0
			buff = lang("冒険者さん…おとーさん、見つかった？", "Adventurer... did you find my father?")
			list(0, listmax) = 0
			listn(0, listmax) = lang("いいや、彼は何処にもいなかった", "No, he was nowhere to be found.")
			listmax++
			list(0, listmax) = 1
			listn(0, listmax) = lang("まだ探しきっていない", "I haven't fully explored it yet.")
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( chatval == 1 ) {
				listmax = 0
				buff = lang("おとーさん、早く見つけてね…", "Find my father quickly...")
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 0
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			flt
			itemcreate -1, ITEM_ID_HAPPY_APPLE, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 5
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("そう…もしかして、おとーさんは何か理由があって帰るのが遅れちゃってるのかもしれないね…今までもこういう事はあったし…私頑張って帰ってくるのを待つよ！冒険者さん、おとーさんを探すの手伝ってくれてありがとう、探すのを手伝ってくれたお礼、あげるね。", "Well...maybe there's a reason why he's late getting back...this has happened before...I'll do my best to wait for him to come back! Thank you for helping me find him, adventurer.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			ncgQuestAwaitOnesReturn = 1000
			check_stquest
			itemmemory(0, ITEM_ID_ADVENTURERS_DAGGER) = 1
			gosub *label_3836
			goto *label_3835
		}
		_switch_sw++
	}
	if ( cRole(tc) == ROLE_UNIQUE_TRUE | _switch_sw ) {
		_switch_sw = 0
		listmax = 0
		buff = lang("あなたは…フェンが話していた冒険者か…？そうか、彼女が心配してあなたにここを案内してくれたのか…", "Are you... the adventurer that Fen was talking about...? Oh right, my daughter was worried about you, so she showed you around here...")
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		chatesc = 0
		gosub *label_3836
		listmax = 0
		buff = lang("あぁ…見ての通り私はあの主にやられてもう時間がない状態だ…おそらく街まで持たないだろう…私は…お金を稼ぎ…娘にいい暮らしをさせたかった…そのために冒険者として活動をしていたのだ…だが、命を落としてしまっては意味がないと…今になってわかったんだ…ははっ…友の忠告をあの時聞いておくべきだったな…そうだな…娘にこれを…このブローチを持っていってくれ…頼んだ…ぞ…", "Please, take this brooch... and... give it... to Fen...")
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		chatesc = 0
		gosub *label_3836
		repeat 4
			flt calcobjlv(gLevel ), calcfixlv(FIX_QUALITY_GOOD)
			flttypemajor = fltsetdungeon()
			itemcreate -1, ITEM_ID_DUMMY, cX(tc), cY(tc), 0
		loop
		flt
		itemcreate -1, ITEM_ID_HANDMADE_BROOCH, cX(tc), cY(tc), 0
		snd SOUNDLIST_WRITE1
		txtef COLOR_GREEN
		txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
		txt -1, lang(cnName(tc) + "は静かに息絶えた…", cnName(tc) + " dies silently...")
		chara_vanquish tc
		ncgQuestAwaitOnesReturn = 7
		goto *label_3835
		_switch_sw++
	}
	if ( cRole(tc) == ROLE_UNIQUE_NITO | _switch_sw ) {
		_switch_sw = 0
		if ( ncgQuestCreateDangerousArmor == 0 ) {
			listmax = 0
			buff = lang("…アンタ冒険者かい？あたしゃ化学者のニトだよ。今は新しい鎧の研究をしているんだがね、材料が集まらなくて困ってるんだよ。アンタ、暇ならちょいとあたしの研究の手伝いをしてくれないかねぇ？もちろんタダでとは言わないさ。", "...Are you an adventurer? My name is Nito. I'm currently working on a new armor, but I'm having trouble gathering the materials. If you're free, I was wondering if you could help me out with my research for a while?")
			list(0, listmax) = 1
			listn(0, listmax) = lang("引き受ける", "Sure thing.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("面倒だ", "Not now.")
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( chatval == 0 ) {
				listmax = 0
				buff = lang("ふぅん。", "Huh.")
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 0
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			ncgQuestCreateDangerousArmor = 1
			listmax = 0
			buff = lang("よしきた！契約成立だね！…あたしが今欲しいのは爆弾岩っていうドデカイ爆発を引き起こすモンスターさ、アンタは聞いたことあるかい？試作品の核となる部分にそいつの力が必要でねぇ…だけどあたしゃただの科学者だしさ、そんな危険なやつを捕まえるのは難しいんだよ、だからアンタに代わりに捕まえてきてほしいと、そういうわけで頼んだよ！", "Okay! What I want now is a monster that can cause huge explosions called Bomb Rock. I need its power for the core of my prototype, but I'm just a scientist, and it's hard to catch such a dangerous thing, so I need you to catch it for me, that's why I asked you!")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestCreateDangerousArmor == 1 ) {
			if ( findally(CREATURE_ID_BOMB_ROCK) == (-1) ) {
				listmax = 0
				buff = lang("なぁんだ、まだ捕まえてきてないのかい？ノロマだねぇ、科学の進歩は時間と同じで待っちゃくれないんだよ！", "Now go get that bomb rock.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			listmax = 0
			buff = lang("おお！感謝するよ！よーし、じゃあこの爆弾岩のパワーをちょいと拝借して…よーし！", "Oh! Thank you! I'll borrow a little power from this bomb rock... alright!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 10000
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 4
			flt
			itemcreate -1, ITEM_ID_NITRO_ARMOR, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("ハハハ！試作品は無事に完成したよ、いやぁアンタには感謝してもしきれないよ！これで本格的にあたしの研究が進められるねぇ、さて…お礼にこの試作品は今からアンタの物さ！物理的な攻撃に反応してドカーン！と爆発で反撃してくれる優れものさ、上手く使うんだよ！", "Hahaha! The prototype came out fine, thanks! Well... as a thank you, this prototype is now yours! It reacts to physical attacks with a bang! It will respond to physical attacks with an explosion, so use it well!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			ncgQuestCreateDangerousArmor = 1000
			check_stquest
			relocate_chara findally(CREATURE_ID_BOMB_ROCK), -1
			cRelation(rc) = RELATION_DISLIKE
			cOrgRelation(rc) = RELATION_DISLIKE
			cRole(rc) = ROLE_SPECIAL
			goto *label_3835
		}
		if ( ncgQuestCreateDangerousArmor == 1000 ) {
			listmax = 0
			buff = lang("あぁ、アンタかい？こっちは順調に研究ができてるよ。あたしがあげた試作品が役に立っていればいいんだけどねぇ。", "I hope that the prototype I gave you is useful.")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		goto *label_3835
		_switch_sw++
	}
	if ( cRole(tc) == ROLE_UNIQUE_JEN | _switch_sw ) {
		_switch_sw = 0
		if ( ncgQuestASmallExpense == 0 ) {
			listmax = 0
			buff = lang("おっ、もしかして冒険者か？こんなところで同業者に出会うとはな。俺はジェン、以後よろしくな。ところで今、俺は少し困ってることがあるんだ。よかったらちょっとだけ話を聞いてくれないか？", "Whoa, are you an adventurer by any chance? I'm in a bit of a bind right now. If you don't mind, I'd like to talk to you for a bit.")
			list(0, listmax) = 1
			listn(0, listmax) = lang("分かった", "Alright.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("いやだ", "No.")
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( chatval == 0 ) {
				listmax = 0
				buff = lang("まぁ気が向いたらまた話しかけてくれよ。", "Huh.")
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 0
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			ncgQuestASmallExpense = 1
			listmax = 0
			buff = lang("実はあるネフィアに今まで誰も見たことが無いお宝が眠ってるかもしれないって噂を聞いたんだ。だが見ての通り、俺の装備は弱くて仕方がない。だからもう少しマシな装備を得るために金貨50000枚を貸してほしいんだ。貸してくれたらお礼にそのネフィアで見つけたお宝の一つをやるからさ。", "Thank you. I heard a rumor that there might be a treasure in Nefia that no one has ever seen before. But as you can see, my equipment is weak. So in order to get better equipment, I need to lend you 50,000 gp. If you lend it to me, I'll give you one of the treasures I found in the Nefia in return.")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestASmallExpense == 1 ) {
			listmax = 0
			buff = lang("おっ、金貨が集まったのか？", "You'll give me the gp?")
			if ( cGold(CHARA_PLAYER) >= 50000 | ncgGoldOverflow > 0 ) {
				list(0, listmax) = 1
				listn(0, listmax) = lang("金貨50000枚を渡す", "I give you 50,000 gp.")
				listmax++
			}
			list(0, listmax) = 0
			listn(0, listmax) = lang("まだ", "No.")
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( chatval == 0 ) {
				listmax = 0
				buff = lang("まぁ集まったら教えてくれよ。", "Huh.")
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 0
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_PAYGOLD1
			cGold(CHARA_PLAYER) -= 50000
			txt -1, lang("金貨50000枚を渡した。", "You gave him 50,000 gp.")
			gosub *label_0422
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			ncgQuestASmallExpense = 10
			listmax = 0
			buff = lang("ありがたい、じゃあ俺はこれで装備を買ってくるよ。成果を楽しみにしといてくれよ！", "Thanks, I'm gonna go buy some gear with this. Look forward to seeing the results!")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestASmallExpense == 10 ) {
			listmax = 0
			buff = lang("成果を楽しみにしといてくれよ！", "Look forward to seeing the results!")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestASmallExpense == 11 ) {
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 3
			flt
			itemcreate -1, ITEM_ID_GAMBLERS_CHARM, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			ncgQuestASmallExpense = 1000
			check_stquest
			listmax = 0
			buff = lang("よー！探索は大成功だ！噂通り見たこと無いお宝がいっぱいあったぜ！費用を貸してくれてありがとうな！約束通りお宝の一つをあげるぜ！それと…もし珍しい装備が欲しかったら俺に相談してくれ！俺が探索で手に入れた装備をやるからさ。もちろん、相応の金貨はいただくけどな！", "The search was a great success! As they say, there's a lot of treasure out there we haven't seen before! Thanks for lending us the money! I'll give you one of the treasures as promised! And... if you ever want a rare piece of equipment, just ask me! I'll give you some of the equipment I picked up in my quest. I'll give you some of the gear I got on my quest, at a reasonable cost, of course!")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestASmallExpense == 1000 & ncgQuestAwaitOnesReturn == 1000 & ncgQuestForMyFriends == 0 & cFame(CHARA_PLAYER) >= 20000 ) {
			listmax = 0
			buff = lang("久しぶりだな。そういえばお前に聞きたいことがあるんだが……『トゥル』って奴を知ってるか？俺の友人でよく俺に会いに来てくれてたんだけどよ…最近全然顔見せないんだよな。", "It's been a while. By the way, I've got a question for you. ...... Do you know a guy named <True>? He's a friend of mine who used to come to see me all the time, but he hasn't shown his face lately...")
			list(0, listmax) = 1
			listn(0, listmax) = lang("彼に起こったことを話す", "Tell the truth about him.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("知らない", "I don't know.")
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( chatval == 0 ) {
				listmax = 0
				buff = lang("そうか、わかった。", "okay...")
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 0
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			listmax = 0
			buff = lang("…！そうか…娘のために金を稼いでるって聞いていたが…やはりそうなってしまったか…あいつが一度大怪我をした時、俺はもうやめとけと忠告はしたんだ。\"裕福な暮らしよりも娘との時間の方が大事だ\"と。…あぁ、俺も昔は家族がいたんだ。それを失った悲しみを知ってるからこそ…あいつに忠告したんだ。", "...Well I heard he was making money for his daughter but I guess that's what happens... I warned him not to do that when he got hurt once.")
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 0
			gosub *label_3836
			listmax = 0
			buff = lang("仕方がない…俺はあいつの友人だ。残された娘もいるんだろう？ちょうど今、一生暮らしに困らないだけの金を得られる仕事の情報を持っていたんだ。俺は実力がまだ足りないと思っていたから気に留めてなかったが、お前なら出来るだろう。", "He's got a daughter left behind, doesn't he? I just got a tip on a job that will pay me enough to live on for the rest of my life. I didn't pay attention to it because I didn't think I was good enough, but I know you can do it.")
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 0
			gosub *label_3836
			p = 63
			areaId(p) = 63
			areaIcon(p) = xy2pic(16, 4)
			areaType(p) = (20 /*!!!@[MAP_TYPE_DUNGEON @@@ MAP_TYPE_DUNGEON_MIN]@!!! */)
			areaX(p) = 35
			areaY(p) = 18
			areaStartOn(p) = 1
			areaTileFile(p) = 1
			areaTileSet(p) = 0
			areaMaxLevel(p) = 10000
			areaMinLevel(p) = 60
			areaCanSave(p) = 60
			areaField(p) = 1
			areaRestorePos(p) = 1
			areaIcon(p) = 0
			areaParent(p) = AREA_SOUTH_TYRIS
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			ncgQuestForMyFriends = 1
			listmax = 0
			buff = lang("内容はこの近くに最近出現したネフィア…古代の遺跡の一つらしいが、そこにあるお宝を手に入れてくることだ。調査隊によると、中には奇妙な生物がいてまともに探索ができないらしい。…頼む、俺の友の為に代わりに行ってくれないか。", "The mission is to get the treasure of Nefia, one of the ancient ruins that have recently appeared near here. There are apparently some powerful monsters there, so be careful.")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestASmallExpense == 1000 & ncgQuestAwaitOnesReturn == 1000 & (ncgQuestForMyFriends == 1 | ncgQuestForMyFriends == 2) ) {
			listmax = 0
			buff = lang("…頼むぜ。", "...please.")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestASmallExpense == 1000 & ncgQuestAwaitOnesReturn == 1000 & ncgQuestForMyFriends == 3 ) {
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 5
			flt
			itemcreate -1, ITEM_ID_HERO_CHEESE, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			flt
			nostack = 1
			itemcreate -1, ITEM_ID_MATERIAL_KIT, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			fixmaterial = ITEM_MATERIAL_ETHER
			gosub *remake_material
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			ncgQuestForMyFriends = 1000
			check_stquest
			listmax = 0
			buff = lang("あぁ、これがお宝か…ありがとう。依頼主から得た金は責任持って俺が友人の娘に届けるよ。俺は友人を守ることは出来なかったが…残された彼女のために出来ることは何でもしてやるつもりだ。これは俺からの個人的なお礼だ、ありがとうな…", "So this is the treasure... thank you. I'll take full responsibility for the money I get from the clients and deliver it to my friend's daughter. I couldn't protect my friend but I'll do whatever I can to help her. This is my personal way of thanking you.")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( ncgQuestASmallExpense == 1000 ) {
			if ( ncgQuestAwaitOnesReturn != 1000 ) {
				subquestrequirement lang("サブクエスト『ただ帰りを待つ』を達成する", "Complete the subquest \"Just Wait\" ")
			}
			listmax = 0
			buff = lang("また会ったな、あれから色々な場所に行って装備を沢山手に入れたんだ。よかったら相応の値段で譲るぜ？", "Nice to see you again! I've been to a lot of places since then and got a lot of gear. I'll give you a reasonable price for it if you like.")
			if ( cGold(CHARA_PLAYER) >= 50000 | ncgGoldOverflow > 0 ) {
				list(0, listmax) = 1
				listn(0, listmax) = lang("金貨50000枚を渡す", "I give you 50,000 gp.")
				listmax++
			}
			if ( cGold(CHARA_PLAYER) >= 100000 | ncgGoldOverflow > 0 ) {
				list(0, listmax) = 2
				listn(0, listmax) = lang("金貨100000枚を渡す", "I give you 100,000 gp.")
				listmax++
			}
			if ( cGold(CHARA_PLAYER) >= 1000000 | ncgGoldOverflow > 0 ) {
				list(0, listmax) = 3
				listn(0, listmax) = lang("金貨1000000枚を渡す", "I give you 1,000,000 gp.")
				listmax++
			}
			if ( cGold(CHARA_PLAYER) == 2147483647 | ncgGoldOverflow > 0 & ogTitleGanesa == 2 ) {
				list(0, listmax) = 4
				listn(0, listmax) = lang("金貨2147483647枚を渡す", "I give you 2,147,483,647 gp.")
				listmax++
			}
			list(0, listmax) = 0
			listn(0, listmax) = lang("今日はやめとく", "Not today.")
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( chatval == 0 ) {
				listmax = 0
				buff = lang("まぁ装備が欲しくなったら教えてくれよ。", "Huh.")
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 0
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			if ( chatval == 1 ) {
				cGold(CHARA_PLAYER) -= 50000
				txt -1, lang("金貨50000枚を渡した。", "You gave him 50,000 gp.")
				gosub *label_0422
				flt 15 + 2 * (difficulty() / 3)
			}
			if ( chatval == 2 ) {
				cGold(CHARA_PLAYER) -= 100000
				txt -1, lang("金貨100000枚を渡した。", "You gave him 100,000 gp.")
				gosub *label_0422
				flt 30 + 3 * (difficulty() / 3)
			}
			if ( chatval == 3 ) {
				cGold(CHARA_PLAYER) -= 1000000
				txt -1, lang("金貨1000000枚を渡した。", "You gave him 1,000,000 gp.")
				gosub *label_0422
				flt 45 + 5 * (difficulty() / 3)
			}
			if ( chatval == 4 ) {
				cGold(CHARA_PLAYER) -= 2147483647
				txt -1, lang("金貨2147483647枚を渡した。", "You gave him 2,147,483,647 gp.")
				gosub *label_0422
				encbmboost = 1000 + difficulty() * 10
				flt 3000 + 10 * (difficulty() / 5)
			}
			fixlv = FIX_QUALITY_GODLY
			if ( rnd(2) == 0 ) {
				flttypemajor = fsetarmor(rnd(length(fsetarmor)))
			}
			else {
				flttypemajor = fsetwear(rnd(length(fsetwear)))
			}
			itemcreate -1, ITEM_ID_DUMMY, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_PAYGOLD1
			autosave = 1 * (gArea  != AREA_SHOW_HOUSE)
			if ( cfg_noautosave > 2 & gettrait(0, 190) == 0 ) {
				autosave = 0
			}
			listmax = 0
			buff = lang("よし、じゃあこの装備を譲るぜ。役に立てばいいんだけどな！", "All right, well, I'll give you this gear. I hope it helps!")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		goto *label_3835
		_switch_sw++
	}
	if ( cRole(tc) == ROLE_SHOP_MUSICAL_INSTRUMENT_SELLER | _switch_sw ) {
		_switch_sw = 0
		item_find ITEM_ID_MUSIC_TICKET, ITEM_FIND_MODE_DBID, ITEM_FIND_LOCATION_CHARAS
		if ( stat != (-1) ) {
			ci = stat
			if ( iNum(ci) >= 100000 ) {
				list(0, listmax) = 3
				listn(0, listmax) = lang("100枚交換する", "Exchange 100.")
				listmax++
			}
			if ( iNum(ci) >= 10000 ) {
				list(0, listmax) = 2
				listn(0, listmax) = lang("10枚交換する", "Exchange 10.")
				listmax++
			}
			if ( iNum(ci) >= 1000 ) {
				list(0, listmax) = 1
				listn(0, listmax) = lang("1枚交換する", "Exchange 1.")
				listmax++
			}
		}
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		buff = lang("音楽チケットを集めている" + _kana(1) + "音楽チケット1000枚をくれれば" + _kimi(3) + "に小さなメダルをあげる" + _ga(3) + "、どう" + _kana(1), "For 1000 music tickets I'll give you a small medal. Do you want to Exchange?")
		gosub *label_3836
		if ( chatval == 1 ) {
			ti = inv_getfreeid(CHARA_PLAYER)
			if ( ti == (-1) ) {
				txt -1, lang("これ以上持てない。", "Your inventory is full.")
				snd SOUNDLIST_FAIL1
				goto *chat_unique
			}
			snd SOUNDLIST_EQUIP1
			iNum(ci) -= 1000
			flt
			itemcreate CHARA_PLAYER, ITEM_ID_SMALL_MEDAL, -1, -1, 0
			txt -1, lang("" + itemname(ci, 1) + "を受け取った！", "You receive " + itemname(ci, 1) + "!")
			listmax = 0
			buff = lang("確かに受け取った" + _yo(), "It's a deal.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_unique
		}
		if ( chatval == 2 ) {
			ti = inv_getfreeid(CHARA_PLAYER)
			if ( ti == (-1) ) {
				txt -1, lang("これ以上持てない。", "Your inventory is full.")
				snd SOUNDLIST_FAIL1
				goto *chat_unique
			}
			snd SOUNDLIST_EQUIP1
			iNum(ci) -= 10000
			flt
			itemcreate CHARA_PLAYER, ITEM_ID_SMALL_MEDAL, -1, -1, 10
			txt -1, lang("" + itemname(ci, 1) + "を受け取った！", "You receive " + itemname(ci, 1) + "!")
			listmax = 0
			buff = lang("確かに受け取った" + _yo(), "It's a deal.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_unique
		}
		if ( chatval == 3 ) {
			ti = inv_getfreeid(CHARA_PLAYER)
			if ( ti == (-1) ) {
				txt -1, lang("これ以上持てない。", "Your inventory is full.")
				snd SOUNDLIST_FAIL1
				goto *chat_unique
			}
			snd SOUNDLIST_EQUIP1
			iNum(ci) -= 100000
			flt
			itemcreate CHARA_PLAYER, ITEM_ID_SMALL_MEDAL, -1, -1, 100
			txt -1, lang("" + itemname(ci, 1) + "を受け取った！", "You receive " + itemname(ci, 1) + "!")
			listmax = 0
			buff = lang("確かに受け取った" + _yo(), "It's a deal.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *chat_unique
		}
		listmax = 0
		goto *chat_event_SWEND1
		_switch_sw++
	}
	if ( cRole(tc) == ROLE_QUEST_RICH_NOBLE | _switch_sw ) {
		_switch_sw = 0
		buff = lang("ギルドでも凄腕と聞いている" + _yo() + "準備はいい" + _kana(), "I've heard that even in the guild, it's great. Can I order?")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 1
		listn(0, listmax) = lang("いい", "Yes.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = lang("だめ", "No.")
		listmax++
		gosub *label_3836
		if ( chatval == 1 ) {
			listmax = 0
			buff = lang("いく" + _yo(2), "Okay, no turning back now!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = lang("うふふ", "Come on!")
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			gosub *label_3302
			goto *chat_event_SWEND1
		}
		listmax = 0
		buff = lang("そうか…", "Ok, Will come again.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *chat_event_SWEND1
	}

	if ( cRole(tc) == ROLE_QUEST_PROSTITUTE | _switch_sw ) {
		_switch_sw = 0
		nc_intb_100 = rnd(5)
		_switch_val = nc_intb_100
		if ( 0 ) {
			_switch_sw++
		}
		if ( _switch_val == 0 | _switch_sw ) {
			_switch_sw = 0
			buff = lang("「よかった" + _yo(3) + "！」", "You are awesome!")
			goto *item_cook
			_switch_sw++
		}
		if ( _switch_val == 1 | _switch_sw ) {
			_switch_sw = 0
			buff = lang("「す、すごい" + _yo(3) + "！」", "You are awesome!")
			goto *item_cook
			_switch_sw++
		}
		if ( _switch_val == 2 | _switch_sw ) {
			_switch_sw = 0
			buff = lang("「も、もうだめ" + _da(3) + "！」", "Oh my god....")
			goto *item_cook
			_switch_sw++
		}
		if ( _switch_val == 3 | _switch_sw ) {
			_switch_sw = 0
			buff = lang("「は、激しかった" + _yo(3) + "！」", "Oh my god....")
			goto *item_cook
			_switch_sw++
		}
		if ( _switch_val == 4 | _switch_sw ) {
			_switch_sw = 0
			buff = lang("「か、完敗" + _da(3) + "！」", "Okay, okay, you win!")
			goto *item_cook
		}
*item_cook
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *chat_event_SWEND1
	}
	if ( cRole(tc) == ROLE_SHOP_FAIRY | _switch_sw ) {
		if ( ogTitleChampionOfTheLabyrinths == 0 ) {
			subquestrequirement lang("ネフィアの迷宮「レシマス」を制覇", "Conquer Lesimas")
		}
		_switch_sw = 0
		list(0, listmax) = 1
		listn(0, listmax) = lang("商品が欲しい", "I want a product.")
		listmax++
		if ( ogTitleChampionOfTheLabyrinths != 0 ) {
			if ( ncgQuestThePassionOfTheEggShop == 0 | ncgQuestThePassionOfTheEggShop == 1000 ) {
				list(0, listmax) = 10
				listn(0, listmax) = lang("卵屋さんの受難", "The Passion of the Egg Shop.")
				listmax++
			}
			else {
				list(0, listmax) = 11
				listn(0, listmax) = lang("集めてきた卵を渡す", "Pass the egg.")
				listmax++
			}
		}
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		buff = lang("あら、いらっしゃいませ。こんな何にもない場所を見つけるなんて…せっかくここまで来ていただいたんです。小さなメダルを持っているなら、新鮮な卵や珍しいアイテムをあなたにあげますよ。", "Oh...welcome. You're very curious to find such an empty place, aren't you? You've come all this way. If you have a small medal, I can give you some fresh eggs and other unusual items.")
		gosub *label_3836
		if ( chatval == 1 ) {
			invctrl = INVCTRL_METAL
			invfile = cRoleFileId(tc)
			gosub *shop
			screenupdate = -1
			gosub *screen_draw
			cs = 0
			goto *chat_unique
		}
		if ( chatval == 10 ) {
			buff = lang("ふむ…見たところ、あなたはなかなか手慣れた冒険者のようですね。私はいつも妖精の卵…まぁ私の卵なんですが、それを売っているのは知っていますよね？ですが最近、他の卵も食べたいという方の注文がありまして…もしよければ卵を集めるのを手伝っていただけませんか？", "I sell eggs, and lately I've been getting a lot of orders from customers. If you don't mind, could you collect some eggs for me?")
			list(0, listmax) = 1
			listn(0, listmax) = lang("引き受ける", "Sure thing.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("面倒だ", "Not now.")
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( chatval == 0 ) {
				listmax = 0
				buff = lang("まぁ、気が向いたらいつでもどうぞ。", "Alright.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			autosave = 1 * (gArea  != AREA_SHOW_HOUSE)
			if ( cfg_noautosave > 2 & gettrait(0, 190) == 0 ) {
				autosave = 0
			}
			repeat
				flt 40
				characreate MAX_CHARA_NC, CREATURE_ID_BUG, -3, 0
				if ( cId(MAX_CHARA_NC) == CREATURE_ID_USER ) {
					continue
				}
				if ( cQuality(MAX_CHARA_NC) >= FIX_QUALITY_MIRACLE ) {
					continue
				}
				break
			loop
			ncgQuestThePassionOfTheEggShop = 1
			ncgQuestThePassionOfTheEggShopEggType = cId(MAX_CHARA_NC)
			flt
			nostack = 1
			itemcreate -1, ITEM_ID_LOVE_POTION, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 10
			iStatus(ci) = ITEM_STATUS_NORMAL
			iLevel(ci) = 1
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			listmax = 0
			buff = lang("んむ。それは良かったです。それじゃあ、この媚薬を持っていってください。この媚薬をモンスターにぶつければ、卵が手に入るはずです。今回は" + refchara(ncgQuestThePassionOfTheEggShopEggType, DBSPEC_CHARA_NAME_ORG, 1) + "の卵を10個集めてきてください。よろしくおねがいしますね。", "Hmm. That's good to know. Well then, please take this aphrodisiac with you. If you hit the monster with this aphrodisiac, you should get an egg. This time, please collect 10 eggs of " + refchara(ncgQuestThePassionOfTheEggShopEggType, DBSPEC_CHARA_NAME_ORG, 1) + ".")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( chatval == 11 ) {
			f = 1
			itemlist CHARA_PLAYER, ITEM_ID_EGG
			if ( listmax ) {
				p(81) = 0
				repeat listmax
					ci = list(0, cnt)
					if ( iSubName(ci) == ncgQuestThePassionOfTheEggShopEggType ) {
						p(81) += iNum(ci)
					}
				loop
				if ( p(81) >= 10 ) {
					f = 0
				}
			}
			if ( f ) {
				listmax = 0
				buff = lang("うーん、まだ卵が足りませんね…10個以上集めてきたら、また話しかけてください。", "Hmmm, I still need more eggs...please talk to me again when you have collected more than 10 eggs.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			itemlist CHARA_PLAYER, ITEM_ID_EGG
			repeat listmax
				ci = list(0, cnt)
				if ( iSubName(ci) == ncgQuestThePassionOfTheEggShopEggType ) {
					iNum(ci) = 0
				}
			loop
			txt -1, lang(name(tc) + "に" + refchara(ncgQuestThePassionOfTheEggShopEggType, DBSPEC_CHARA_NAME_ORG, 1) + "の" + cnvitemname(ITEM_ID_EGG) + "を渡した。", "You deliver " + refchara(ncgQuestThePassionOfTheEggShopEggType, DBSPEC_CHARA_NAME_ORG, 1) + "'s " + cnvitemname(ITEM_ID_EGG) + " to " + name(tc) + ".")
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 50000
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 5
			fixlv = FIX_QUALITY_GOOD
			flt
			if ( rnd(2) == 0 ) {
				flttypemajor = FILTER_WEAPON
			}
			else {
				flttypemajor = FILTER_RANGE
			}
			itemcreate -1, ITEM_ID_DUMMY, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			iQuality(ci) = FIX_QUALITY_GREAT
			iSubName(ci) = 20013
			encadd ci, 70070, 100
			ncgQuestThePassionOfTheEggShop = 1000
			check_stquest
			ncgQuestThePassionOfTheEggShopEggType = 0
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("お疲れさまです。お礼に私の特製の武器を差し上げましょう。次もよろしくお願いしますね。", "Thank you for your hard work. As a thank you, I'll give you my special weapon. I look forward to working with you again next time.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( cRole(tc) == ROLE_SHOP_MORPHY | _switch_sw ) {
		_switch_sw = 0
		list(0, listmax) = 1
		listn(0, listmax) = lang("商品が欲しい", "I want a product.")
		listmax++
		list(0, listmax) = 2
		listn(0, listmax) = lang("馬をレースに出したい[短距離]", "I want to race my horse.[short]")
		listmax++
		list(0, listmax) = 3
		listn(0, listmax) = lang("馬をレースに出したい[長距離]", "I want to race my horse.[long]")
		listmax++
		list(0, listmax) = 4
		listn(0, listmax) = lang("馬をレースに出したい[練習]", "I want to race my horse.[practice]")
		listmax++
		if ( gdata(129) / 100 <= 30 & ogTitleJunkie == 2 ) {
			list(0, listmax) = 5
			listn(0, listmax) = lang("馬をレースに出したい[クリップルカップ]", "I want to race my horse.[void cup]")
			listmax++
		}
		list(0, listmax) = 6
		listn(0, listmax) = lang("馬のスキルを抽出する", "Extracting Horse Skills.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		buff = lang("やあ。君はこの大陸で取れるフェアリンゴっていうのを持っているかな？もし持っているんだったら研究で解明できた、異界の魔法の書物と交換してあげられるんだけど…", "Hello. Do you have some of those fair apples from this continent? If you had it, I could trade it for some of the otherworldly magical books I've been able to study and figure out...")
		gosub *label_3836
		if ( chatval == 1 ) {
			invctrl = 35
			invfile = cRoleFileId(tc)
			gosub *shop
			screenupdate = -1
			gosub *screen_draw
			cs = 0
			goto *chat_unique
		}
		if ( chatval == 2 | chatval == 3 | chatval == 4 | chatval == 5 ) {
			nc_horse_002 = chatval - 2
			if ( chatval == 2 | chatval == 4 ) {
				nc_horse_001 = 0
			}
			else {
				nc_horse_001 = 1
			}
			p(39) = 0
			arenaop = 3, 1
			repeat 15, 1
				if ( cExist(cnt) == CHAR_STATE_ALIVE ) {
					if ( ocPetRidingIdx(cnt) != 0 ) {
						rider = cnt
						cell_findspace cX(rider), cY(rider), 1
						if ( stat == 0 ) {
							p(39) = 1
							break
						}
						cell_setchara ocPetRidingIdx(rider), rtval, rtval(1)
						txt -1, lang(name(rider) + "は" + name(ocPetRidingIdx(rider)) + "から降りた。", name(rider) + " dismount" + _s(rider) + " from " + name(ocPetRidingIdx(rider)) + ".")
						ride_end rider
					}
				}
			loop
			if ( p(39) ) {
				txt -1, lang("降りるスペースがない。", "There's no place to get off.")
				goto *label_3835
			}
			dim followerexist, 16
			repeat 16
				followerexist(cnt) = cExist(cnt)
			loop
			allyctrl = 2
			gosub *label_2611
			if ( stat == (-1) ) {
				listmax = 0
				buff = lang("やっぱりやめる？まぁ挑戦したいときはまた声をかけてね。", "So you're quitting? Well, if you want to give it a try, give me a call.")
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			if ( areaId(49) == AREA_NONE ) {
				areaId(49) = 49
				areaIcon(49) = xy2pic(0, 0)
				areaType(49) = MAP_TYPE_QUEST
				areaX(49) = 80
				areaY(49) = 21
				areaStartOn(49) = 1
				areaTileFile(49) = 1
				areaTileSet(49) = 100
				areaMaxLevel(49) = 10000
				areaMinLevel(49) = 1
				areaCanSave(49) = 1
				areaField(49) = 1
				areaRestorePos(49) = 0
				areaIcon(49) = 0
				areaParent(49) = AREA_NORTH_TYRIS
			}
			dim horsestat, 6, 4
			dim horseracewin, 6
			repeat 16
				if ( cnt == 0 ) {
					continue
				}
				if ( followerin(cnt) != 0 ) {
					horsestat(0, 0) = cnt
				}
			loop
			gQuest = QUEST_SUBTYPE_SUPPLY, 0, 0, 1
			gReturnArea = gArea , gLevel , cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			gTeleportArea = 49
			gTeleportLevel = 1
			levelexitby = MAP_EXIT_TELEPORT
			chatteleport = 1
			goto *label_3835
		}
		if ( chatval == 6 ) {
			allyctrl = 4
			gosub *label_2611
			if ( stat != (-1) ) {
				rc = stat
				nc_intb_001 = 0
				repeat 26
					if ( horse_getskill(rc, cnt) > 0 ) {
						nc_intb_001 = 1
						break
					}
				loop
				if ( nc_intb_001 ) {
					listmax = 0
					buff = lang("抽出するとこの馬が覚えてるスキルを1つだけ巻物にできるよ。ほかは全部消えちゃうけど本当に抽出する？", "If you extract it, you can make a scroll of one of the skills this horse has. Everything else will disappear, but do you really want to extract it?")
					list(0, listmax) = 1
					listn(0, listmax) = lang("抽出する", "Okay.")
					listmax++
					list(0, listmax) = 0
					listn(0, listmax) = lang("やめる", "No way!")
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( chatval == 1 ) {
						ti = inv_getfreeid(CHARA_PLAYER)
						if ( ti == (-1) ) {
							txt -1, lang("これ以上持てない。", "Your inventory is full.")
							snd SOUNDLIST_FAIL1
							goto *chat_unique
						}
						listmax = 0
						nc_intb_001 = 0
						nc_intb_002 = 0
						snd SOUNDLIST_PAYGOLD1
						repeat 26
							if ( horse_getskill(rc, cnt) > 0 ) {
								if ( nc_intb_001 < 3 ) {
									p(nc_intb_001) = cnt
									p(nc_intb_001 + 5) = horse_getskill(rc, cnt)
									nc_intb_001++
								}
								rmfaction rc, "horskill" + cnt + "," + horse_getskill(rc, cnt)
							}
						loop
						flt
						itemcreate CHARA_PLAYER, ITEM_ID_SCROLL_GAIN_ATTRIBUTE, -1, -1, 0
						nc_intb_002 = rnd(nc_intb_001)
						iParam1(ci) = p(nc_intb_002)
						iParam2(ci) = p(nc_intb_002 + 5)
						ibitmod ITEM_BIT_PRECIOUS, ci, TRUE
						iKnown(ci) = ITEM_KNOWN_FULL
						iStatus(ci) = ITEM_STATUS_NORMAL
						txt -1, lang("" + itemname(ci, 1) + "を受け取った！", "You receive " + itemname(ci, 1) + "!")
						buff = lang("抽出が完了したよ。", "The extraction is complete.")
						list(0, listmax) = 0
						listn(0, listmax) = strbye
						listmax++
						chatesc = 1
						gosub *label_3836
						if ( scenemode ) {
							if ( scene_cut == 1 ) {
								goto *label_3835
							}
						}
						goto *label_3835
					}
					else {
						listmax = 0
						buff = lang("やっぱりやめる？わかったよ。", "You still want to quit? Okay.")
						list(0, listmax) = 0
						listn(0, listmax) = strbye
						listmax++
						chatesc = 1
						gosub *label_3836
						if ( scenemode ) {
							if ( scene_cut == 1 ) {
								goto *label_3835
							}
						}
						goto *label_3835
					}
				}
				else {
					listmax = 0
					buff = lang("…この馬はスキルを覚えてないみたいだよ。", "...This horse doesn't seem to be learning any skills.")
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *label_3835
				}
			}
			else {
				listmax = 0
				buff = lang("やっぱりやめる？わかったよ。", "You still want to quit? Okay.")
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
		}
		goto *label_3835
		_switch_sw++
	}
	if ( _switch_val == 301 | _switch_sw ) {
		_switch_sw = 0
		if ( sqMinotaur == 1000 ) {
			listmax = 0
			buff = lang("おお、おぬしか。先の依頼の件、恩に着るぞ。どうだ、わしの部下になる気はないか？", "Ahh it's you. I owe you for what you've done for me. What do you say? Why don't you join my unit?")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqMinotaur == 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("まかせて", "Leave it to me!")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang(strbye, "No way.")
			listmax++
			buff = lang("困った…困ったぞ。そこのおぬし、良いところに来た。実はヨウィンがミノタウロスの軍による侵攻の危機にさらされておるのだ。ヨウィンの村長とは親しくしておって、一軍を討伐に向かわせたいのだが、今は何やら不穏な空気がパルミアを包んでいる。城から離れるわけにはいかないのだ。そこで、冒険者のおぬしに依頼したい。ミノタウロスを退治してきてはくれぬか？報酬はもちろん用意しよう。", "What do I do about this... You, over there... You couldn't have gotten here a moment too soon. Yowyn is in great danger of being destroyed by the minotaur legion. The mayor of Yowyn is a close friend of mine and I don't want to leave him out in the cold. I want to send a detachment to reinforce him but I can't. The current political climate in Palmia is too volatile and the troops must remain in the castle. That's why I'm asking an adventurer like you. Will you attack the minotaur's camp for me? I will reward you handsomely if you do this.")
			gosub *label_3836
			if ( chatval != 1 ) {
				listmax = 0
				buff = lang("やはり、おぬしには無理か…", "I knew you'd refuse... and after all, why wouldn't you?")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				goto *label_3835
			}
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			listmax = 0
			buff = lang("なに、真か！では早々にミノタウロスの巣窟に向かい、首領を退治して来てもらいたい。場所は確かヨウィンの南と聞いておる。頼むぞ！", "What? You will? Great... Head to the Minotaur's Nest south of Yowyn and take the head of the minotaurs' king. Godspeed, " + cnName(CHARA_PLAYER) + ".")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqMinotaur = 1
			goto *label_3835
		}
		if ( sqMinotaur == 1 ) {
			listmax = 0
			buff = lang("どうした？おぬしが早くせんと、ヨウィンが危ないのだ。頼むぞ。", "What's wrong? You must make haste. Yowyn is in grave danger.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( sqMinotaur == 2 ) {
			listmax = 0
			buff = lang("おぬしか、待っておったぞ。報告はいい。すでに、ミノタウロスの王を倒した英雄のことは、この耳に伝わっておるわい。わしの感謝の印だ、受け取ってくれ。", "You've returned. I've been waiting for you. I've already heard the good word about the hero who crushed the minotaur king. Take this as a sign of my eternal gratitude.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			flt
			nostack = 1
			itemcreate -1, ITEM_ID_MATERIAL_KIT, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			fixmaterial = ITEM_MATERIAL_ADAMANTIUM
			gosub *remake_material
			flt
			itemcreate -1, ITEM_ID_GOLD_PIECE, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 50000
			flt
			itemcreate -1, ITEM_ID_PLATINUM_COIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 4
			txt -1, lang("クエストを達成した！", "You have completed the quest!")
			snd SOUNDLIST_COMPLETE1
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			sqMinotaur = 1000
			goto *label_3835
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 302 | _switch_sw ) {
		_switch_sw = 0
		if ( sistersex == 1 ) {
			sistersex = 0
			listmax = 0
			buff = lang("とっとといっちまい" + _na(), "I had a good time, Bye.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			levelexitby = MAP_EXIT_NORMAL
			chatteleport = 1
			snd SOUNDLIST_EXITMAP1
			goto *label_3835
		}
		if ( cGold(CHARA_PLAYER) <= 10 ) {
			listmax = 0
			buff = lang("チッ、一文無しの乞食" + _ka() + "とっとといっちまい" + _na(), "Bah, a beggar without a penny. What a waste of time! Just go away!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		list(0, listmax) = 1
		listn(0, listmax) = lang("返り討ちにする", "Try me.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = lang("降参する", "I surrender.")
		listmax++
		if ( ogTitleNowsYourChanceToBeA == 2 ) {
			list(0, listmax) = 2
			listn(0, listmax) = lang("交渉する", "Let's negotiate.")
			listmax++
		}
		buff = lang("おまえさん、ついてない" + _na() + _ore(3) + "達は泣く子も黙る冷血な盗賊団、その名も" + gdatan(GDATAN_TEAM2) + _da() + "命が惜しければ、おとなしく荷車の積荷と金貨" + thousandsep(str(cGold(CHARA_PLAYER) / 5)) + "枚を渡すがいい" + _yo(), "Halt, halt, traveler. You're a quite fortunate one. Before you is the renowned band of legendary brigands \"" + gdatan(GDATAN_TEAM2) + "\" that the mere mention of its name is enough to silence a naughty child. Yet we will spare your life for only a toll of " + cGold(CHARA_PLAYER) / 5 + " gold pices and your cargos. Quite fortunate indeed.")
		chatesc = 0
		gosub *label_3836
		if ( chatval == 0 ) {
			snd SOUNDLIST_PAYGOLD1
			cGold(CHARA_PLAYER) -= cGold(CHARA_PLAYER) / 5
			inv_getheader 0
			repeat invrange, invhead
				if ( iNum(cnt) > 0 ) {
					if ( refitem(iID(cnt), DBSPEC_CARGO, cnt) == 1 ) {
						txt -1, lang(itemname(cnt) + "を渡した。", "You hand over " + itemname(cnt) + ".")
						iNum(cnt) = 0
					}
				}
			loop
			gosub *label_1681
			listmax = 0
			buff = lang("なかなか賢明な判断" + _da(), "A wise choice.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			levelexitby = MAP_EXIT_NORMAL
			chatteleport = 1
			snd SOUNDLIST_EXITMAP1
			goto *label_3835
		}
		if ( chatval == 2 ) {
			listmax = 0
			buff = lang("…なら、特別に金貨" + thousandsep(str(cGold(CHARA_PLAYER) / 6)) + "枚で通す" + _yo(2), "...then I'll let you through with a special offer of " + thousandsep(str(cGold(CHARA_PLAYER) / 6)) + " gp.")
			list(0, listmax) = 1
			listn(0, listmax) = lang("支払う", "Yes.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("もう一声〜", "Let's negotiate.")
			listmax++
			gosub *label_3836
			if ( chatval == 0 ) {
				listmax = 0
				buff = lang("…いいだろう、その代わりに……分かってる" + _na(1), "In exchange... got it?")
				list(0, listmax) = 1
				listn(0, listmax) = lang("条件を飲む", "Yes.")
				listmax++
				list(0, listmax) = 0
				listn(0, listmax) = lang("返り討ちにする", "terminate negotiation.")
				listmax++
				gosub *label_3836
				if ( chatval == 1 ) {
					repeat 245 - 57, 57
						if ( cId(cnt) == CREATURE_ID_ROGUE_BOSS | cId(cnt) == CREATURE_ID_ROGUE_WARRIOR | cId(cnt) == CREATURE_ID_ROGUE_ARCHER | cId(cnt) == CREATURE_ID_ROGUE_WIZARD ) {
							cRelation(cnt) = RELATION_NEUTRAL
							cOrgRelation(cnt) = RELATION_NEUTRAL
							cAiAggro(cnt) = 0
						}
					loop
					listmax = 0
					buff = lang("いく" + _yo(2), "Okay, no turning back now!")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = lang("うふふ", "Come on!")
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					tcbk = tc
					cc = tc
					tc = CHARA_PLAYER
					gosub *label_3302
					goto *label_3835
				}
			}
			else {
				snd SOUNDLIST_PAYGOLD1
				cGold(CHARA_PLAYER) -= cGold(CHARA_PLAYER) / 6
				listmax = 0
				buff = lang("なかなか賢明な判断" + _da(), "A wise choice.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				levelexitby = MAP_EXIT_NORMAL
				chatteleport = 1
				snd SOUNDLIST_EXITMAP1
				goto *label_3835
			}
		}
		listmax = 0
		buff = lang("いい度胸" + _da() + "…しかし、賢い選択とは言えない" + _na() + "ここがおまえさんの墓場" + _da(2), "You've got some guts. But your decision sure ain't a wise one. This will be your grave, kid.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 322 | _switch_sw ) {
		_switch_sw = 0
		if ( sqDaddy == 0 ) {
			listmax = 0
			buff = lang("よく聞きなさい。もしあなたがいつかリトルシスターに出会ったら、あの子達に救いの手を差し伸べてあげて。見た目こそ化け物のように映るかもしれないけど、彼女たちがまた元の可愛らしい笑顔を取り戻せるように、私は研究を続けている。だから、お願い。この道具を使ってリトルたちを私の元に運んで。あなたへのお礼は、いつか必ず。", "Please, hear me out. If you should happen to run into any little sisters during your travels, please help them out. They seem to be monsters at first glance, but I'm doing important research that will return these girls to their gentle smiling nature. Please I beg of you... use these balls to bring the little sisters to me. I'd be very grateful, perhaps I'd even reward you.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			sqDaddy = 0
			flt
			itemcreate -1, ITEM_ID_LITTLE_BALL, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
			snd SOUNDLIST_WRITE1
			txtef COLOR_GREEN
			txt -1, lang("ジャーナルが更新された。", "Your journal has been updated.")
			sqDaddy = 1
			goto *label_3835
		}
		if ( sqDaddy > 0 ) {
			listmax = 0
			list(0, listmax) = 6
			listn(0, listmax) = lang("転職したい", "Change jobs.")
			listmax++
			list(0, listmax) = 1
			listn(0, listmax) = lang("約束のお礼は？", "What about the reward you promised me?")
			listmax++
			list(0, listmax) = 2
			listn(0, listmax) = lang("捕獲玉を補充したい", "I need to replenish my supply of little balls.")
			listmax++
			if ( findally(CREATURE_ID_LITTLE_SISTER) != (-1) ) {
				list(0, listmax) = 3
				listn(0, listmax) = lang("リトルシスターを引き渡す", "(Turn over the little sister.)")
				listmax++
			}
			else {
				inv_getheader 0
				repeat invrange, invhead
					if ( iNum(cnt) == 0 ) {
						continue
					}
					if ( iID(cnt) != ITEM_ID_MONSTER_BALL ) {
						continue
					}
					if ( iSubName(cnt) != 319 ) {
						continue
					}
					locvar_dmghp_p = cnt
					list(0, listmax) = 4
					listn(0, listmax) = lang("リトルシスターを引き渡す", "(Turn over the little sister.)")
					listmax++
					break
				loop
			}
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			buff = lang("リトルたちを、終わりのない苦痛から解放するべきだという人もいる。でも、大抵の人間はあの子達の力が欲しくて殺すのよ。そう、確かにリトルの肉は人の肉体を進化させる。それでも、私はあの子たちを救う別の道があることを信じているの。…そして覚えておいて。もしあなたがリトルの命を奪うようなことがあれば、いつかその酬いを受ける時がくるから。", "Many people feel we need to free these girls from their never-ending oppression, but there are also scumbags that would murder them for their own personal gain. That's right; they say eating the girls' flesh will evolve the human body. I know there must be a better way to help them... don't forget that. Remember that if you take their lives, you will eventually get what's coming to you. ")
			gosub *label_3836
			if ( chatval == 1 ) {
				p = gSisterKilled
				repeat gSisterReward + 1, 1
					p += cnt
				loop
				if ( gSisterSaved >= p | 0 ) {
					listmax = 0
					buff = lang("報酬、そうね。リトルたちが、あなたのために街で落し物を集めてきたのよ。好きなものを選んでちょうだい。あなたが貴重なものを無くした時のために、保留しておいてもいいわ。", "That's right...your reward. The little sisters have been picking things up for you that people have lost in town. Please, take whatever you like. If you like, you can wait until you've lost something valuable.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					begintempinv
					mode = MODELIST_SHOP
					gosub *label_3849
					txt -1, lang("落し物をひとつ貰える。", "You can choose 1 item.")
					invsubroutine = 1
					invctrl = INVCTRL_INV_FILE_GET, 4
					gosub *label_2974
					exittempinv
					mode = MODELIST_MAIN
					listmax = 0
					buff = lang("お目当てのものはあったかしら？", "Did you find what you were looking for?")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
				}
				else {
					listmax = 0
					buff = lang("あなたにまだその資格はない。リトルたちを連れてきて。報酬はそのあと考えるわ。", "You haven't brought me enough sisters yet. Bring me a few more and then we'll discuss your reward.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
				}
				goto *label_3835
			}
			if ( chatval == 2 ) {
				listmax = 0
				buff = lang("さあ、これを持っていきなさい。重いから注意して。", "Well then, take this with you. Be careful though, it's heavy.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				flt
				itemcreate -1, ITEM_ID_LITTLE_BALL, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
				txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
				goto *label_3835
			}
			if ( chatval == 3 ) {
				txt -1, lang("リトルシスターを謎の科学者に手渡した。", "You turn over the little sister.")
				gSisterSaved++
				txtef COLOR_GREEN
				txt -1, lang("リトルシスター殺害" + gSisterKilled + "回、救出" + gSisterSaved + "回。", "You have saved little sister " + gSisterSaved + " times and killed " + gSisterKilled + " times.")
				modkarma 0, 20
				chara_vanquish findally(CREATURE_ID_LITTLE_SISTER)
				snd SOUNDLIST_COMPLETE1
				if ( ogTitleDeusExMachina == 0 ) {
					if ( gSisterSaved >= 1000 ) {
						f = 1
						ogTitleDeusExMachina = 1
					}
				}
				if ( f == 1 ) {
					snd SOUNDLIST_WRITE1
					txtef COLOR_GREEN
					txt -1, lang("新しい称号を獲得した！", "Earned a new title!")
				}
				listmax = 0
				buff = lang("ありがとう。あなたの行いに感謝するわ。あなたへのお礼は近いうちに必ず。", "Thanks, I appreciate what you've done. It won't be long before I can reward you")
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
			}
			if ( chatval == 4 ) {
				txt -1, lang("リトルシスターを謎の科学者に手渡した。", "You turn over the little sister.")
				gSisterSaved++
				txtef COLOR_GREEN
				txt -1, lang("リトルシスター殺害" + gSisterKilled + "回、救出" + gSisterSaved + "回。", "You have saved little sister " + gSisterSaved + " times and killed " + gSisterKilled + " times.")
				modkarma 0, 20
				iNum(locvar_dmghp_p)--
				snd SOUNDLIST_COMPLETE1
				if ( ogTitleDeusExMachina == 0 ) {
					if ( gSisterSaved >= 1000 ) {
						f = 1
						ogTitleDeusExMachina = 1
					}
				}
				if ( f == 1 ) {
					snd SOUNDLIST_WRITE1
					txtef COLOR_GREEN
					txt -1, lang("新しい称号を獲得した！", "Earned a new title!")
				}
				listmax = 0
				buff = lang("ありがとう。あなたの行いに感謝するわ。あなたへのお礼は近いうちに必ず。", "Thanks, I appreciate what you've done. It won't be long before I can reward you")
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
			}
			if ( chatval == 6 ) {
				ccctrl = 4
				goto *label_4411
			}
			goto *label_3835
		}
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 343 & cRole(tc) != ROLE_PET_MAID | _switch_sw ) {
		_switch_sw = 0
		p = instr(usertxt(cUNID(tc)), 0, "%txt_ucnpc_ev_b")
		if ( p == (-1) ) {
			goto *label_3781
		}
		starttxt = "%txtevstart" + "," + lang("JP", "EN")
		iftxt = iftxtsearch(usertxt(cUNID(tc)), p, "%txtevif", cc, tc, tc)
		if ( iftxt != "" ) {
			starttxt = iftxt
		}
		else {
			iftxt = iftxtsearch(usertxt(cUNID(tc)), p, "%txtevstart", cc, tc, tc)
			if ( iftxt != "" ) {
				starttxt = iftxt
			}
		}
		sdim setbuff, 10000
		sdim tmpbuff, 1000, 10
		sdim evact, 500
		sdim evline, 50
		if ( p != (-1) ) {
			setbuff = strmid(usertxt(cUNID(tc)), p, instr(usertxt(cUNID(tc)), 0, "%txt_ucnpc_ev_e") - p + 15)
			repeat 300
				listmax = 0
				notesel tmpbuff(0)
				if ( cnt == 0 ) {
					p = instr(setbuff, 0, "%txtevstart" + "," + lang("JP", "EN"))
				}
				else {
					evtxt = iftxtsearch(setbuff, 0, evline, cc, tc, tc)
					if ( evtxt != "" ) {
						p = instr(setbuff, 0, evtxt)
					}
					else {
						p = -1
					}
				}
				if ( p != (-1) ) {
					tmpbuff(0) = strmid(setbuff, p, instr(setbuff, p + 1, "%txt"))
					if ( noteinfo(0) > 1 ) {
						notedel 0
						split tmpbuff(0), "{c}", tmpbuff
						ccount = stat - 1
						buff = tmpbuff(0)
						convert_word buff, cc, tc
						if ( ccount == 0 ) {
							break
						}
						repeat ccount
							list(0, listmax) = cnt
							listn(0, listmax) = strmid(tmpbuff(cnt + 1), 0, instr(tmpbuff(cnt + 1), 0, "%"))
							listmax++
						loop
						chatesc = 1
						gosub *label_3836
						if ( chatval == (-1) ) {
							break
						}
						repeat ccount
							evact = ""
							if ( chatval == cnt ) {
								if ( instr(tmpbuff(cnt + 1), 0, "{ev}") != (-1) ) {
									p = instr(tmpbuff(cnt + 1), instr(tmpbuff(cnt + 1), 0, "%") + 1, "{ev}")
									evact = strmid(tmpbuff(cnt + 1), instr(tmpbuff(cnt + 1), 0, "{ev}"), 100)
								}
								else {
									p = 100
								}
								evline = "%txt" + strmid(tmpbuff(cnt + 1), instr(tmpbuff(cnt + 1), 0, "%") + 1, p)
								matubi = strmid(evline, -1, 1)
								if ( peek(matubi, 0) == 13 ) {
									evline = strtrim(evline, 2, 13)
								}
								break
							}
						loop
					}
				}
				f = 0
				if ( instr(evact, 0, "gohos") != (-1) ) {
					cRelation(tc) = RELATION_ENEMY
				}
				if ( instr(evact, 0, "turnAlly") != (-1) ) {
					cRelation(tc) = RELATION_ALLY
				}
				if ( instr(evact, 0, "emofire") != (-1) ) {
					cEmoIcon(tc) = 0 + 100 * 5
				}
				if ( instr(evact, 0, "emonote") != (-1) ) {
					cEmoIcon(tc) = 6 + 100 * 5
				}
				if ( instr(evact, 0, "emolead") != (-1) ) {
					cEmoIcon(tc) = 7 + 100 * 5
				}
				if ( instr(evact, 0, "emopoison") != (-1) ) {
					cEmoIcon(tc) = 8 + 100 * 5
				}
				if ( instr(evact, 0, "emobleed") != (-1) ) {
					cEmoIcon(tc) = 9 + 100 * 5
				}
				if ( instr(evact, 0, "emoblind") != (-1) ) {
					cEmoIcon(tc) = 10 + 100 * 5
				}
				if ( instr(evact, 0, "emoconfuse") != (-1) ) {
					cEmoIcon(tc) = 11 + 100 * 5
				}
				if ( instr(evact, 0, "emodim") != (-1) ) {
					cEmoIcon(tc) = 12 + 100 * 5
				}
				if ( instr(evact, 0, "emofear") != (-1) ) {
					cEmoIcon(tc) = 13 + 100 * 5
				}
				if ( instr(evact, 0, "emosleep") != (-1) ) {
					cEmoIcon(tc) = 14 + 100 * 5
				}
				if ( instr(evact, 0, "emoparalyze") != (-1) ) {
					cEmoIcon(tc) = 15 + 100 * 5
				}
				if ( instr(evact, 0, "emoeat") != (-1) ) {
					cEmoIcon(tc) = 16 + 100 * 5
				}
				if ( instr(evact, 0, "emolove") != (-1) ) {
					cEmoIcon(tc) = 17 + 100 * 5
				}
				if ( instr(evact, 0, "emoanger") != (-1) ) {
					cEmoIcon(tc) = 18 + 100 * 5
				}
				if ( instr(evact, 0, "emobag") != (-1) ) {
					cEmoIcon(tc) = 19 + 100 * 5
				}
				if ( instr(evact, 0, "emoexclamation") != (-1) ) {
					cEmoIcon(tc) = 20 + 100 * 5
				}
				if ( instr(evact, 0, "emoquestion") != (-1) ) {
					cEmoIcon(tc) = 21 + 100 * 5
				}
				if ( instr(evact, 0, "emoperson") != (-1) ) {
					cEmoIcon(tc) = 22 + 100 * 5
				}
				if ( instr(evact, 0, "emomemo") != (-1) ) {
					cEmoIcon(tc) = 23 + 100 * 5
				}
				if ( instr(evact, 0, "emomad") != (-1) ) {
					cEmoIcon(tc) = 24 + 100 * 5
				}
				if ( instr(evact, 0, "emostar") != (-1) ) {
					cEmoIcon(tc) = 25 + 100 * 5
				}
				if ( instr(evact, 0, "exitmap1.wav") != (-1) ) {
					snd SOUNDLIST_EXITMAP1
				}
				if ( instr(evact, 0, "book1.wav") != (-1) ) {
					snd SOUNDLIST_BOOK1
				}
				if ( instr(evact, 0, "write1.wav") != (-1) ) {
					snd SOUNDLIST_WRITE1
				}
				if ( instr(evact, 0, "pop1.wav") != (-1) ) {
					snd SOUNDLIST_POP1
				}
				if ( instr(evact, 0, "kill1.wav") != (-1) ) {
					snd SOUNDLIST_KILL1
				}
				if ( instr(evact, 0, "kill2.wav") != (-1) ) {
					snd SOUNDLIST_KILL2
				}
				if ( instr(evact, 0, "trap1.wav") != (-1) ) {
					snd SOUNDLIST_TRAP1
				}
				if ( instr(evact, 0, "more1.wav") != (-1) ) {
					snd SOUNDLIST_MORE1
				}
				if ( instr(evact, 0, "getgold1.wav") != (-1) ) {
					snd SOUNDLIST_GETGOLD1
				}
				if ( instr(evact, 0, "paygold1.wav") != (-1) ) {
					snd SOUNDLIST_PAYGOLD1
				}
				if ( instr(evact, 0, "equip1.wav") != (-1) ) {
					snd SOUNDLIST_EQUIP1
				}
				if ( instr(evact, 0, "get1.wav") != (-1) ) {
					snd SOUNDLIST_GET1
				}
				if ( instr(evact, 0, "get2.wav") != (-1) ) {
					snd SOUNDLIST_GET2
				}
				if ( instr(evact, 0, "drop1.wav") != (-1) ) {
					snd SOUNDLIST_DROP1
				}
				if ( instr(evact, 0, "drink1.wav") != (-1) ) {
					snd SOUNDLIST_DRINK1
				}
				if ( instr(evact, 0, "eat1.wav") != (-1) ) {
					snd SOUNDLIST_EAT1
				}
				if ( instr(evact, 0, "spend1.wav") != (-1) ) {
					snd SOUNDLIST_SPEND1
				}
				if ( instr(evact, 0, "ding1.wav") != (-1) ) {
					snd SOUNDLIST_DING1
				}
				if ( instr(evact, 0, "ding3.wav") != (-1) ) {
					snd SOUNDLIST_DING3
				}
				if ( instr(evact, 0, "dead1.wav") != (-1) ) {
					snd SOUNDLIST_DEAD1
				}
				if ( instr(evact, 0, "ok1.wav") != (-1) ) {
					snd SOUNDLIST_OK1
				}
				if ( instr(evact, 0, "dig1.wav") != (-1) ) {
					snd SOUNDLIST_DIG1
				}
				if ( instr(evact, 0, "bash1.wav") != (-1) ) {
					snd SOUNDLIST_BASH1
				}
				if ( instr(evact, 0, "complete1.wav") != (-1) ) {
					snd SOUNDLIST_COMPLETE1
				}
				if ( instr(evact, 0, "alert1.wav") != (-1) ) {
					snd SOUNDLIST_ALERT1
				}
				if ( instr(evact, 0, "locked1.wav") != (-1) ) {
					snd SOUNDLIST_LOCKED1
				}
				if ( instr(evact, 0, "chest1.wav") != (-1) ) {
					snd SOUNDLIST_CHEST1
				}
				if ( instr(evact, 0, "ding2.wav") != (-1) ) {
					snd SOUNDLIST_DING2
				}
				if ( instr(evact, 0, "cook1.wav") != (-1) ) {
					snd SOUNDLIST_COOK1
				}
				if ( instr(evact, 0, "pop2.wav") != (-1) ) {
					snd SOUNDLIST_POP2
				}
				if ( instr(evact, 0, "fail1.wav") != (-1) ) {
					snd SOUNDLIST_FAIL1
				}
				if ( instr(evact, 0, "build1.wav") != (-1) ) {
					snd SOUNDLIST_BUILD1
				}
				if ( instr(evact, 0, "bow1.wav") != (-1) ) {
					snd SOUNDLIST_BOW1
				}
				if ( instr(evact, 0, "atk1.wav") != (-1) ) {
					snd SOUNDLIST_ATK1
				}
				if ( instr(evact, 0, "atk2.wav") != (-1) ) {
					snd SOUNDLIST_ATK2
				}
				if ( instr(evact, 0, "gun1.wav") != (-1) ) {
					snd SOUNDLIST_GUN1
				}
				if ( instr(evact, 0, "throw1.wav") != (-1) ) {
					snd SOUNDLIST_THROW1
				}
				if ( instr(evact, 0, "heart1.wav") != (-1) ) {
					snd SOUNDLIST_HEART1
				}
				if ( instr(evact, 0, "heal1.wav") != (-1) ) {
					snd SOUNDLIST_HEAL1
				}
				if ( instr(evact, 0, "teleport1.wav") != (-1) ) {
					snd SOUNDLIST_TELEPORT1
				}
				if ( instr(evact, 0, "ball1.wav") != (-1) ) {
					snd SOUNDLIST_BALL1
				}
				if ( instr(evact, 0, "breath1.wav") != (-1) ) {
					snd SOUNDLIST_BREATH1
				}
				if ( instr(evact, 0, "bolt1.wav") != (-1) ) {
					snd SOUNDLIST_BOLT1
				}
				if ( instr(evact, 0, "arrow1.wav") != (-1) ) {
					snd SOUNDLIST_ARROW1
				}
				if ( instr(evact, 0, "curse1.wav") != (-1) ) {
					snd SOUNDLIST_CURSE1
				}
				if ( instr(evact, 0, "pop3.wav") != (-1) ) {
					snd SOUNDLIST_POP3
				}
				if ( instr(evact, 0, "chime.wav") != (-1) ) {
					snd SOUNDLIST_CHIME
				}
				if ( instr(evact, 0, "laser1.wav") != (-1) ) {
					snd SOUNDLIST_LASER1
				}
				if ( instr(evact, 0, "web.wav") != (-1) ) {
					snd SOUNDLIST_WEB
				}
				if ( instr(evact, 0, "cheer.wav") != (-1) ) {
					snd SOUNDLIST_CHEER
				}
				if ( instr(evact, 0, "door1.wav") != (-1) ) {
					snd SOUNDLIST_DOOR1
				}
				if ( instr(evact, 0, "crush1.wav") != (-1) ) {
					snd SOUNDLIST_CRUSH1
				}
				if ( instr(evact, 0, "crush2.wav") != (-1) ) {
					snd SOUNDLIST_CRUSH2
				}
				if ( instr(evact, 0, "fire1.wav") != (-1) ) {
					snd SOUNDLIST_FIRE1
				}
				if ( instr(evact, 0, "snow.wav") != (-1) ) {
					snd SOUNDLIST_SNOW
				}
				if ( instr(evact, 0, "fish_cast.wav") != (-1) ) {
					snd SOUNDLIST_FISH_CAST
				}
				if ( instr(evact, 0, "fish_get.wav") != (-1) ) {
					snd SOUNDLIST_FISH_GET
				}
				if ( instr(evact, 0, "fish_fight.wav") != (-1) ) {
					snd SOUNDLIST_FISH_FIGHT
				}
				if ( instr(evact, 0, "ammo.wav") != (-1) ) {
					snd SOUNDLIST_AMMO
				}
				if ( instr(evact, 0, "throw2.wav") != (-1) ) {
					snd SOUNDLIST_THROW2
				}
				if ( instr(evact, 0, "foot1a.wav") != (-1) ) {
					snd SOUNDLIST_FOOT1A
				}
				if ( instr(evact, 0, "foot2a.wav") != (-1) ) {
					snd SOUNDLIST_FOOT2A
				}
				if ( instr(evact, 0, "foot1b.wav") != (-1) ) {
					snd SOUNDLIST_FOOT1B
				}
				if ( instr(evact, 0, "foot2b.wav") != (-1) ) {
					snd SOUNDLIST_FOOT2B
				}
				if ( instr(evact, 0, "foot2c.wav") != (-1) ) {
					snd SOUNDLIST_FOOT2C
				}
				if ( instr(evact, 0, "click1.wav") != (-1) ) {
					snd SOUNDLIST_CLICK1
				}
				if ( instr(evact, 0, "get3.wav") != (-1) ) {
					snd SOUNDLIST_GET3
				}
				if ( instr(evact, 0, "card1.wav") != (-1) ) {
					snd SOUNDLIST_CARD1
				}
				if ( instr(evact, 0, "water.wav") != (-1) ) {
					snd SOUNDLIST_WATER
				}
				if ( instr(evact, 0, "water2.wav") != (-1) ) {
					snd SOUNDLIST_WATER2
				}
				if ( instr(evact, 0, "dig2.wav") != (-1) ) {
					snd SOUNDLIST_DIG2
				}
				if ( instr(evact, 0, "bush1.wav") != (-1) ) {
					snd SOUNDLIST_BUSH1
				}
				if ( instr(evact, 0, "gasha.wav") != (-1) ) {
					snd SOUNDLIST_GASHA
				}
				if ( instr(evact, 0, "cursor1.wav") != (-1) ) {
					snd SOUNDLIST_CURSOR1
				}
				if ( instr(evact, 0, "pop4.wav") != (-1) ) {
					snd SOUNDLIST_POP4
				}
				if ( instr(evact, 0, "punish1.wav") != (-1) ) {
					snd SOUNDLIST_PUNISH1
				}
				if ( instr(evact, 0, "pray1.wav") != (-1) ) {
					snd SOUNDLIST_PRAY1
				}
				if ( instr(evact, 0, "offer1.wav") != (-1) ) {
					snd SOUNDLIST_OFFER1
				}
				if ( instr(evact, 0, "fizzle.wav") != (-1) ) {
					snd SOUNDLIST_FIZZLE
				}
				if ( instr(evact, 0, "door2.wav") != (-1) ) {
					snd SOUNDLIST_DOOR2
				}
				if ( instr(evact, 0, "foot.wav") != (-1) ) {
					snd SOUNDLIST_FOOT
				}
				if ( instr(evact, 0, "miss.wav") != (-1) ) {
					snd SOUNDLIST_MISS
				}
				if ( instr(evact, 0, "night.wav") != (-1) ) {
					snd SOUNDLIST_NIGHT
				}
				if ( instr(evact, 0, "bg_rain.wav") != (-1) ) {
					snd SOUNDLIST_BG_RAIN
				}
				if ( instr(evact, 0, "bg_thunder.wav") != (-1) ) {
					snd SOUNDLIST_BG_THUNDER
				}
				if ( instr(evact, 0, "bg_wind.wav") != (-1) ) {
					snd SOUNDLIST_BG_WIND
				}
				if ( instr(evact, 0, "bg_sea.wav") != (-1) ) {
					snd SOUNDLIST_BG_SEA
				}
				if ( instr(evact, 0, "bg_town.wav") != (-1) ) {
					snd SOUNDLIST_BG_TOWN
				}
				if ( instr(evact, 0, "bg_fire.wav") != (-1) ) {
					snd SOUNDLIST_BG_FIRE
				}
				if ( instr(evact, 0, "scroll.wav") != (-1) ) {
					snd SOUNDLIST_SCROLL
				}
				if ( instr(evact, 0, "log.wav") != (-1) ) {
					snd SOUNDLIST_LOG
				}
				if ( instr(evact, 0, "chara.wav") != (-1) ) {
					snd SOUNDLIST_CHARA
				}
				if ( instr(evact, 0, "wear.wav") != (-1) ) {
					snd SOUNDLIST_WEAR
				}
				if ( instr(evact, 0, "feat.wav") != (-1) ) {
					snd SOUNDLIST_FEAT
				}
				if ( instr(evact, 0, "port.wav") != (-1) ) {
					snd SOUNDLIST_PORT
				}
				if ( instr(evact, 0, "unpop1.wav") != (-1) ) {
					snd SOUNDLIST_UNPOP1
				}
				if ( instr(evact, 0, "chat.wav") != (-1) ) {
					snd SOUNDLIST_CHAT
				}
				if ( instr(evact, 0, "inv.wav") != (-1) ) {
					snd SOUNDLIST_INV
				}
				if ( instr(evact, 0, "skill.wav") != (-1) ) {
					snd SOUNDLIST_SKILL
				}
				if ( instr(evact, 0, "spell.wav") != (-1) ) {
					snd SOUNDLIST_SPELL
				}
				if ( instr(evact, 0, "dice.wav") != (-1) ) {
					snd SOUNDLIST_DICE
				}
				if ( instr(evact, 0, "vomit.wav") != (-1) ) {
					snd SOUNDLIST_VOMIT
				}
				if ( instr(evact, 0, "atksword.wav") != (-1) ) {
					snd SOUNDLIST_ATKSWORD
				}
				if ( instr(evact, 0, "atk_ice.wav") != (-1) ) {
					snd SOUNDLIST_ATK_ICE
				}
				if ( instr(evact, 0, "atk_elec.wav") != (-1) ) {
					snd SOUNDLIST_ATK_ELEC
				}
				if ( instr(evact, 0, "atk_fire.wav") != (-1) ) {
					snd SOUNDLIST_ATK_FIRE
				}
				if ( instr(evact, 0, "atk_hell.wav") != (-1) ) {
					snd SOUNDLIST_ATK_HELL
				}
				if ( instr(evact, 0, "atk_poison.wav") != (-1) ) {
					snd SOUNDLIST_ATK_POISON
				}
				if ( instr(evact, 0, "atk_nerve.wav") != (-1) ) {
					snd SOUNDLIST_ATK_NERVE
				}
				if ( instr(evact, 0, "atk_sound.wav") != (-1) ) {
					snd SOUNDLIST_ATK_SOUND
				}
				if ( instr(evact, 0, "atk_mind.wav") != (-1) ) {
					snd SOUNDLIST_ATK_MIND
				}
				if ( instr(evact, 0, "atk_chaos.wav") != (-1) ) {
					snd SOUNDLIST_ATK_CHAOS
				}
				if ( instr(evact, 0, "atk_dark.wav") != (-1) ) {
					snd SOUNDLIST_ATK_DARK
				}
				if ( instr(evact, 0, "curse2.wav") != (-1) ) {
					snd SOUNDLIST_CURSE2
				}
				if ( instr(evact, 0, "curse3.wav") != (-1) ) {
					snd SOUNDLIST_CURSE3
				}
				if ( instr(evact, 0, "enc.wav") != (-1) ) {
					snd SOUNDLIST_ENC
				}
				if ( instr(evact, 0, "enc2.wav") != (-1) ) {
					snd SOUNDLIST_ENC2
				}
				if ( instr(evact, 0, "pray2.wav") != (-1) ) {
					snd SOUNDLIST_PRAY2
				}
				if ( instr(evact, 0, "offer2.wav") != (-1) ) {
					snd SOUNDLIST_OFFER2
				}
				if ( instr(evact, 0, "mcReset") != (-1) ) {
					f = 1
					music = 50
				}
				if ( instr(evact, 0, "mcTown1") != (-1) ) {
					f = 1
					music = MUSICLIST_MCTOWN1
				}
				if ( instr(evact, 0, "mcTown2") != (-1) ) {
					f = 1
					music = MUSICLIST_MCTOWN2
				}
				if ( instr(evact, 0, "mcTown3") != (-1) ) {
					f = 1
					music = MUSICLIST_MCTOWN3
				}
				if ( instr(evact, 0, "mcTown4") != (-1) ) {
					f = 1
					music = MUSICLIST_MCTOWN4
				}
				if ( instr(evact, 0, "mcDungeon1") != (-1) ) {
					f = 1
					music = MUSICLIST_MCDUNGEON1
				}
				if ( instr(evact, 0, "mcDungeon2") != (-1) ) {
					f = 1
					music = MUSICLIST_MCDUNGEON2
				}
				if ( instr(evact, 0, "mcDungeon3") != (-1) ) {
					f = 1
					music = MUSICLIST_MCDUNGEON3
				}
				if ( instr(evact, 0, "mcDungeon4") != (-1) ) {
					f = 1
					music = MUSICLIST_MCDUNGEON4
				}
				if ( instr(evact, 0, "mcDungeon5") != (-1) ) {
					f = 1
					music = MUSICLIST_MCDUNGEON5
				}
				if ( instr(evact, 0, "mcDungeon6") != (-1) ) {
					f = 1
					music = MUSICLIST_MCDUNGEON6
				}
				if ( instr(evact, 0, "mcPuti") != (-1) ) {
					f = 1
					music = MUSICLIST_MCPUTI
				}
				if ( instr(evact, 0, "mcBoss") != (-1) ) {
					f = 1
					music = MUSICLIST_MCBOSS
				}
				if ( instr(evact, 0, "mcBoss2") != (-1) ) {
					f = 1
					music = MUSICLIST_MCBOSS2
				}
				if ( instr(evact, 0, "mcVictory") != (-1) ) {
					f = 1
					music = MUSICLIST_MCVICTORY
				}
				if ( instr(evact, 0, "mcOpening") != (-1) ) {
					f = 1
					music = MUSICLIST_MCOPENING
				}
				if ( instr(evact, 0, "mcLastBoss") != (-1) ) {
					f = 1
					music = MUSICLIST_MCLASTBOSS
				}
				if ( instr(evact, 0, "mcHome") != (-1) ) {
					f = 1
					music = MUSICLIST_MCHOME
				}
				if ( instr(evact, 0, "mcLonely") != (-1) ) {
					f = 1
					music = MUSICLIST_MCLONELY
				}
				if ( instr(evact, 0, "mcChaos") != (-1) ) {
					f = 1
					music = MUSICLIST_MCCHAOS
				}
				if ( instr(evact, 0, "mcMarch1") != (-1) ) {
					f = 1
					music = MUSICLIST_MCMARCH1
				}
				if ( instr(evact, 0, "mcMarch2") != (-1) ) {
					f = 1
					music = MUSICLIST_MCMARCH2
				}
				if ( instr(evact, 0, "mcMarch3") != (-1) ) {
					f = 1
					music = MUSICLIST_MCMARCH3
				}
				if ( instr(evact, 0, "mcArena") != (-1) ) {
					f = 1
					music = MUSICLIST_MCARENA
				}
				if ( instr(evact, 0, "mcFanfare") != (-1) ) {
					f = 1
					music = MUSICLIST_MCFANFARE
				}
				if ( instr(evact, 0, "mcVillage1") != (-1) ) {
					f = 1
					music = MUSICLIST_MCVILLAGE1
				}
				if ( instr(evact, 0, "mcBattle1") != (-1) ) {
					f = 1
					music = MUSICLIST_MCBATTLE1
				}
				if ( instr(evact, 0, "mcCasino") != (-1) ) {
					f = 1
					music = MUSICLIST_MCCASINO
				}
				if ( instr(evact, 0, "mcCoda") != (-1) ) {
					f = 1
					music = MUSICLIST_MCCODA
				}
				if ( instr(evact, 0, "mcRuin") != (-1) ) {
					f = 1
					music = MUSICLIST_MCRUIN
				}
				if ( instr(evact, 0, "mcWedding") != (-1) ) {
					f = 1
					music = MUSICLIST_MCWEDDING
				}
				if ( instr(evact, 0, "mcPetArena") != (-1) ) {
					f = 1
					music = MUSICLIST_MCPETARENA
				}
				if ( instr(evact, 0, "mcUnrest") != (-1) ) {
					f = 1
					music = MUSICLIST_MCUNREST
				}
				if ( instr(evact, 0, "mcTown5") != (-1) ) {
					f = 1
					music = MUSICLIST_MCTOWN5
				}
				if ( instr(evact, 0, "mcUnrest2") != (-1) ) {
					f = 1
					music = MUSICLIST_MCUNREST2
				}
				if ( instr(evact, 0, "mcTown6") != (-1) ) {
					f = 1
					music = MUSICLIST_MCTOWN6
				}
				if ( instr(evact, 0, "mcField1") != (-1) ) {
					f = 1
					music = MUSICLIST_MCFIELD1
				}
				if ( instr(evact, 0, "mcField2") != (-1) ) {
					f = 1
					music = MUSICLIST_MCFIELD2
				}
				if ( instr(evact, 0, "mcField3") != (-1) ) {
					f = 1
					music = MUSICLIST_MCFIELD3
				}
				if ( instr(evact, 0, "mcMemory") != (-1) ) {
					f = 1
					music = MUSICLIST_MCMEMORY
				}
				if ( instr(evact, 0, "mcIntro") != (-1) ) {
					f = 1
					music = MUSICLIST_MCINTRO
				}
				if ( f == 1 ) {
					gosub *music_play
				}
				if ( instr(evact, 0, "iikoto") != (-1) ) {
					gosub *label_3302
					break
				}
				if ( instr(evact, 0, "vanq") != (-1) ) {
					txt -1, lang(name(tc) + "は消え去った。", name(tc) + " vanish" + _s(tc, 1) + ".")
					chara_vanquish tc
					break
				}
				if ( evline == "%txtbye" ) {
					break
				}
			loop
		}
		if ( evline == "%txtbye" | chatval == (-1) | instr(evact, 0, "vanq") != (-1) | instr(evact, 0, "iikoto") != (-1) ) {
			goto *label_3835
		}
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *label_3835
	}
	if ( _switch_val == 345 | _switch_sw ) {
		_switch_sw = 0
		if ( sqKaneda >= 3 ) {
			buff = lang("どうだい、俺に乗ってみたいかい？", "So, you wanted to ride me right?")
			if ( gettrait(0, 184) == 0 ) {
				list(0, listmax) = 1
				listn(0, listmax) = lang("乗りたい", "Yes!")
				listmax++
			}
			list(0, listmax) = 0
			listn(0, listmax) = lang("別に乗りたくない", "Not really.")
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( chatval == 1 ) {
				f = get_freeally()
				if ( f == 0 ) {
					listmax = 0
					buff = lang("おっと、これ以上仲間を連れて行けないようだぜ。", "Oops, it seems your party is already full.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
							goto *label_3835
						}
					}
				}
				listmax = 0
				buff = lang("そうこなくっちゃ！", "That's the spirit!")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				rc = tc
				gosub *cm_race_loop_WHILE1
				sqKaneda = 0
				goto *label_3835
			}
			listmax = 0
			buff = lang("まあ、いいさ。", "If you say so.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		inv_find ITEM_ID_BLUE_CAPSULE_DRAG, CHARA_PLAYER
		if ( stat != (-1) ) {
			buff = lang("それはカプセル・ドラッグ！…なあ、それ譲ってくれよ。", "That-that's a capsule drug! ...hey, you want to give it to me?")
			list(0, listmax) = 1
			listn(0, listmax) = lang("譲る", "Take it.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("断る", "Nope.")
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( chatval == 1 ) {
				inv_find ITEM_ID_BLUE_CAPSULE_DRAG, CHARA_PLAYER
				iNum(stat)--
				txt -1, lang("カプセルドラッグを1錠渡した。", "You hand him a capsule drug.")
				snd SOUNDLIST_EQUIP1
				listmax = 0
				buff = lang("いいねえ。", "Great, you are great.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				sqKaneda++
				goto *label_3835
			}
		}
		listmax = 0
		buff = lang("気安く話しかけんな。", "Stay away from me, will ya?")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *label_3835
		goto *label_3781
		_switch_sw++
	}
	if ( _switch_val == 348 | _switch_sw ) {
		_switch_sw = 0
		if ( gArea  != AREA_NOYEL | areaFestival(gArea ) == 0 ) {
			goto *label_3781
		}
		if ( godcheck() == "jure" ) {
			listmax = 0
			buff = lang("ああ、あなた既に信者さんでしょ？悪いけど、新規契約しか受け付けてないからさ。", "Ah, you already believe in Jure right? Sorry bro, but we are only looking for new contracts.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		if ( gettrait(0, 174) == 0 & gettrait(0, 175) == 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("ジュア教に改宗する", "I will become a faithful servant of Jure.")
			listmax++
		}
		list(0, listmax) = 0
		listn(0, listmax) = lang("興味ない", "Not interested.")
		listmax++
		buff = lang("ジュア教団では、ただ今他の神からの乗り換えキャンペーン実施中だ！聖夜祭の期間中なら、改宗によるペナルティは払わなくていいよ。さらになんと、今なら無料で数量限定のジュア様の抱き枕も付けちゃうよ！お客さん、このチャンスを見逃す手はないよ。", "We are running a special campaign to help you join our religion! Be a brother of Jure today and win free body pillow of Jure! During the festival, you won't have to pay penalty to convert your religion neither. So what are you waiting? Sign up now!")
		chatesc = 1
		gosub *label_3836
		if ( chatval == 1 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("はい", "Yes.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("いいえ", "No.")
			listmax++
			buff = lang("よし、本当に改宗していいね？", "Okie, just making sure. Do you really want to convert your religion?")
			chatesc = 1
			gosub *label_3836
			if ( chatval == 1 ) {
				listmax = 0
				buff = lang("あざーっす！やっと今日のノルマが達成できたよ。", "Thanks, bro! I just filled my daily quota.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
				flt
				itemcreate -1, ITEM_ID_JURES_BODY_PILLOW, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
				believegod 0, "jure"
				gosub *label_2466
				goto *label_3835
			}
		}
		listmax = 0
		buff = lang("ちっ！", "Shit!")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *label_3835
		goto *label_3781
	}
	if ( gRankGuild <= 9500 ) {
		if ( guildcheck(0) == "mage" ) {
			if ( _switch_val == 288 | _switch_sw ) {
				_switch_sw = 0
				listmax = 0
				list(0, listmax) = 6
				listn(0, listmax) = lang("転職したい", "Change jobs.")
				listmax++
				list(0, listmax) = 10
				listn(0, listmax) = lang("職業の技能を学びたい", "Learn the skills of profession.")
				listmax++
				if ( gRankGuild < 3000 ) {
					if ( ogdata(250) == 0 ) {
						list(0, listmax) = 1
						listn(0, listmax) = lang("仕事を貰う", "Do you have any tasks for me?")
						listmax++
					}
					else {
						list(0, listmax) = 2
						listn(0, listmax) = lang("仕事を報告する", "About my task.")
						listmax++
						list(0, listmax) = 4
						listn(0, listmax) = lang("他の仕事を貰う", "Do you have any tasks for me?")
						listmax++
					}
					if ( ogdata(253) ) {
						list(0, listmax) = 3
						listn(0, listmax) = lang("魔法を作成する", "Create spell.")
						listmax++
					}
					if ( userspellmax ) {
						list(0, listmax) = 5
						listn(0, listmax) = lang("魔法を封印する", "Seal spell.")
						listmax++
					}
				}
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				buff = lang("こんにちは、" + cnName(CHARA_PLAYER) + "。活躍は聞いていますよ。", "Hello, " + cnName(CHARA_PLAYER) + ". Your rumor is often heard.")
				gosub *label_3836
				if ( chatval == 1 ) {
					autosave = 1 * (gArea  != AREA_SHOW_HOUSE)
					if ( cfg_noautosave > 2 & gettrait(0, 190) == 0 ) {
						autosave = 0
					}
					repeat
						flt 100, FIX_QUALITY_GOOD
						characreate MAX_CHARA_NC, CREATURE_ID_BUG, -3, 0
						if ( cId(MAX_CHARA_NC) == CREATURE_ID_USER ) {
							continue
						}
						if ( cRelation(MAX_CHARA_NC) != RELATION_ENEMY ) {
							continue
						}
						if ( cQuality(MAX_CHARA_NC) >= FIX_QUALITY_MIRACLE ) {
							continue
						}
						break
					loop
					locvar_ranktitle_p = gRankGuild / 100
					if ( locvar_ranktitle_p == 1 ) {
						ogdata(250) = 2 + rnd(2)
					}
					else {
						if ( locvar_ranktitle_p <= 5 ) {
							ogdata(250) = 2 + rnd(3)
						}
						else {
							if ( locvar_ranktitle_p <= 10 ) {
								ogdata(250) = 3 + rnd(2)
							}
							else {
								ogdata(250) = 3 + rnd(3)
							}
						}
					}
					ogdata(251) = cId(MAX_CHARA_NC)
					chara_vanquish MAX_CHARA_NC
					ogdata(252) = 337 + rnd(5)
					snd SOUNDLIST_WRITE1
					listmax = 0
					buff = lang("ちょうどあなたに任せたい仕事があります。研究の為に使う献体が足りないのです…" + refchara(ogdata(251), DBSPEC_CHARA_NAME_ORG, 1) + "の" + cnvitemname(ogdata(252)) + "を" + ogdata(250) + "個持ってきてください。頼みましたよ。", "I have a job proposition for you. Currently I'm a little short on ingredients for my research... Please collect " + ogdata(250) + " pieces of " + refchara(ogdata(251), DBSPEC_CHARA_NAME_ORG, 1) + "'s " + cnvitemname(ogdata(252)) + ". Return to me when you're done.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
				if ( chatval == 2 ) {
					f = 1
					itemlist CHARA_PLAYER, ogdata(252)
					if ( listmax ) {
						p(81) = 0
						repeat listmax
							ci = list(0, cnt)
							if ( iSubName(ci) == ogdata(251) ) {
								p(81) += iNum(ci)
							}
						loop
						if ( p(81) >= ogdata(250) ) {
							f = 0
						}
					}
					if ( f ) {
						listmax = 0
						buff = lang("これでは足りません。もう一度言いましょう…" + refchara(ogdata(251), DBSPEC_CHARA_NAME_ORG, 1) + "の" + cnvitemname(ogdata(252)) + "を" + ogdata(250) + "個持ってきてください。", "This isn't enough. I'll say it again... Collect " + ogdata(250) + " pieces of " + refchara(ogdata(251), DBSPEC_CHARA_NAME_ORG, 1) + "'s " + cnvitemname(ogdata(252)) + ".")
						tc = tc * (0 == 0) + (0 != 0) * 0
						list(0, listmax) = 0
						listn(0, listmax) = strmore
						listmax++
						chatesc = 1
						gosub *label_3836
						if ( scenemode ) {
							if ( scene_cut == 1 ) {
								goto *label_3835
							}
						}
						goto *chat_unique
					}
					itemlist CHARA_PLAYER, ogdata(252)
					repeat listmax
						ci = list(0, cnt)
						if ( iSubName(ci) == ogdata(251) ) {
							iNum(ci) = 0
						}
					loop
					txt -1, lang(name(tc) + "に" + refchara(ogdata(251), DBSPEC_CHARA_NAME_ORG, 1) + "の" + cnvitemname(ogdata(252)) + "を渡した。", "You deliver " + refchara(ogdata(251), DBSPEC_CHARA_NAME_ORG, 1) + "'s " + cnvitemname(ogdata(252)) + " to " + name(tc) + ".")
					ogdata(250) = 0, 0, 0
					ogdata(253)++
					txtef COLOR_GREEN
					txt -1, lang("クエストを達成した！", "You have completed the quest!")
					snd SOUNDLIST_COMPLETE1
					listmax = 0
					buff = lang("見事です。あなたの実力なら大丈夫でしょう…魔法の創造を許可します。どんな魔法を作るか決まったら、また私のところに来なさい。", "Thank you. This task shouldn't have been too troublesome based on your experience... For this, I will allow you to create a spell of your own. Come talk to me again once you have decided which spell is right for you.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *label_3835
				}
				if ( chatval == 3 ) {
					if ( userspellmax < 50 ) {
						ccbk = cc
						cc = tc
						gosub *label_4586
						cc = ccbk
						gosub *screen_draw
						goto *pc_turn
						goto *label_3781
					}
					else {
						listmax = 0
						buff = lang("もう充分でしょう。", "This will be enough for now.")
						tc = tc * (0 == 0) + (0 != 0) * 0
						list(0, listmax) = 0
						listn(0, listmax) = strbye
						listmax++
						chatesc = 1
						gosub *label_3836
						if ( scenemode ) {
							if ( scene_cut == 1 ) {
								goto *label_3835
							}
						}
						goto *label_3835
					}
				}
				if ( chatval == 4 ) {
					autosave = 1 * (gArea  != AREA_SHOW_HOUSE)
					if ( cfg_noautosave > 2 & gettrait(0, 190) == 0 ) {
						autosave = 0
					}
					repeat
						flt 100, FIX_QUALITY_GOOD
						characreate MAX_CHARA_NC, CREATURE_ID_BUG, -3, 0
						if ( cId(MAX_CHARA_NC) == CREATURE_ID_USER ) {
							continue
						}
						if ( cRelation(MAX_CHARA_NC) != RELATION_ENEMY ) {
							continue
						}
						if ( cQuality(MAX_CHARA_NC) >= FIX_QUALITY_MIRACLE ) {
							continue
						}
						break
					loop
					ogdata(250) = ogdata(250) + rnd(3)
					locvar_ranktitle_p = gRankGuild / 100
					if ( locvar_ranktitle_p == 1 ) {
						ogdata(250) = limit(ogdata(250), 1, 4)
					}
					else {
						if ( locvar_ranktitle_p <= 5 ) {
							ogdata(250) = limit(ogdata(250), 1, 9)
						}
						else {
							if ( locvar_ranktitle_p <= 10 ) {
								ogdata(250) = limit(ogdata(250), 1, 16)
							}
							else {
								ogdata(250) = limit(ogdata(250), 1, 25)
							}
						}
					}
					ogdata(251) = cId(MAX_CHARA_NC)
					chara_vanquish MAX_CHARA_NC
					ogdata(252) = 337 + rnd(5)
					snd SOUNDLIST_WRITE1
					listmax = 0
					buff = lang("そうですか…この仕事は他のメンバーに任せましょう。では、あなたは" + refchara(ogdata(251), DBSPEC_CHARA_NAME_ORG, 1) + "の" + cnvitemname(ogdata(252)) + "を" + ogdata(250) + "個持ってきてください。頼みましたよ。", "Is that so... Very well, I will pass this assignment to another guild member. As for you, please bring " + ogdata(250) + " pieces of " + refchara(ogdata(251), DBSPEC_CHARA_NAME_ORG, 1) + "'s " + cnvitemname(ogdata(252)) + ". Return to me when you're done.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
				if ( chatval == 5 ) {
					menucycle = 0
					gosub *label_4664
					gosub *chat_refresh
					if ( p == (-1) ) {
						goto *chat_unique
					}
					p(70) = p
					listmax = 0
					buff = lang("私が封印すればあなたは二度とこの魔法を使う事はできなくなるでしょう。…本当に" + userspelldatan(0, p(70)) + "を封印するのですね？", "Once sealed you will not be able to cast this spell ever again... Are you sure you want to seal " + userspelldatan(0, p(70)) + "?")
					list(0, listmax) = 1
					listn(0, listmax) = lang("封印する", "Seal spell.")
					listmax++
					list(0, listmax) = 0
					listn(0, listmax) = lang("やめる", "Never mind.")
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( chatval == 1 ) {
						userspelldata(0, p(70)) = -userspelldata(0, p(70))
						listmax = 0
						buff = lang("わかりました。……完了しましたよ。", "As you wish... It is done.")
						tc = tc * (0 == 0) + (0 != 0) * 0
						list(0, listmax) = 0
						listn(0, listmax) = strbye
						listmax++
						chatesc = 1
						gosub *label_3836
						if ( scenemode ) {
							if ( scene_cut == 1 ) {
								goto *label_3835
							}
						}
						goto *chat_unique
					}
					goto *chat_unique
				}
				if ( chatval == 6 ) {
					ccctrl = 1
					goto *label_4411
				}
				if ( chatval == 10 ) {
					plat = 20 + ncgdata(110) * 20
					listmax = 0
					buff = lang("魔法以外の事は専門外なのですが…どうしてもというのなら、" + plat + "プラチナ硬貨で行いますよ。", "cost " + plat + "platinum pieces.")
					if ( cPlat(CHARA_PLAYER) >= plat ) {
						list(0, listmax) = 1
						listn(0, listmax) = lang("プラチナ硬貨を支払う", "Pay plat.")
						listmax++
					}
					list(0, listmax) = 0
					listn(0, listmax) = lang("今日はやめとく", "Not today.")
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( chatval == 1 ) {
						allyctrl = 6
						gosub *label_2611
						if ( stat != (-1) ) {
							cc = stat
							nc_intb_001 = stat
							cPlat(CHARA_PLAYER) -= plat
							snd SOUNDLIST_PAYGOLD1
							nc_intb_002 = 2
							nc_resettrait nc_intb_001
							snd SOUNDLIST_BOOK1
							gosub *label_0647
							snd SOUNDLIST_PRAY1
							txtef COLOR_GREEN
							txt -1, lang(name(cc) + "は新たな職業技能を手に入れた！", "")
							if ( cc == CHARA_PLAYER ) {
								nc_setjobskill
							}
							ncgdata(110) = limitmax(ncgdata(110) + 1, 14)
							autosave = 1 * (gArea  != AREA_SHOW_HOUSE)
							if ( cfg_noautosave > 2 & gettrait(0, 190) == 0 ) {
								autosave = 0
							}
						}
					}
				}
				goto *label_3835
				_switch_sw++
			}
		}
		if ( guildcheck(0) == "thieve" ) {
			if ( _switch_val == 292 | _switch_sw ) {
				_switch_sw = 0
				listmax = 0
				list(0, listmax) = 6
				listn(0, listmax) = lang("転職したい", "Change jobs.")
				listmax++
				list(0, listmax) = 10
				listn(0, listmax) = lang("職業の技能を学びたい", "Learn the skills of profession.")
				listmax++
				if ( gRankGuild < 3000 ) {
					if ( ogdata(250) == 0 ) {
						list(0, listmax) = 1
						listn(0, listmax) = lang("仕事を貰う", "Do you have any tasks for me?")
						listmax++
					}
					else {
						list(0, listmax) = 2
						listn(0, listmax) = lang("仕事を報告する", "About my task.")
						listmax++
					}
				}
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				buff = lang("お前が" + cnName(CHARA_PLAYER) + "か。聞いているぞ。派手にやっているらしいな？", "So you're " + cnName(CHARA_PLAYER) + ". I've heard the rumors. Are you looking to make a name for yourself?")
				gosub *label_3836
				if ( chatval == 1 ) {
					autosave = 1 * (gArea  != AREA_SHOW_HOUSE)
					if ( cfg_noautosave > 2 & gettrait(0, 190) == 0 ) {
						autosave = 0
					}
					locvar_ranktitle_p = gRankGuild / 100
					if ( locvar_ranktitle_p == 1 ) {
						ogdata(250) = 5 + rnd(10)
						locvar_clientguide_thieve_guild_fix = 3, 1
					}
					else {
						if ( locvar_ranktitle_p <= 5 ) {
							ogdata(250) = 5 + rnd(15)
							locvar_clientguide_thieve_guild_fix = 2, 1
						}
						else {
							if ( locvar_ranktitle_p <= 10 ) {
								ogdata(250) = 10 + rnd(15)
								locvar_clientguide_thieve_guild_fix = 1, 0
							}
							else {
								ogdata(250) = 10 + rnd(20)
								locvar_clientguide_thieve_guild_fix = 0, 0
							}
						}
					}
					repeat 10
						ogdata(251) = 39 + rnd(4)
						if ( ogdata(251) == 40 & locvar_clientguide_thieve_guild_fix > 1 ) {
							continue
						}
						break
					loop
					ogdata(252) = 4 + locvar_clientguide_thieve_guild_fix(1) + rnd(8 - locvar_clientguide_thieve_guild_fix(1))
					gosub *label_1837
					snd SOUNDLIST_WRITE1
					listmax = 0
					buff = lang("盗賊ギルドと繋がりのある有力者からのリクエストだ。今回は" + _furniture(ogdata(252)) + ioriginalnameref(ogdata(251)) + "を" + ogdata(250) + "個だそうだが、用意できるか？手段は問わんよ。", "This here, is a request from one of our influential clients with connections the Thieves Guild. Gather " + ogdata(250) + " pieces of " + _furniture(ogdata(252)) + ioriginalnameref(ogdata(251)) + " and bring 'em back here. I don't care what method you use. Capiche?")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
				if ( chatval == 2 ) {
					f = 1
					itemlist CHARA_PLAYER, ogdata(251)
					repeat listmax
						ci = list(0, cnt)
						if ( iSubName(ci) != ogdata(252) ) {
							continue
						}
						if ( iNum(ci) < ogdata(250) ) {
							continue
						}
						f = 0
						break
					loop
					if ( f ) {
						listmax = 0
						buff = lang("忘れたのか？" + _furniture(ogdata(252)) + ioriginalnameref(ogdata(251)) + "を" + ogdata(250) + "個だ。", "Did you forget? Bring in " + ogdata(250) + " pieces of " + _furniture(ogdata(252)) + ioriginalnameref(ogdata(251)) + ".")
						tc = tc * (0 == 0) + (0 != 0) * 0
						list(0, listmax) = 0
						listn(0, listmax) = strmore
						listmax++
						chatesc = 1
						gosub *label_3836
						if ( scenemode ) {
							if ( scene_cut == 1 ) {
								goto *label_3835
							}
						}
						goto *chat_unique
					}
					autosave = 1 * (gArea  != AREA_SHOW_HOUSE)
					if ( cfg_noautosave > 2 & gettrait(0, 190) == 0 ) {
						autosave = 0
					}
					iNum(ci) -= ogdata(250)
					p(68) = (ogdata(250) + 3 * locvar_clientguide_thieve_guild_fix) * iValue(ci) / 500000
					txt -1, lang(name(tc) + "に" + itemname(ci, ogdata(250)) + "を渡した。", "You deliver " + itemname(ci, ogdata(250)) + " to " + name(tc) + ".")
					repeat 3
						flt 1, FIX_QUALITY_BAD
						nostack = 1
						objfix = rnd(1 + p(68))
						itemcreate -1, ITEM_ID_MATERIAL_KIT, cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
					loop
					ogdata(250) = 0, 0, 0
					txtef COLOR_GREEN
					txt -1, lang("クエストを達成した！", "You have completed the quest!")
					snd SOUNDLIST_COMPLETE1
					txt -1, lang("何かが足元に転がってきた。", "Something is put on the ground.")
					listmax = 0
					buff = lang("よくやった。盗賊ギルドとして、有力者と関係を悪化させるのはまずいからな。それは闇の世界に生きる覚悟を持つ事とは別の話だ。…いずれ、お前にも分かるさ。", "Excellent work. In Thieves Guild, it's a bad idea to worsen relationships with our influential persons. The rules involved are different from dependably serving to organizations like ours... In time, you'll also understand.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *label_3835
				}
				if ( chatval == 6 ) {
					ccctrl = 3
					goto *label_4411
				}
				if ( chatval == 10 ) {
					plat = 20 + ncgdata(110) * 20
					listmax = 0
					buff = lang("技能を学びたいのか…そうだな、" + plat + "プラチナ硬貨で教えてやる。", "cost " + plat + "platinum pieces.")
					if ( cPlat(CHARA_PLAYER) >= plat ) {
						list(0, listmax) = 1
						listn(0, listmax) = lang("プラチナ硬貨を支払う", "Pay plat.")
						listmax++
					}
					list(0, listmax) = 0
					listn(0, listmax) = lang("今日はやめとく", "Not today.")
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( chatval == 1 ) {
						allyctrl = 6
						gosub *label_2611
						if ( stat != (-1) ) {
							cc = stat
							nc_intb_001 = stat
							cPlat(CHARA_PLAYER) -= plat
							snd SOUNDLIST_PAYGOLD1
							nc_intb_002 = 2
							nc_resettrait nc_intb_001
							snd SOUNDLIST_BOOK1
							gosub *label_0647
							snd SOUNDLIST_PRAY1
							txtef COLOR_GREEN
							txt -1, lang(name(cc) + "は新たな職業技能を手に入れた！", "")
							if ( cc == CHARA_PLAYER ) {
								nc_setjobskill
							}
							ncgdata(110) = limitmax(ncgdata(110) + 1, 14)
							autosave = 1 * (gArea  != AREA_SHOW_HOUSE)
							if ( cfg_noautosave > 2 & gettrait(0, 190) == 0 ) {
								autosave = 0
							}
						}
					}
				}
				goto *label_3835
				_switch_sw++
			}
		}
		if ( guildcheck(0) == "fighter" ) {
			if ( _switch_val == 291 | _switch_sw ) {
				_switch_sw = 0
				listmax = 0
				list(0, listmax) = 6
				listn(0, listmax) = lang("転職したい", "Change jobs.")
				listmax++
				list(0, listmax) = 10
				listn(0, listmax) = lang("職業の技能を学びたい", "Learn the skills of profession.")
				listmax++
				if ( gRankGuild < 3000 ) {
					if ( ogdata(250) == 0 ) {
						list(0, listmax) = 1
						listn(0, listmax) = lang("仕事を貰う", "Do you have any tasks for me?")
						listmax++
					}
					else {
						list(0, listmax) = 2
						listn(0, listmax) = lang("仕事を報告する", "About my task.")
						listmax++
					}
					if ( ogdata(254) ) {
						if ( eqevilweapon(0) != (-1) ) {
							list(0, listmax) = 3
							listn(0, listmax) = lang("邪悪な武器を打ち直してほしい", "I want to reforge my evil weapon.")
							listmax++
						}
					}
				}
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				buff = lang("何か用かしら、" + ranktitle(8) + "さん？", "What is it that you require, " + ranktitle(8) + "?")
				gosub *label_3836
				if ( chatval == 1 ) {
					autosave = 1 * (gArea  != AREA_SHOW_HOUSE)
					if ( cfg_noautosave > 2 & gettrait(0, 190) == 0 ) {
						autosave = 0
					}
					repeat
						flt 100, FIX_QUALITY_BAD
						itemcreate 5480, isetrarewear(rnd(length(isetrarewear))), cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
						if ( iQuality(ci) == FIX_QUALITY_UNIQUE ) {
							continue
						}
						break
					loop
					repeat 15
						if ( inv(STARTING_INV_ITEM_ENCHANT + cnt * 2, ci) == 0 ) {
							break
						}
						inv(STARTING_INV_ITEM_ENCHANT + cnt * 2, ci) = 0
						inv(STARTING_INV_ITEM_ENCHANT_POWER + cnt * 2, ci) = 0
					loop
					repeat
						encadd ci, randomenc(99), 100
						if ( inv(STARTING_INV_ITEM_ENCHANT, ci) == 0 ) {
							continue
						}
						if ( inv(STARTING_INV_ITEM_ENCHANT, ci) / 10000 == 1 ) {
							continue
						}
						break
					loop
					locvar_ranktitle_p = gRankGuild / 100
					if ( locvar_ranktitle_p == 1 ) {
						ogdata(250) = 2 + rnd(2)
					}
					else {
						if ( locvar_ranktitle_p <= 5 ) {
							ogdata(250) = 2 + rnd(3)
						}
						else {
							if ( locvar_ranktitle_p <= 10 ) {
								ogdata(250) = 3 + rnd(2)
							}
							else {
								ogdata(250) = 3 + rnd(3)
							}
						}
					}
					ogdata(251) = iID(ci)
					ogdata(252) = inv(STARTING_INV_ITEM_ENCHANT, ci)
					val = ogdata(252), 100, 2, 0
					gosub *item_encdetail
					getstr s, s, 0, 32
					snd SOUNDLIST_WRITE1
					listmax = 0
					buff = lang("仕事…そうね、なら武具の調達をお願いできる？" + cnvitemname(ogdata(251)) + "が" + ogdata(250) + "つ足りないの。" + s + "物を頼むわね。", "Work, is it? Then could you gather some equipments for us? We are currently short on " + ogdata(250) + " pieces of " + cnvitemname(ogdata(251)) + ". Make sure it carries the '" + s + "' enchantment with it.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *chat_unique
				}
				if ( chatval == 2 ) {
					f = 1
					itemlist CHARA_PLAYER, ogdata(251)
					if ( listmax ) {
						p(81) = 0
						repeat listmax
							ci = list(0, cnt)
							if ( encfindspec(ci, ogdata(252)) != (-1) ) {
								p(81) += iNum(ci)
							}
						loop
						if ( p(81) >= ogdata(250) ) {
							f = 0
						}
					}
					if ( f ) {
						val = ogdata(252), 100, 2, 0
						gosub *item_encdetail
						getstr s, s, 0, 32
						listmax = 0
						buff = lang(s + cnvitemname(ogdata(251)) + "を" + ogdata(250) + "つよ？", "Remember, it's " + ogdata(250) + " pieces of " + cnvitemname(ogdata(251)) + " with the enchantment '" + s + "' on it.")
						tc = tc * (0 == 0) + (0 != 0) * 0
						list(0, listmax) = 0
						listn(0, listmax) = strmore
						listmax++
						chatesc = 1
						gosub *label_3836
						if ( scenemode ) {
							if ( scene_cut == 1 ) {
								goto *label_3835
							}
						}
						goto *chat_unique
					}
					itemlist CHARA_PLAYER, ogdata(251)
					repeat listmax
						if ( ogdata(250) == 0 ) {
							break
						}
						ci = list(0, cnt)
						if ( encfindspec(ci, ogdata(252)) != (-1) ) {
							p(81) = 0
							if ( iNum(ci) < ogdata(250) ) {
								p(81) = iNum(ci)
							}
							else {
								p(81) = ogdata(250)
							}
							iNum(ci) -= p(81)
							ogdata(250) -= p(81)
							txt -1, lang(name(tc) + "に" + itemname(ci, p(81)) + "を渡した。", "You deliver " + itemname(ci, p(81)) + " to " + name(tc) + ".")
						}
					loop
					ogdata(250) = 0, 0, 0
					ogdata(254)++
					txtef COLOR_GREEN
					txt -1, lang("クエストを達成した！", "You have completed the quest!")
					snd SOUNDLIST_COMPLETE1
					listmax = 0
					buff = lang("ありがとう。お礼は少し待っててもらえるかしら？必ず用意するわ。", "Thanks. Let me know if you need anything. We don't forget favors from those who helped us.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strbye
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					goto *label_3835
				}
				if ( chatval == 3 ) {
					listmax = 0
					buff = lang("……！！あなたが使っているその武器は恐ろしく危険な物よ！このまま使い続けていれば、いずれあなたを破滅させるわ！", "...!! That weapon in your hands is an extremely perilous artifact! If you continue to use it, it'll one day destroy you with its power!")
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					listmax = 0
					buff = lang("…でも、加工次第で素晴らしい武器にもなるわ。いいわ、やってあげる。この間のお礼よ。", "...But, depending on how its reforged it can also turn into a wonderful weapon. Ok, I'll have this done for you. Think of it as a repayment for your help last time.")
					tc = tc * (0 == 0) + (0 != 0) * 0
					list(0, listmax) = 0
					listn(0, listmax) = strmore
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( scenemode ) {
						if ( scene_cut == 1 ) {
							goto *label_3835
						}
					}
					ogdata(254)--
					ci = eqevilweapon(0)
					s = itemname(ci, 1)
					ibitmod ITEM_BIT_ALIVE, ci, FALSE
					iParam1(ci) = 0, 0
					iStatus(ci) = ITEM_STATUS_NORMAL
					repeat 15
						if ( inv(STARTING_INV_ITEM_ENCHANT + cnt * 2, ci) == 0 ) {
							break
						}
						if ( inv(STARTING_INV_ITEM_ENCHANT + cnt * 2, ci) == 45 ) {
							inv(STARTING_INV_ITEM_ENCHANT + cnt * 2, ci) = 47
							inv(STARTING_INV_ITEM_ENCHANT_POWER + cnt * 2, ci) = 2500
						}
					loop
					txt -1, lang(s + "は" + itemname(ci, 1) + "になった！", s + " is reforged to " + itemname(ci, 1) + "!")
					r1 = 0
					gosub *charaRefresh
					goto *chat_event_SWEND1
				}
				if ( chatval == 6 ) {
					ccctrl = 2
					goto *label_4411
				}
				if ( chatval == 10 ) {
					plat = 20 + ncgdata(110) * 20
					listmax = 0
					buff = lang("技能を学びたいの？専門外のことも教えることはできるけど…" + plat + "プラチナ硬貨払ってもらうわ。", "cost " + plat + "platinum pieces.")
					if ( cPlat(CHARA_PLAYER) >= plat ) {
						list(0, listmax) = 1
						listn(0, listmax) = lang("プラチナ硬貨を支払う", "Pay plat.")
						listmax++
					}
					list(0, listmax) = 0
					listn(0, listmax) = lang("今日はやめとく", "Not today.")
					listmax++
					chatesc = 1
					gosub *label_3836
					if ( chatval == 1 ) {
						allyctrl = 6
						gosub *label_2611
						if ( stat != (-1) ) {
							cc = stat
							nc_intb_001 = stat
							cPlat(CHARA_PLAYER) -= plat
							snd SOUNDLIST_PAYGOLD1
							nc_intb_002 = 2
							nc_resettrait nc_intb_001
							snd SOUNDLIST_BOOK1
							gosub *label_0647
							snd SOUNDLIST_PRAY1
							txtef COLOR_GREEN
							txt -1, lang(name(cc) + "は新たな職業技能を手に入れた！", "")
							if ( cc == CHARA_PLAYER ) {
								nc_setjobskill
							}
							ncgdata(110) = limitmax(ncgdata(110) + 1, 14)
							autosave = 1 * (gArea  != AREA_SHOW_HOUSE)
							if ( cfg_noautosave > 2 & gettrait(0, 190) == 0 ) {
								autosave = 0
							}
						}
					}
				}
				goto *label_3835
				_switch_sw++
			}
		}
	}

*label_3781
	listmax = 0
	buff = lang("…(あなたを無視している)", "(" + he(tc) + " ignores you...)")
	tc = tc * (0 == 0) + (0 != 0) * 0
	list(0, listmax) = 0
	listn(0, listmax) = strbye
	listmax++
	chatesc = 1
	gosub *label_3836
	if ( scenemode ) {
		if ( scene_cut == 1 ) {
			goto *label_3835
		}
	}
	goto *label_3835

*sqMother_1
	list(0, listmax) = 1
	listn(0, listmax) = lang("エーテル抗体を1本渡す", "(Hand her a potion of cure corruption.)")
	listmax++
	list(0, listmax) = 0
	listn(0, listmax) = strbye
	listmax++
	gosub *label_3836
	if ( chatval != 1 ) {
		return 0
	}
	inv_find ITEM_ID_POTION_CURE_CORRUPTION, CHARA_PLAYER
	invret = stat
	inv_find ITEM_ID_POTION_OF_GREATER_CURE_CORRUPTION, CHARA_PLAYER
	invret += stat
	if ( invret == (-2) ) {
		listmax = 0
		buff = lang("うそつき！", "Liar!")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		return 0
	}
	inv_find ITEM_ID_POTION_CURE_CORRUPTION, CHARA_PLAYER
	if ( stat == (-1) ) {
		inv_find ITEM_ID_POTION_OF_GREATER_CURE_CORRUPTION, CHARA_PLAYER
	}
	iNum(stat)--
	txt -1, lang("エーテル抗体を1本渡した。", "You give her a potion.")
	snd SOUNDLIST_EQUIP1
	listmax = 0
	buff = lang("え…あ、ありがと〜！！おかあさん…薬だよ。これでよくなるよね？", "R-Really? Mommy, mommy! " + cnName(CHARA_PLAYER) + " gave us a cure! Are you gonna be ok now?")
	tc = tc * (0 == 0) + (0 != 0) * 0
	list(0, listmax) = 0
	listn(0, listmax) = strmore
	listmax++
	chatesc = 1
	gosub *label_3836
	if ( scenemode ) {
		if ( scene_cut == 1 ) {
			goto *label_3835
		}
	}
	return 1

*chat_evOpening
	mat(399) = 1
	if ( lomiaseaster ) {
		cBlind(CHARA_PLAYER) = 100
		listmax = 0
		buff = lang("この洞窟…雨をしのぐにはちょうどいいわ。ロミアス、危険がないか奥を調べて来て。", "This cave...it's a good place to keep out the rain. Lomias, check the inner chamber to be sure there is no danger lurking here.")
		tc = tc * (findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND) == 0) + (findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND) != 0) * findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND)
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		listmax = 0
		buff = lang("わかった。ここで待っていろ", "Okay. Wait here.")
		tc = tc * (findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE) == 0) + (findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE) != 0) * findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE)
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		gosub *screen_draw
		await 3000
		txtnew
		txtef COLOR_RED
		txt -1, lang("何かは殺された。", "Something is killed.")
		txt -1, lang("「ぐわぁ」", cnvtalk("Uggghhh!"))
		snd SOUNDLIST_KILL1
		spillblood 28, 6, 10
		flt
		itemcreate -1, ITEM_ID_BEGGARS_PENDANT, 28, 6, 0
		gosub *screen_draw
		await 500
		await 500
		listmax = 0
		buff = lang("…今の音は？ …ロミアス、大丈夫？", "...what was that sound? ...Lomias, are you alright?")
		tc = tc * (findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND) == 0) + (findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND) != 0) * findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND)
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		listmax = 0
		buff = lang("ああ、問題ない。どうやらこの洞窟は昔、誰かが住んでいたようだな。奥を見て来たが、今はもう使われていないようだ。", "It's nothing. Looks like this cave is long abandoned. It's a good place to stay.")
		tc = tc * (findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE) == 0) + (findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE) != 0) * findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE)
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		listmax = 0
		buff = lang("そう、ならば都合がいいわ。…あら、あなた何を持っているの？ …キャーッ、プチじゃない！", "I see, that's convenient for us...wait Lomias, what arey you carrying?...Argh! Putits!")
		tc = tc * (findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND) == 0) + (findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND) != 0) * findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND)
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		listmax = 0
		buff = lang("こいつらか？心配する必要はない。以前、人間にペットとして飼われていたのだろう、ふふ…私によくなついているようだ。", "Don't worry. It appears these putits had been kept as pets by someone. They are kind of...cute.")
		tc = tc * (findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE) == 0) + (findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE) != 0) * findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE)
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		listmax = 0
		buff = lang("うふ！あなたにも優しいところがあるのね。…来て。どうやら怪我人が意識を取り戻したみたいよ。", "Huh, sounds like even you have a soft spot...Come here, the injured is about to wake up.")
		tc = tc * (findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND) == 0) + (findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND) != 0) * findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND)
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		await 1500
		redraw 0
		gosub *screen_draw
		gosub *screen_fadeIn
		gsel BUFFER_BUF
		pos 0, 0
		exist exedir + "user\\graphic\\user_face1.bmp"
		if ( strsize != (-1) & cfg_userface1 ) {
			picload_ exedir + "user\\graphic\\user_face1.bmp", 1 * (windoww >= 1280)
			ex_userface = 1
		}
		else {
			picload_ exedir + "graphic\\face1.bmp", 1
			ex_userface = 0
		}
		gsel BUFFER_SCREEN
		cBlind(CHARA_PLAYER) = 0
		txt -1, lang(" 夢…か… ", "It was...a dream...?")
	}
	else {
		txtnew
	}
	if ( gettrait(0, 195) != 0 ) {
		cBlind(CHARA_PLAYER) = 1000
	}
	if ( gettrait(0, 194) < (-1) ) {
		ncgSavedCleanly = 1
	}
	txt -1, lang("あなたは意識をとりもどした。", "You regain consciousness.")
	if ( jp ) {
		listmax = 0
		buff = "…意識が…もう戻ったのか？ 驚いたな。君の回復を待つために、我々の急を要する旅がいつまで中断されるのか、気を揉んでいたのだが。"
		tc = tc * (findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE) == 0) + (findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE) != 0) * findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE)
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		listmax = 0
		buff = "君は重傷を負い川辺に倒れていた。宵闇が辺りを覆う前に、癒し手の力を持つ我々に発見されたのは、全くよくできた偶然だ。"
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		listmax = 0
		buff = " …そんな物珍しげな顔をするな。君の察する通り、我々は異形の森の民だ。エレアは…シエラ・テールの高潔なる異端者は、他種族の詮索に付き合う無駄な時間をあいにく持ち合わせていないが、君は、我々に拾われた幸運をもっと素直に喜ぶべきだな。瀕死の君を回復させることは、ここにいるラーネイレ以外の何者にも不可能だっただろう。なにせ彼女はエレアの…"
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		listmax = 0
		buff = "ロミアス、喋りすぎよ。たとえ意識の朦朧とした怪我人が相手だとしても。"
		tc = tc * (findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND) == 0) + (findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND) != 0) * findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND)
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		listmax = 0
		buff = "…そうだな。私の悪い癖だ、わかってはいる。…さて、" + cnName(CHARA_PLAYER) + "といったな、"
		tc = tc * (findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE) == 0) + (findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE) != 0) * findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE)
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
	}
	else {
		listmax = 0
		buff = "...you...you're awake already? Remarkable. I was beginning to worry that nursing a lowly adventurer would bring our urgent travel to a halt."
		tc = tc * (findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE) == 0) + (findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE) != 0) * findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE)
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		listmax = 0
		buff = "You were badly wounded, passing out on the bank of a river. It was fortunate that we found you before the dark mantle of night enveloped this whole valley, almost as if Ehekatl, the goddess of luck herself had her eyes upon you."
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		listmax = 0
		buff = "...stop your curious eyes. Yes, we are sons of Vindale whom they call the irreverent forest. Though we Eleas, noble but blameless \"heretics\", aren't keen to spend idle time responding to every senseless question about our race, you should be more thankful for your fate. If it weren't the lady Larnneire who cured your mortal wound, you wouldn't be hearing my tirade. For the lady is no ordinary Elea and only she can..."
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		listmax = 0
		buff = "You talk too much Lomias, even though the one injured before you is still dazed."
		tc = tc * (findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND) == 0) + (findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND) != 0) * findchara(CREATURE_ID_LARNNEIRE_THE_LISTENER_OF_WIND)
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		listmax = 0
		buff = "...yes, it's a bad habit of mine. Well, " + cnName(CHARA_PLAYER) + "..."
		tc = tc * (findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE) == 0) + (findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE) != 0) * findchara(CREATURE_ID_LOMIAS_THE_MESSENGER_FROM_VINDALE)
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
	}
	mMusic = MUSICLIST_MCHOME
	gosub *music_play
	goto *chat_unique

*chat_evReached
	listmax = 0
	buff = lang("無事に到着できてほっとした" + _yo() + _thanks(2), "We made it! Thank you!")
	tc = tc * (0 == 0) + (0 != 0) * 0
	list(0, listmax) = 0
	listn(0, listmax) = strmore
	listmax++
	chatesc = 1
	gosub *label_3836
	if ( scenemode ) {
		if ( scene_cut == 1 ) {
			goto *label_3835
		}
	}
	goto *label_3835

*label_3785
	if ( ogEventDungeonAlien >= 1 & ogEventDungeonAlien < 5 & areaId(gArea ) == AREA_DUNGEON & tc >= MAX_CHARA_SAVE ) {
		if ( cId(tc) != CREATURE_ID_MAID | cRole(tc) != ROLE_CITIZEN ) {
			listmax = 0
			buff = lang("ほ、ほぎー。", "Ho, hogiiii!!")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( synccheck(tc, -1) ) {
				txt -1, lang("何かが" + name(tc) + "の腹を破り飛び出した！", "Something splits " + name(tc) + your(tc) + " body and breaks out!")
			}
			dmghp tc, 9999999, DAMAGE_FROM_BLEED
			flt
			initlv = cLevel(tc) / 2 + 1
			novoidlv = 1
			characreate -1, CREATURE_ID_ALIEN, cX(tc), cY(tc)
			if ( stat != 0 ) {
				if ( strlen(cnName(tc)) > 10 | instr(cnName(tc), 0, lang("の子供", "child")) != (-1) ) {
					cnName(rc) = lang("エイリアンの子供", "alien kid")
				}
				else {
					cnName(rc) = lang(cnName(tc) + "の子供", "child of " + cnName(tc))
				}
			}
			if ( ogEventDungeonAlien == 1 ) {
				ogEventDungeonAlien = 2
			}
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
	}
	listmax = 0
	if ( buff == "" ) {
		if ( cRole(tc) == ROLE_ADVENTURER ) {
			ctalk tc, 1007, 0, tc
			if ( stat == 0 ) {
				ctalk tc, 106, 0, tc
				if ( stat == 0 ) {
					gosub *random_talk
				}
			}
		}
		else {
			if ( cRole(tc) == ROLE_MAID | cRole(tc) == ROLE_PET_MAID & gGuest != 0 ) {
				talkref = 1
				ctalk tc, 1022, 0, tc
				if ( stat == 0 ) {
					gosub *random_talk
				}
			}
			else {
				ctalk tc, 106, 0, tc
				if ( stat == 0 ) {
					gosub *random_talk
				}
			}
		}
		if ( cInterest(tc) > 0 ) {
			if ( cRelation(tc) != RELATION_ALLY ) {
				if ( petcheck(tc) == 0 ) {
					if ( rnd(3) == 0 ) {
						if ( cImpression(tc) < 100 ) {
							f = 0
							if ( gettrait(0, 177) == 0 ) {
								if ( rnd(sCHR(CHARA_PLAYER) + 1) > 10 ) {
									f = 1
								}
							}
							if ( f ) {
								modimp tc, rnd(3)
							}
							else {
								modimp tc, rnd(3) * (-1)
							}
						}
						else {
							if ( gettrait(0, 73) ) {
								p(0) = 150, 200, 300
								p(3) = 20, 40, 60
								repeat stat
									if ( cImpression(tc) < p(cnt) ) {
										if ( rnd(sCHR(CHARA_PLAYER) + 1) > p(cnt + 3) ) {
											modimp tc, rnd(4)
										}
										break
									}
								loop
							}
						}
					}
					else {
						if ( gettrait(0, 177) != 0 ) {
							modimp tc, -1
						}
					}
					cInterest(tc) -= rnd(30 + abs(gettrait(0, 177) * 15) - gettrait(0, 73) * 5)
					cInterestRenew(tc) = getgametime() + 8
				}
			}
		}
		if ( cId(tc) == CREATURE_ID_YOUNGER_SISTER2 & cRole(tc) == ROLE_SHOP_WANDER ) {
			buff = lang(_onii(cSex(CHARA_PLAYER)) + "ちゃんでも、ちゃんとお金は払ってもらう" + _yo(), "Even for " + _onii(cSex(CHARA_PLAYER)) + "chan, you'll have to pay for it properly.")
		}
	}

*chat_slave
	if ( cRole(tc) == ROLE_MAID | cRole(tc) == ROLE_PET_MAID ) {
		if ( gGuest > 0 ) {
			list(0, listmax) = 58
			listn(0, listmax) = lang("客に会う", "Yes, I'll meet the guest now.")
			listmax++
			list(0, listmax) = 59
			listn(0, listmax) = lang("追い返す", "I don't want to meet anyone.")
			listmax++
		}
		else {
			if ( cRoleRestock(tc) == 0 ) {
				list(0, listmax) = 76
				listn(0, listmax) = lang("客を招く", "Invite guests.")
				listmax++
			}
		}
	}
	if ( cInterest(tc) > 0 ) {
		if ( chatval(1) == 0 | cRelation(tc) == RELATION_ALLY | cRole(tc) == ROLE_PET_SENTRY | (cRole(tc) == ROLE_PET_MAID & cId(tc) != CREATURE_ID_USER) | cRole(tc) == ROLE_ADVENTURER ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("話がしたい", "Let's Talk.")
			listmax++
		}
	}
	if ( cRole(tc) == 10000 & tc >= MAX_CHARA_SAVE ) {
		if ( chatval(1) == 0 ) {
			list(0, listmax) = 66
			listn(0, listmax) = lang("街に住まないか誘う", "Invite to live in your town.")
			listmax++
		}
	}
	if ( areaId(gArea ) == AREA_DUNGEON & cbit(CHARA_BIT_GUARD_TEMP, tc) & cId(tc) != CREATURE_ID_POPPY_THE_LITTLE_DOG ) {
		if ( chatval(1) == 0 ) {
			list(0, listmax) = 67
			listn(0, listmax) = lang("ここに住んでくれ", "I want you to live here.")
			listmax++
		}
	}
	if ( cRole(tc) >= (1000 /*!!!@[ROLE_SHOP_MIN @@@ ROLE_SHOP_WEAPON]@!!! */) & cRole(tc) < (2000 /*!!!@[ROLE_GUEST_BEGGAR @@@ ROLE_GUEST_MIN]@!!! */) | cRole(tc) == ROLE_GUEST_MERCHANT | cRole(tc) == ROLE_SHOP_MATERIAL | cRole(tc) == ROLE_SHOP_SPELLBOOK | cRole(tc) == ROLE_SHOP_APHRODISIAC | cRole(tc) == ROLE_SHOP_DOUJINSHI | cRole(tc) == ROLE_SHOP_UNKNOWN3104 | cRole(tc) == ROLE_SHOP_HERB_MERCHANT | cRole(tc) == ROLE_SHOP_PROSTITUTE_GUILD | cRole(tc) == ROLE_SHOP_BLACKSMITH_GUILD | cRole(tc) == ROLE_SHOP_MYSTERIOUS_PRODUCER | cRole(tc) == ROLE_SHOP_FAIRY | cRole(tc) == ROLE_SHOP_MORPHY & cRole(tc) != ROLE_SHOP_MIROK ) {
		list(0, listmax) = 10
		listn(0, listmax) = lang("買いたい", "I want to buy something.")
		listmax++
		list(0, listmax) = 11
		listn(0, listmax) = lang("売りたい", "I want to sell something.")
		listmax++
		if ( cRole(tc) == ROLE_SHOP_ARMOR ) {
			list(0, listmax) = 312
			listn(0, listmax) = lang("アイテムの画像を変える", "Item Image Change.")
			listmax++
		}
		if ( cRole(tc) == ROLE_SHOP_MAGIC ) {
			list(0, listmax) = 301
			listn(0, listmax) = lang("帰還サービスを利用する", "I want to Return.")
			listmax++
		}
		if ( cRole(tc) == ROLE_SHOP_WANDER ) {
			list(0, listmax) = 31
			listn(0, listmax) = lang("襲撃するよ", "Prepare to die!")
			listmax++
		}
		if ( cRole(tc) != ROLE_SHOP_WANDER & cRole(tc) != ROLE_SHOP_TRADE & eqfaction(tc, "petshop") == 0 ) {
			list(0, listmax) = 12
			listn(0, listmax) = lang("投資したい", "Need someone to invest in your shop?")
			listmax++
			if ( ogTitleDragonsDen == 2 ) {
				list(0, listmax) = 72
				listn(0, listmax) = lang("大口投資したい", "I want to make a large investment.")
				listmax++
				list(0, listmax) = 151
				listn(0, listmax) = lang("全額投資したい", "I want to invest you with all money I have.")
				listmax++
			}
			if ( cRoleShopLv(tc) == 2147483647 ) {
				list(0, listmax) = 152
				listn(0, listmax) = lang("拡張投資したい", "I want to invest in expansion.")
				listmax++
			}
		}
	}
	if ( cRole(tc) == ROLE_BARTENDER ) {
		list(0, listmax) = 33
		listn(0, listmax) = lang("仲間を呼び戻す", "Call back my allies.")
		listmax++
	}
	if ( cRole(tc) == ROLE_SLAVER ) {
		if ( get_freeally() != 0 & gettrait(0, 184) == 0 ) {
			list(0, listmax) = 36
			listn(0, listmax) = lang("奴隷を買う", "I want to buy a slave.")
			listmax++
		}
		list(0, listmax) = 37
		listn(0, listmax) = lang("奴隷を売る", "I want to sell a slave.")
		listmax++
	}
	if ( cRole(tc) == ROLE_HORSE_MASTER ) {
		if ( get_freeally() != 0 & gettrait(0, 184) == 0 ) {
			list(0, listmax) = 57
			listn(0, listmax) = lang("馬を買う", "I want to buy a horse.")
			listmax++
		}
	}
	if ( cRole(tc) == 3200 ) {
		listmax = 0
		if ( customitemfind(0, "blacksmith hammer") >= 0 ) {
			list(0, listmax) = 310
			listn(0, listmax) = lang("お願いします", "Yes.")
			listmax++
			plat = limitmax(iLevel(locvar_mapitemfind_citemno) * 2500 + iParam1(locvar_mapitemfind_citemno) * 3 * (iLevel(locvar_mapitemfind_citemno) + 1), 2000000000)
			buff = lang("ハロー！何処かで会った気がするわね、ルージィよ！あなたの持ってるハンマー、良かったらあたしにプラチナ硬貨" + plat + "枚で鍛えさせてくれないかしら？後悔はさせないわよ！もしくは……あなたの装備に特別なエンチャントを施そうかしら？", "Hello! I think I know you from somewhere. I'm lurgy! You have a hammer, if you'd like to let me forge it for a " + plat + " platinum coins. You won't regret it! or... I can enchant your gear with a special enchantment.")
		}
		else {
			buff = lang("ハロー！あたしは妖精の鍛冶士、ルージィよ！あなたの装備に特別なエンチャントを施してあげるわよ！", "Hello! I'm lurgy, the fairy blacksmith! I'm going to enchant your equipment with a special enchantment!")
		}
		list(0, listmax) = 311
		listn(0, listmax) = lang("特別なエンチャントを施してもらう", "SP Enchantment.")
		listmax++
		list(0, listmax) = 312
		listn(0, listmax) = lang("アイテムの画像を変える", "Item Image Change.")
		listmax++
	}
	if ( cRole(tc) == 3201 ) {
		list(0, listmax) = 320
		listn(0, listmax) = lang("特別な訓練", "Special Train me.")
		listmax++
	}
	if ( tc < MAX_CHARA_FOLLOWER ) {
		if ( cbit(CHARA_BIT_BODYGUARD, tc) == FALSE ) {
			if ( cbit(CHARA_BIT_GUARD_TEMP, tc) == FALSE & cRole(tc) != 20001 ) {
				list(0, listmax) = 34
				listn(0, listmax) = lang("街で待機しろ", "Wait at the town.")
				listmax++
				if ( cbit(CHARA_BIT_MARRIED, tc) == FALSE ) {
					if ( gettrait(0, 179) == 0 ) {
						list(0, listmax) = 38
						listn(0, listmax) = lang("婚約を申し込む", "May I ask for your hand?")
						listmax++
					}
				}
				else {
					if ( gSleep >= 15 ) {
						list(0, listmax) = 39
						listn(0, listmax) = lang("遺伝子を残す", "Let's make a gene.")
						listmax++
						if ( ogCanMakeChild == 0 & gettrait(0, 184) == 0 ) {
							list(0, listmax) = 69
							listn(0, listmax) = lang("子供を作る", "Let's make a child.")
							listmax++
						}
					}
				}
				if ( cTxt(tc) != 0 ) {
					if ( cbit(CHARA_BIT_SHUT_UP, tc) == FALSE ) {
						list(0, listmax) = 48
						listn(0, listmax) = lang("黙らせる", "Shut up.")
						listmax++
					}
					else {
						list(0, listmax) = 48
						listn(0, listmax) = lang("喋らせる", "You can speak now.")
						listmax++
					}
				}
				if ( areaId(gArea ) == AREA_DUNGEON | areaType(gArea ) == MAP_TYPE_HOME ) {
					if ( cType(tc) == 0 & ocPetJobSkill(tc) == 0 ) {
						list(0, listmax) = 63
						listn(0, listmax) = lang("自宅警備を命じる", "Stay here.")
						listmax++
						if ( ogTitleChampionOfTheLabyrinths == 2 & areaId(gArea ) != AREA_SHELTER ) {
							list(0, listmax) = 302
							listn(0, listmax) = lang("店番に任命する", "Your ShopKeeper.")
							listmax++
						}
					}
					if ( areaId(gArea ) == AREA_HOME | areaId(gArea ) == AREA_DUNGEON ) {
						list(0, listmax) = 300
						listn(0, listmax) = lang("メイドに任命する", "Your Maid.")
						listmax++
					}
				}
			}
		}
	}
	if ( cRole(tc) == ROLE_PET_SENTRY | cRole(tc) == ROLE_PET_MAID | eqfaction(tc, "petshop") & gArea  != AREA_SHOW_HOUSE ) {
		list(0, listmax) = 64
		listn(0, listmax) = lang("連れて行く", "Come with me.")
		listmax++
	}
	if ( cRole(tc) == (1000 /*!!!@[ROLE_SHOP_MIN @@@ ROLE_SHOP_WEAPON]@!!! */) | cRole(tc) == ROLE_SHOP_ARMOR ) {
		list(0, listmax) = 54
		listn(0, listmax) = lang("矢弾の充填", "I need ammos for my weapon.")
		listmax++
	}
	if ( cRole(tc) == ROLE_SHOP_INN ) {
		list(0, listmax) = 13
		listn(0, listmax) = lang("食事をとる", "Bring me something to eat.") + " (" + thousandsep(str(calcmealvalue())) + strgold + ")"
		listmax++
		if ( gWeather == WEATHER_ETHER | gWeather == WEATHER_HARD_RAIN | gWeather == WEATHER_SNOW & gArea  != AREA_SHOW_HOUSE ) {
			list(0, listmax) = 43
			listn(0, listmax) = lang("シェルターに入る", "Take me to the shelter.")
			listmax++
		}
	}
	if ( cRole(tc) == ROLE_IDENTIFIER ) {
		list(0, listmax) = 14
		listn(0, listmax) = lang("鑑定したい", "I need you to identify an item.") + " (" + thousandsep(str(calcidentifyvalue(0))) + strgold + ")"
		listmax++
		list(0, listmax) = 15
		listn(0, listmax) = lang("全て鑑定してほしい", "Identify all of my stuff.") + " (" + thousandsep(str(calcidentifyvalue(1))) + strgold + ")"
		listmax++
		list(0, listmax) = 16
		listn(0, listmax) = lang("調査したい", "Investigate an item.") + " (" + thousandsep(str(calcidentifyvalue(2))) + strgold + ")"
		listmax++
	}
	if ( cRole(tc) == ROLE_TRAINER ) {
		list(0, listmax) = 17
		listn(0, listmax) = lang("訓練したい", "Train me.")
		listmax++
		list(0, listmax) = 30
		listn(0, listmax) = lang("新しい能力を覚えたい", "What skills can you teach me?")
		listmax++
		if ( guildcheck(0) == "mage" & gArea  == AREA_LUMIEST & gLevel  == 3 | (guildcheck(0) == "fighter" & gArea  == AREA_PORT_KAPUL & gLevel  == 3) | (guildcheck(0) == "thieve" & gArea  == AREA_DERPHY & gLevel  == 3) ) {
			if ( gRankGuild < 7500 ) {
				list(0, listmax) = 74
				listn(0, listmax) = lang("仲間に技を覚えさせたい", "Teach my pet different skills.")
				listmax++
			}
		}
	}
	if ( cRole(tc) == ROLE_INFORMER ) {
		list(0, listmax) = 18
		listn(0, listmax) = lang("冒険者の情報", "Show me the list of adventurers.")
		listmax++
		list(0, listmax) = 47
		listn(0, listmax) = lang("仲間の調査", "I want you to investigate one of my allies.")
		listmax++
		list(0, listmax) = 101
		listn(0, listmax) = lang("ネフィアの一覧", "Show me the list of nefias.")
		listmax++
	}
	if ( cRole(tc) == ROLE_HEALER ) {
		list(0, listmax) = 19
		listn(0, listmax) = lang("能力の復元", "Restore my attributes.") + "(" + thousandsep(str(calcrestorecost())) + strgold + ")"
		listmax++
		list(0, listmax) = 73
		listn(0, listmax) = lang("仲間を復活させる", "Call back my allies.")
		listmax++
	}
	if ( tc >= MAX_CHARA_FOLLOWER | cbit(CHARA_BIT_BODYGUARD, tc) == TRUE & gArea  != AREA_SHOW_HOUSE & cRole(tc) != ROLE_PET_SENTRY & cRole(tc) != ROLE_PET_MAID & eqfaction(tc, "petshop") == 0 ) {
		list(0, listmax) = 20
		listn(0, listmax) = lang("アイテム交換", "Are you interested in trade?")
		listmax++
	}
	if ( cRole(tc) == ROLE_ADVENTURER ) {
		if ( cbit(CHARA_BIT_HIRED, tc) == FALSE & ocFormerPet(tc) != 20000 ) {
			list(0, listmax) = 50
			listn(0, listmax) = lang("護衛を依頼する", "I want to hire you.")
			listmax++
			if ( gettrait(0, 184) == 0 ) {
				list(0, listmax) = 51
				listn(0, listmax) = lang("仲間に誘う", "Join me!")
				listmax++
			}
		}
	}
	if ( cRole(tc) == ROLE_ARENA_MASTER ) {
		list(0, listmax) = 21
		listn(0, listmax) = lang("試合に出る[決闘]", "I'm entering the arena. [Duel]")
		listmax++
		list(0, listmax) = 22
		listn(0, listmax) = lang("試合に出る[ランブル]", "I'm entering the arena. [Rumble]")
		listmax++
		list(0, listmax) = 23
		listn(0, listmax) = lang("成績を聞く", "Tell me my scores.")
		listmax++
	}
	if ( cRole(tc) == ROLE_PET_ARENA_MASTER ) {
		list(0, listmax) = 40
		listn(0, listmax) = lang("ペットデュエル", "I want to register my pet. [Duel]")
		listmax++
		list(0, listmax) = 41
		listn(0, listmax) = lang("チームバトル", "I want to register my team. [Team]")
		listmax++
		list(0, listmax) = 49
		listn(0, listmax) = lang("EXバトル", "I want to see extra teams. [Ex Battle]")
		listmax++
		list(0, listmax) = 42
		listn(0, listmax) = lang("成績を聞く", "Tell me my scores.")
		listmax++
		list(0, listmax) = 75
		listn(0, listmax) = lang("プチ格闘場に出場する", "I want to register my putit. [Duel]")
		listmax++
	}
	if ( areaId(gArea ) == AREA_DUNGEON & cId(tc) == CREATURE_ID_MAID & cRole(tc) == ROLE_CITIZEN ) {
		list(0, listmax) = 71
		listn(0, listmax) = lang("メイド長に任命する", "Assign to head maid.")
		listmax++
		list(0, listmax) = 70
		listn(0, listmax) = lang("街の情報が知りたい", "I want to know more about the town.")
		listmax++
		list(0, listmax) = 78
		listn(0, listmax) = lang("移住希望者がいないか聞く", "Ask if there are any potential immigrants.")
		listmax++
	}
	if ( areaId(gArea ) == AREA_DUNGEON & cRole(tc) == ROLE_PET_MAID ) {
		list(0, listmax) = 70
		listn(0, listmax) = lang("街の情報が知りたい", "I want to know more about the town.")
		listmax++
		list(0, listmax) = 78
		listn(0, listmax) = lang("移住希望者がいないか聞く", "Ask if there are any potential immigrants.")
		listmax++
	}
	if ( cRole(tc) == ROLE_MAID | cRole(tc) == ROLE_PET_MAID | (areaId(gArea ) == AREA_DUNGEON & cId(tc) == CREATURE_ID_MAID & cRole(tc) == ROLE_CITIZEN) ) {
		if ( gArea  == AREA_HOME ) {
			mati = lang("家", "house")
		}
		else {
			mati = lang("街", "town")
		}
		list(0, listmax) = 45
		listn(0, listmax) = lang(mati + "の名前を考えてくれ", "Think of a nice name for my " + mati + ".")
		listmax++
	}
	if ( cRole(tc) == ROLE_SISTER ) {
		list(0, listmax) = 46
		listn(0, listmax) = lang("免罪符を買いたい", "I want to buy an indulgence.")
		listmax++
	}
	if ( cRole(tc) == ROLE_GUARD ) {
		clientguide
		if ( stat != 0 ) {
			repeat stat
				list(0, listmax) = 10000 + cnt
				listn(0, listmax) = lang(cnName(rtval(cnt)) + "の居場所を聞く", "Where is " + cnName(rtval(cnt)) + "?")
				listmax++
			loop
		}
		list(0, listmax) = 20000
		listn(0, listmax) = lang("居場所を聞く", "Where is?")
		listmax++
		if ( itemfind(0, 284) != (-1) ) {
			list(0, listmax) = 32
			listn(0, listmax) = lang("落し物の財布を届ける", "Here is a lost wallet I found.")
			listmax++
		}
		else {
			if ( itemfind(0, 283) != (-1) ) {
				list(0, listmax) = 32
				listn(0, listmax) = lang("落し物のカバンを届ける。", "Here is a lost suitcase I found.")
				listmax++
			}
		}
	}
	if ( cRole(tc) == ROLE_RETURNER ) {
		list(0, listmax) = 53
		listn(0, listmax) = lang("帰還したい", "I want to return.")
		listmax++
	}
	if ( cRole(tc) == ROLE_SHOP_BOOK_RESERVE ) {
		if ( guildcheck(0) == "mage" | areaType(cType(CHARA_PLAYER)) == MAP_TYPE_HOME | areaType(cType(CHARA_PLAYER)) == 39 ) {
			list(0, listmax) = 55
			listn(0, listmax) = lang("魔法書の予約", "I want to reserve some books.")
			listmax++
		}
	}
	if ( cRole(tc) == ROLE_SHOP_HERB_MERCHANT ) {
		list(0, listmax) = 303
		listn(0, listmax) = lang("ハーブの予約", "I want to reserve harb.")
		listmax++
	}
	if ( cRole(tc) == ROLE_SHOP_PROSTITUTE_GUILD & guildcheck(0) == "prostitute" ) {
		list(0, listmax) = 304
		listn(0, listmax) = lang("職業の技能を学びたい", "Learn the skills of profession.")
		listmax++
	}
	if ( gettrait(0, 178) == 0 ) {
		if ( petcheck(tc) ) {
			if ( cImpression(tc) >= 100 ) {
				if ( cSex(CHARA_PLAYER) == 0 & cSex(tc) == 0 ) {
					list(0, listmax) = 56
					listn(0, listmax) = lang("やらないか", "Interested in a little tail t'night?")
					listmax++
				}
				else {
					list(0, listmax) = 56
					listn(0, listmax) = lang("気持ちいいことしない？", "Interested in a little tail t'night?")
					listmax++
				}
			}
		}
		if ( cDrunk(tc) != 0 | cdata(265, tc) != 0 | (guildcheck(0) == "prostitute" & gRankGuild < 3000) | 0 ) {
			if ( tc >= MAX_CHARA_FOLLOWER & cRole(tc) != ROLE_PET_SENTRY & cRole(tc) != ROLE_PET_MAID ) {
				if ( evid() == (-1) ) {
					if ( cSex(CHARA_PLAYER) == 0 & cSex(tc) == 0 ) {
						list(0, listmax) = 56
						listn(0, listmax) = lang("やらないか", "Interested in a little tail t'night?")
						listmax++
					}
					else {
						list(0, listmax) = 56
						listn(0, listmax) = lang("気持ちいいことしない？", "Interested in a little tail t'night?")
						listmax++
					}
				}
			}
		}
	}
	if ( tc >= MAX_CHARA_FOLLOWER & cRole(tc) != ROLE_PET_SENTRY & cRole(tc) != ROLE_PET_MAID ) {
		if ( cbit(CHARA_BIT_MARRIED, tc) == FALSE ) {
			if ( cfg_proposeexclusion == 0 ) {
				if ( gettrait(0, 179) == 0 & gArea  != AREA_SHOW_HOUSE ) {
					list(0, listmax) = 38
					listn(0, listmax) = lang("婚約を申し込む", "May I ask for your hand?")
					listmax++
				}
			}
		}
		else {
			if ( gSleep >= 15 ) {
				list(0, listmax) = 39
				listn(0, listmax) = lang("遺伝子を残す", "Let's make a gene.")
				listmax++
				if ( ogCanMakeChild == 0 ) {
					list(0, listmax) = 69
					listn(0, listmax) = lang("子供を作る", "Let's make a child.")
					listmax++
				}
			}
		}
	}
	cnpcrole = 0
	if ( cId(tc) == CREATURE_ID_USER ) {
		if ( userdata2(5, cUNID(tc)) ) {
			cnpcrole = userdata2(5, cUNID(tc))
		}
	}
	if ( gettrait(0, 178) == 0 ) {
		if ( cId(tc) == CREATURE_ID_PROSTITUTE | cnpcrole == 3 | eqfaction(tc, "whole") ) {
			if ( evid() == (-1) ) {
				list(0, listmax) = 60
				listn(0, listmax) = lang("暗い場所に移ろう", "I'll buy you.")
				listmax++
			}
		}
	}
	if ( cRole(tc) == ROLE_CARAVAN_MASTER ) {
		list(0, listmax) = 61
		listn(0, listmax) = lang("キャラバンを雇う", "Hire caravan.")
		listmax++
		if ( ncgBoughtFairyResort == 0 ) {
			list(0, listmax) = 62
			listn(0, listmax) = lang("フェアリゾートの土地を買う", "I'll buy island.") + "(" + thousandsep("10000000") + strgold + ")"
			listmax++
		}
	}
	f = 0
	deliver = -1, -1
	if ( gLevel  == 1 ) {
		repeat gClient
			if ( qMap(cnt) == gArea  ) {
				if ( qClient(cnt) == tc ) {
					rq = cnt
					f = 1
					break
				}
			}
		loop
	}
	if ( f == 1 ) {
		repeat gClient
			if ( qExist(cnt) == QUEST_TYPE_NONE ) {
				continue
			}
			if ( qStatus(cnt) != QUEST_STATE_ONGOING ) {
				continue
			}
			if ( qType(cnt) == QUEST_SUBTYPE_DELIVER ) {
				if ( qdata((10 /*!!!@[QDATA_DEST_CLIENT @@@ QDATA_ENCOUNTER]@!!! */), cnt) == rq ) {
					inv_getheader 0
					p = qDestItem(cnt)
					deliver = cnt
					repeat invrange, invhead
						if ( iNum(cnt) == 0 ) {
							continue
						}
						if ( iID(cnt) == p ) {
							deliver(1) = cnt
							break
						}
					loop
				}
			}
		loop
		if ( qStatus(rq) == QUEST_STATE_SUCCESS ) {
			val = 3
			gosub *label_0821
			gosub *label_3986
		}
		else {
			if ( qType(rq) == QUEST_SUBTYPE_SUPPLY & qStatus(rq) == QUEST_STATE_ONGOING ) {
				supply = -1
				inv_getheader 0
				repeat invrange, invhead
					if ( iNum(cnt) == 0 ) {
						continue
					}
					if ( ibit(ITEM_BIT_NO_DROP, cnt) ) {
						continue
					}
					if ( qExist(rq) == QUEST_TYPE_COOK ) {
						if ( refitem(iID(cnt), DBSPEC_TYPE, cnt) == FILTER_ITEM_FOOD ) {
							if ( iParam1(cnt) / 1000 == qParam1(rq) ) {
								if ( iParam2(cnt) == qParam2(rq) ) {
									supply = cnt
									break
								}
							}
						}
					}
					if ( qExist(rq) == QUEST_TYPE_SUPPLY | qExist(rq) == QUEST_TYPE_COLLECT ) {
						if ( iID(cnt) == qDestItem(rq) ) {
							supply = cnt
							break
						}
					}
				loop
				if ( supply != (-1) ) {
					list(0, listmax) = 26
					listn(0, listmax) = lang(itemname(supply, 1) + "を納入する", "Here is " + itemname(supply, 1) + " you asked.")
					listmax++
				}
				else {
					list(0, listmax) = 24
					listn(0, listmax) = lang("依頼について", "About the work.")
					listmax++
				}
			}
			else {
				if ( qExist(rq) != QUEST_TYPE_NONE ) {
					list(0, listmax) = 24
					listn(0, listmax) = lang("依頼について", "About the work.")
					listmax++
				}
			}
		}
	}
	if ( deliver != (-1) & deliver(1) != (-1) ) {
		list(0, listmax) = 25
		listn(0, listmax) = lang("配達物を渡す", "Here's your delivery.")
		listmax++
	}
	if ( gArea  == AREA_HOME | areaId(gArea ) == AREA_STORAGE_HOUSE ) {
		if ( tc >= MAX_CHARA_SAVE ) {
			if ( cRole(tc) != ROLE_NONE & cRole(tc) != ROLE_PET_SENTRY & cRole(tc) != ROLE_PET_MAID & eqfaction(tc, "petshop") == 0 ) {
				if ( cRole(tc) >= (2000 /*!!!@[ROLE_GUEST_BEGGAR @@@ ROLE_GUEST_MIN]@!!! */) & cRole(tc) < MAX_ROLE_GUEST ) {
				}
				else {
					if ( evid() == (-1) ) {
						list(0, listmax) = 44
						listn(0, listmax) = lang("解雇する", "You are fired.")
						listmax++
					}
				}
			}
		}
	}
	if ( cRole(tc) == ROLE_SHOP_NOYEL ) {
		if ( sqMother == 1000 ) {
			rc = findchara(CREATURE_ID_PAELS_MOM_LILY)
			if ( rc != CHARA_PLAYER ) {
				if ( cExist(rc) == CHAR_STATE_ALIVE ) {
					list(0, listmax) = 52
					listn(0, listmax) = lang("パエルの母を売る", "I want to sell Pael's mom.")
					listmax++
				}
			}
		}
	}
	if ( tc < MAX_CHARA_FOLLOWER ) {
		if ( cbit(CHARA_BIT_BODYGUARD, tc) == FALSE ) {
			if ( cbit(CHARA_BIT_GUARD_TEMP, tc) == FALSE & cRole(tc) != 20001 ) {
				if ( cbit(CHARA_BIT_STETHOSCOPE, tc) == FALSE ) {
					list(0, listmax) = 65
					listn(0, listmax) = lang("旅に出す", "Go on a journey.")
					listmax++
					list(0, listmax) = 35
					listn(0, listmax) = lang("縁を切る", "I'm going to abandon you.")
					listmax++
				}
			}
		}
	}
	if ( gArea  != AREA_SHOW_HOUSE ) {
		if ( petcheck(tc) ) {
			if ( cbit(CHARA_BIT_BODYGUARD, tc) == FALSE & cbit(CHARA_BIT_GUARD_TEMP, tc) == FALSE ) {
				if ( implevel(cImpression(tc)) >= 8 ) {
					migration_normalizefieldsofjewelofloveandkumiromisexperience tc
					if ( getgametime() > ocOOMSEKumiromiExpNextLevel(tc) ) {
						list(0, listmax) = 77
						listn(0, listmax) = lang("愛情の証を受け取る", "Receive Jewel of Love.")
						listmax++
					}
				}
			}
		}
	}
	if ( areaType(gArea ) == MAP_TYPE_HOME | areaId(gArea ) == AREA_DUNGEON ) {
		if ( tc >= MAX_CHARA_SAVE | cRole(tc) == ROLE_PET_SENTRY | cRole(tc) == ROLE_PET_MAID | cType(tc) != 0 ) {
			if ( cType(tc) != 5 ) {
				list(0, listmax) = 100
				listn(0, listmax) = lang("居場所を決める", "Decide position.")
				listmax++
			}
		}
	}
	list(0, listmax) = 0
	listn(0, listmax) = strbye
	listmax++
	if ( areaId(gArea ) == AREA_DUNGEON ) {
		if ( tc >= MAX_CHARA_SAVE ) {
			if ( cRole(tc) != ROLE_NONE & cRole(tc) != ROLE_PET_SENTRY & cRole(tc) != ROLE_PET_MAID & eqfaction(tc, "petshop") == 0 ) {
				list(0, listmax) = 68
				listn(0, listmax) = lang("街を追い出す", "Expel from town.")
				listmax++
			}
		}
	}
	chatid = 0
	chatesc = 1
	gosub *label_3836
	if ( chatval == 10 | chatval == 11 ) {
		if ( cRole(tc) >= (1000 /*!!!@[ROLE_SHOP_MIN @@@ ROLE_SHOP_WEAPON]@!!! */) & cRole(tc) < (2000 /*!!!@[ROLE_GUEST_BEGGAR @@@ ROLE_GUEST_MIN]@!!! */) | cRole(tc) == ROLE_GUEST_MERCHANT | cRole(tc) == ROLE_SHOP_MATERIAL | cRole(tc) == ROLE_SHOP_SPELLBOOK | cRole(tc) == ROLE_SHOP_APHRODISIAC | cRole(tc) == ROLE_SHOP_DOUJINSHI | cRole(tc) == ROLE_SHOP_UNKNOWN3104 | cRole(tc) == ROLE_SHOP_HERB_MERCHANT | cRole(tc) == ROLE_SHOP_PROSTITUTE_GUILD | cRole(tc) == ROLE_SHOP_BLACKSMITH_GUILD | cRole(tc) == ROLE_SHOP_MYSTERIOUS_PRODUCER | cRole(tc) == ROLE_SHOP_FAIRY | cRole(tc) == ROLE_SHOP_MORPHY ) {
			if ( cKarma(CHARA_PLAYER) < (-30) ) {
				if ( gArea  != AREA_DERPHY & gArea  != MAX_AREA_OLD ) {
					if ( gArea  != AREA_HOME ) {
						if ( areaId(gArea ) != AREA_DUNGEON ) {
							if ( cbit(CHARA_BIT_INCOGNITO, CHARA_PLAYER) == FALSE ) {
								listmax = 0
								buff = lang("犯罪者に売る物はない" + _yo(), "I don't have business with criminals.")
								tc = tc * (0 == 0) + (0 != 0) * 0
								list(0, listmax) = 0
								listn(0, listmax) = strmore
								listmax++
								chatesc = 1
								gosub *label_3836
								if ( scenemode ) {
									if ( scene_cut == 1 ) {
										goto *label_3835
									}
								}
								goto *label_3785
							}
						}
					}
				}
			}
		}
	}
	if ( chatval == 1 ) {
		buff = ""
		goto *label_3785
	}
	if ( chatval == 10 ) {
		invctrl = INVCTRL_SHOP_BUY
		invfile = cRoleFileId(tc)
		gosub *shop
		screenupdate = -1
		gosub *screen_draw
		cs = 0
		buff = ""
		goto *label_3785
	}
	if ( chatval == 11 ) {
		invctrl = INVCTRL_SHOP_SELL
		invfile = cRoleFileId(tc)
		gosub *shop
		cc = CHARA_PLAYER
		screenupdate = -1
		gosub *screen_draw
		cs = 0
		buff = ""
		goto *label_3785
	}
	if ( chatval == 12 ) {
		goto *chat_invest
	}
	if ( chatval == 13 ) {
		if ( cGold(CHARA_PLAYER) < calcmealvalue() & ncgGoldOverflow == 0 ) {
			buff = strnogold
			goto *label_3785
		}
		if ( cHunger(CHARA_PLAYER) >= 15000 | gettrait(0, 191) < 0 ) {
			buff = lang("腹が減っているようにはみえない" + _yo(), "You don't seem that hungry.")
			goto *label_3785
		}
		snd SOUNDLIST_PAYGOLD1
		cGold(CHARA_PLAYER) -= calcmealvalue()
		gosub *label_0422
		snd SOUNDLIST_EAT1
		cHunger(CHARA_PLAYER) = 15000
		buff = lang(_dozo(), "Here you are.")
		txt -1, lang("なかなか美味しかった。", "It was tasty."), lang("悪くない。", "Not bad at all."), lang("あなたは舌鼓をうった。", "You smack your lips.")
		gosub *eat_finish
		chara_anorexia 0
		goto *label_3785
	}
	if ( chatval >= 14 & chatval < 17 ) {
		if ( cGold(CHARA_PLAYER) < calcidentifyvalue(chatval - 14) & ncgGoldOverflow == 0 ) {
			buff = strnogold
			goto *label_3785
		}
		inv_getheader 0
		p = 0
		repeat invrange, invhead
			if ( iNum(cnt) == 0 ) {
				continue
			}
			if ( iKnown(cnt) < ITEM_KNOWN_FULL ) {
				p++
			}
		loop
		if ( p == 0 ) {
			buff = lang("鑑定するアイテムはないみたい" + _da(), "Your items have already been identified.")
			goto *label_3785
		}
		if ( chatval == 15 ) {
			cGold(CHARA_PLAYER) -= calcidentifyvalue(1)
			gosub *label_0422
			inv_getheader 0
			p = 0, 0
			p = 0, 0
			repeat invrange, invhead
				if ( iNum(cnt) == 0 ) {
					continue
				}
				if ( iKnown(cnt) < ITEM_KNOWN_FULL ) {
					item_identify cnt, -1, 250
					item_stack CHARA_PLAYER, cnt, 1
					p(1)++
					if ( idtresult >= 3 ) {
						p++
					}
				}
			loop
			txt -1, lang("" + p(1) + "個の未判明のアイテムのうち、" + p + "個のアイテムが完全に判明した。", "" + p + " out of " + p(1) + " unknown items are fully identified.")
			buff = lang("鑑定結果はこの通り" + _da(), "Here, I have finished identifing your stuff.")
		}
		else {
			if ( chatval == 14 ) {
				efp = 250
			}
			else {
				efp = 1000
			}
			efid = SKILL_SPELL_IDENTIFY
			gosub *label_3383
			if ( efcancel == 1 ) {
				buff = lang("冷やかし" + _ka(1), "You kidding? ")
				goto *label_3785
			}
			if ( idtresult >= 3 ) {
				buff = lang("鑑定結果はこの通り" + _da(), "Here, I have finished identifing your stuff.")
			}
			else {
				buff = lang("さらなる知識を求めるのなら、調査する必要が" + _aru(), "You need to investigate it to gain more knowledge.")
			}
			cGold(CHARA_PLAYER) -= calcidentifyvalue(chatval - 14)
			gosub *label_0422
		}
		snd SOUNDLIST_PAYGOLD1
		goto *label_3785
	}
	if ( chatval == 17 ) {
		csctrl = 2
		goto *label_3825
	}
	if ( chatval == 18 ) {
		gosub *label_2719
		if ( p != (-1) & (cGold(CHARA_PLAYER) >= 10000 | ncgGoldOverflow > 0) ) {
			tcbk = p
			txt -1, lang(cnName(tcbk) + "に治療費10,000GPを支払う？", "Do you pay" + cnName(tcbk) + "10,000 GP for treatment?")
			promptl(0, 0) = stryes, "y", "0"
			promptl(0, 1) = strno, "n", "1"
			promptmax = 2
			val = promptx, prompty, 160, 1
			gosub *prompt_key
			if ( rtval == 0 ) {
				snd SOUNDLIST_PAYGOLD1
				cGold(CHARA_PLAYER) -= 10000
				gosub *label_0422
				cRespawn(tcbk) = getgametime()
				addnewstopic "@02", lang("怪我からの復帰", "Recovery from injury")
				addnews2 lang(cnAka(tcbk) + " " + cnName(tcbk) + "は怪我から回復した。", cnAka(tcbk) + " " + cnName(tcbk) + " has fully recovered from injury."), 1
				cExist(tcbk) = CHAR_STATE_ADV
				if ( ocFormerPet(tcbk) == 20000 ) {
					p = rnd(5) + 1
					repeat p
						r1 = tcbk
						r2 = 1
						gosub *label_1588
					loop
				}
				if ( cRelation(tcbk) != RELATION_ENEMY ) {
					modimp tcbk, 30
				}
				snd SOUNDLIST_PRAY2
			}
		}
		buff = lang("お目当ての情報は見つかった" + _kana(), "Done?")
		goto *label_3785
	}
	if ( chatval == 19 ) {
		if ( cGold(CHARA_PLAYER) < calcrestorecost() & ncgGoldOverflow == 0 ) {
			buff = strnogold
			goto *label_3785
		}
		snd SOUNDLIST_PAYGOLD1
		cGold(CHARA_PLAYER) -= calcrestorecost()
		gosub *label_0422
		tcbk = tc
		repeat 16
			if ( cExist(cnt) != CHAR_STATE_ALIVE ) {
				continue
			}
			tc = cnt
			efid = SKILL_SPELL_RESTORE_BODY
			efp = 100
			gosub *label_3383
			efid = SKILL_SPELL_RESTORE_SPIRIT
			efp = 100
			gosub *label_3383
			repeat 16
				if ( ocdata(OCDATA_STARTING_CURSE_BUFF_TYPE + cnt * 3, tc) == 0 ) {
					break
				}
				if ( ocdata(OCDATA_STARTING_CURSE_BUFF_TYPE + cnt * 3, tc) == 13 | ocdata(OCDATA_STARTING_CURSE_BUFF_TYPE + cnt * 3, tc) == 15 | ocdata(OCDATA_STARTING_CURSE_BUFF_TYPE + cnt * 3, tc) == 81 ) {
					continue
				}
				if ( ocdata(OCDATA_STARTING_CURSE_BUFF_TYPE + cnt * 3, tc) >= 19 & ocdata(OCDATA_STARTING_CURSE_BUFF_TYPE + cnt * 3, tc) < 29 ) {
					continue
				}
				if ( ocdata(OCDATA_STARTING_CURSE_BUFF_TYPE + cnt * 3, tc) >= 85 & ocdata(OCDATA_STARTING_CURSE_BUFF_TYPE + cnt * 3, tc) < 95 ) {
					continue
				}
				delbuff tc, cnt
				continue cnt
			loop
			if ( tc != CHARA_PLAYER ) {
				if ( cId(tc) == CREATURE_ID_USER ) {
					initunid = cUNID(tc) + 1
				}
				nooracle = 1
				flt
				initlv = 1
				characreate MAX_CHARA_NC, cId(tc), -3, 0
				nooracle = 0
				p = 0
				repeat 61 - 50, 50 + 600
					if ( sdata(cnt, MAX_CHARA_NC) != 0 ) {
						if ( sdata(cnt, tc) < sdata(cnt, MAX_CHARA_NC) ) {
							sdata(cnt, tc) = sdata(cnt, MAX_CHARA_NC)
							p++
						}
					}
				loop
				if ( p > 0 ) {
					if ( synccheck(tc, -1) ) {
						txt -1, lang(name(tc) + "の耐性は復活した。", "Resistances of " + name(tc) + " is restored.")
						animeload 10, tc
					}
					r1 = tc
					gosub *charaRefresh
				}
				chara_vanquish MAX_CHARA_NC
			}
			if ( cGravity(tc) > 0 ) {
				cGravity(tc) = 0
				if ( synccheck(tc, -1) ) {
					txt -1, lang(name(tc) + "は重力から抜け出した。", name(tc) + " break" + _s(tc) + " away from gravity.")
				}
			}
		loop
		tc = tcbk
		gosub *chat_refresh
		buff = lang("治療が完了し" + _ta(), "Done treatment. Take care!")
		goto *label_3785
	}
	if ( chatval == 20 ) {
		if ( inv_getfreeid(CHARA_PLAYER) == (-1) ) {
			buff = lang("どうやらバックパックが一杯のよう" + _da() + "持ち物を整理してまた来て" + _kure(), "It seems your backpack is already full. Come see me again when you're ready.")
			goto *label_3785
		}
		invsubroutine = 1
		inv_getheader tc
		repeat invrange, invhead
			if ( iNum(cnt) != 0 ) {
				iKnown(cnt) = ITEM_KNOWN_FULL
			}
		loop
		invctrl = INVCTRL_TRADE_TARGET, 0
		gosub *label_2974
		if ( stat == 0 ) {
			buff = lang("冷やかし" + _ka(1), "You kidding? ")
			ctalk tc, 1008, 0, tc
			if ( stat == 0 ) {
				buff = lang("冷やかし" + _ka(1), "You kidding? ")
			}
			goto *label_3785
		}
		buff = lang(_thanks(2), "Thanks!")
		ctalk tc, 1009, 0, tc
		if ( stat == 0 ) {
			buff = lang(_thanks(2), "Thanks!")
		}
		goto *label_3785
	}
	if ( chatval == 21 | chatval == 22 ) {
		if ( gRider != 0 ) {
			cell_findspace cX(CHARA_PLAYER), cY(CHARA_PLAYER), 1
			if ( stat == 0 ) {
				txt -1, lang("降りるスペースがない。", "There's no place to get off.")
				goto *label_3835
			}
			cell_setchara gRider, rtval, rtval(1)
			txt -1, lang(name(gRider) + "から降りた。", "You dismount from " + name(gRider) + ".")
			ride_end
		}
		gQuestFame = calcfame(CHARA_PLAYER, (220 - gRankArena / 50) * (100 + limit(areaArenaWin(gArea ), 0, 50)) / 100 + 2)
		listmax = 0
		randomize areaArenaRenew1(gArea )
		if ( chatval == 21 ) {
			if ( areaArenaRenew1(gArea ) > getgametime() ) {
				buff = lang("残念だが、今日の試合はもう終了し" + _ta(), "The game is over today. Come again tomorrow.")
				goto *label_3785
			}
			randomize areaRandSeed(gArea )
			exrand_randomize areaRandSeed(gArea )
			repeat 50
				arenaop = 0, (100 - gRankArena / 100) / 3 + 1, 3, 0, 0
				if ( gRankArena / 100 < 30 ) {
					arenaop(2) = 4
				}
				if ( gRankArena / 100 < 10 ) {
					arenaop(2) = 5
				}
				minlevel = arenaop(1) / 3 * 2
				flt arenaop(1)
				fixlv = arenaop(2)
				characreate MAX_CHARA_NC, CREATURE_ID_BUG, -3, 0
				if ( cmshade ) {
					continue
				}
				if ( cLevel(rc) < minlevel ) {
					continue
				}
				if ( cOrgRelation(rc) != RELATION_ENEMY ) {
					continue
				}
				break
			loop
			arenaop(1) = cId(rc)
			if ( cFame(CHARA_PLAYER) >= 10000 ) {
				if ( rnd(10) == 0 ) {
					if ( ogYoungLadySeed == (-1) ) {
						repeat 40 - 1, 16
							if ( ocFormerPet(cnt) != 20000 ) {
								continue
							}
							if ( cbit(CHARA_BIT_HIRED, cnt) ) {
								continue
							}
							if ( cExist(cnt) != CHAR_STATE_ADV ) {
								continue
							}
							rc = cnt
							arenaop(1) = 363
							break
						loop
					}
					else {
						if ( ogYoungLadySeed ) {
							seed = ogYoungLadySeed
						}
						else {
							seed = areaRandSeed(gArea )
						}
						randomize seed
						exrand_randomize seed
						rank = 0
						characreate MAX_CHARA_NC, CREATURE_ID_YOUNG_LADY_2, -3, 0
						cRole(rc) = 20000
						arenaop(1) = 363
					}
				}
			}
			if ( ogTitleCarly == 2 ) {
				characreate MAX_CHARA_NC, CREATURE_ID_YOUNGER_SISTER, -3, 0
				cnName(rc) = "《チャレンジャーの妹》"
				arenaop(1) = 176
			}
			if ( arenaop(1) == 343 ) {
				arenaop(4) = cUNID(rc)
				namae = userdatan(1, arenaop(4))
			}
			else {
				if ( arenaop(1) == 363 ) {
					namae = cnAka(rc) + cnName(rc)
				}
				else {
					namae = refchara(cId(rc), DBSPEC_CHARA_NAME_ORG, 1)
				}
				if ( arenaop(1) == 176 ) {
					namae = cnName(rc)
				}
			}
			buff = lang("今日の対戦相手は" + namae + _da() + "挑戦する" + _noka(1), "You got " + namae + " today. What'ya say?")
			chara_vanquish MAX_CHARA_NC
		}
		else {
			if ( areaArenaRenew2(gArea ) > getgametime() ) {
				buff = lang("残念だが、今日の試合はもう終了し" + _ta(), "The game is over today. Come again tomorrow.")
				goto *label_3785
			}
			arenaop = 1, (100 - gRankArena / 100) / 2 + 1
			buff = lang("対戦相手はレベル" + arenaop(1) + "以下の相手複数" + _da() + "挑戦する" + _noka(1), "Your play is a group of monster around level " + arenaop(1) + ". Sounds easy huh?")
		}
		list(0, listmax) = 1
		listn(0, listmax) = lang("挑戦する", "Alright.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = lang("やめる", "I'll pass.")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( chatval != 1 ) {
			buff = lang("用があるときは声をかけて" + _kure(), "Alright. Call me if you changed your mind.")
			goto *label_3785
		}
		if ( arenaop == 0 ) {
			areaArenaRenew1(gArea ) = getgametime() + 24
			arenaop(3) = rank
			if ( arenaop(1) == 363 ) {
				if ( ogYoungLadySeed == 0 ) {
					ogYoungLadySeed = seed
				}
			}
		}
		if ( arenaop == 1 ) {
			areaArenaRenew2(gArea ) = getgametime() + 24
		}
		gQuest = QUEST_SUBTYPE_ELIMINATE, 1, 0, 1
		gReturnArea = gArea , gLevel , cX(CHARA_PLAYER), cY(CHARA_PLAYER)
		gTeleportArea = AREA_ARENA
		gTeleportLevel = 1
		levelexitby = MAP_EXIT_TELEPORT
		chatteleport = 1
		goto *label_3835
	}
	if ( chatval == 40 | chatval == 41 | chatval == 49 | chatval == 75 ) {
		arenaimport = 0
		p(39) = 0
		repeat 15, 1
			if ( cExist(cnt) == CHAR_STATE_ALIVE ) {
				if ( ocPetRidingIdx(cnt) != 0 ) {
					rider = cnt
					cell_findspace cX(rider), cY(rider), 1
					if ( stat == 0 ) {
						p(39) = 1
						break
					}
					cell_setchara ocPetRidingIdx(rider), rtval, rtval(1)
					txt -1, lang(name(rider) + "は" + name(ocPetRidingIdx(rider)) + "から降りた。", name(rider) + " dismount" + _s(rider) + " from " + name(ocPetRidingIdx(rider)) + ".")
					ride_end rider
				}
			}
		loop
		if ( p(39) ) {
			txt -1, lang("降りるスペースがない。", "There's no place to get off.")
			goto *label_3835
		}
		gQuestFame = calcfame(CHARA_PLAYER, (220 - gRankPetArena / 50) * (50 + limit(areaPetArenaWin(gArea ), 0, 50)) / 100 + 2)
		if ( chatval == 49 ) {
			comctrl = 1
			gosub *com_import
			if ( stat == 0 ) {
				buff = lang("用があるときは声をかけて" + _kure(), "Alright. Call me if you changed your mind.")
				goto *label_3785
			}
			arenaimport = 1
		}
		listmax = 0
		if ( chatval == 40 ) {
			arenaop = 0, 1, (100 - gRankPetArena / 100) / 3 * 2 + 3
			buff = lang("一対一の戦いで、対戦相手はレベル" + arenaop(2) + "ぐらいの相手" + _da() + "挑戦する" + _noka(1), "The opponent is around level " + arenaop(2) + ". Want to give it a try? ")
		}
		if ( chatval == 41 ) {
			arenaop = 1, 2, (100 - gRankPetArena / 100) / 2 + 1
			arenaop(1) = rnd(8 - 1) + 2
			buff = lang("" + arenaop(1) + "人同士のチームバトルで、対戦相手はレベル" + arenaop(2) + "以下の相手複数" + _da() + "挑戦する" + _noka(1), "It's a " + arenaop(1) + " vs " + arenaop(1) + " match. The opponent's group is formed by the pets less than " + arenaop(2) + " levels. What you say?")
		}
		if ( chatval == 49 ) {
			arenaop = 1, 2, rtval(1)
			enemylv = rtval(1)
			arenaop(1) = rtval
			buff = lang("" + arenaop(1) + "人同士のチームバトルで、対戦相手はレベル" + arenaop(2) + "以下の相手複数" + _da() + "挑戦する" + _noka(1), "It's a " + arenaop(1) + " vs " + arenaop(1) + " match. The opponent's group is formed by the pets less than " + arenaop(2) + " levels. What you say?")
		}
		if ( chatval == 75 ) {
			arenaop = 2, 1
			f = 1
			if ( gRankPetArena / 100 == 1 ) {
				p(82) = findunid("Champion Putit")
				if ( p(82) ) {
					if ( getcnpcmemory(0, p(82) - 1) == 0 ) {
						initunid = p(82)
						characreate MAX_CHARA_NC, CREATURE_ID_USER, -3, 0
						f = 0
					}
				}
			}
			if ( f ) {
				repeat 50
					arenaop(2) = (100 - gRankPetArena / 100) / 3 * 2 + 3, 3
					if ( gRankPetArena / 100 < 30 ) {
						arenaop(3) = 4
					}
					if ( gRankPetArena / 100 < 10 ) {
						arenaop(3) = 5
					}
					flt arenaop(2)
					initlv = arenaop(2)
					fixlv = arenaop(3)
					fltselect = 10
					characreate MAX_CHARA_NC, CREATURE_ID_BUG, -3, 0
					if ( cId(rc) == CREATURE_ID_USER ) {
						rname = userdatan(1, cUNID(rc))
					}
					else {
						rname = refchara(cId(rc), DBSPEC_CHARA_NAME_ORG, 1)
					}
					cnName(rc) = rname + "の" + randomname()
					if ( cQuality(rc) == FIX_QUALITY_MIRACLE ) {
						cnName(rc) = strbracketleft + cnName(rc) + strbracketright
					}
					if ( cQuality(rc) == FIX_QUALITY_GODLY ) {
						cnName(rc) = lang("《", "{") + cnName(rc) + lang("》", "}")
					}
					if ( cOrgRelation(rc) != RELATION_ENEMY ) {
						continue
					}
					break
				loop
			}
			namae = cnName(rc)
			buff = lang("次の対戦相手は" + namae + "(Lv" + cLevel(rc) + "相当)" + _da() + "出場する" + _noka(1), "You got " + namae + " today. What'ya say?")
		}
		list(0, listmax) = 1
		listn(0, listmax) = lang("挑戦する", "I'll send my pet.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = lang("やめる", "I'll pass.")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( chatval != 1 ) {
			buff = lang("用があるときは声をかけて" + _kure(), "Alright. Call me if you changed your mind.")
			if ( chatval == 75 ) {
				chara_vanquish MAX_CHARA_NC
			}
			goto *label_3785
		}
		dim followerexist, 16
		repeat 16
			followerexist(cnt) = cExist(cnt)
		loop
		allyctrl = 2
		gosub *label_2611
		if ( stat == (-1) ) {
			buff = lang("用があるときは声をかけて" + _kure(), "Alright. Call me if you changed your mind.")
			if ( chatval == 75 ) {
				chara_vanquish MAX_CHARA_NC
			}
			goto *label_3785
		}
		gQuest = QUEST_SUBTYPE_DELIVER, 0, 0, 1
		gReturnArea = gArea , gLevel , cX(CHARA_PLAYER), cY(CHARA_PLAYER)
		gTeleportArea = AREA_PET_ARENA
		gTeleportLevel = 1
		levelexitby = MAP_EXIT_TELEPORT
		chatteleport = 1
		goto *label_3835
	}
	if ( chatval == 42 ) {
		buff = lang("現在は" + areaPetArenaWin(gArea ) + "連勝中" + _da() + "5連勝,20連勝毎にボーナスを与え" + _ru(), "Your winning streak has reached " + areaPetArenaWin(gArea ) + " matchs now. Keep the audience excited. You get nice bonus at every 5th and 20th wins in a row.")
		goto *label_3785
	}
	if ( chatval == 23 ) {
		buff = lang("現在は" + areaArenaWin(gArea ) + "連勝中" + _da() + "5連勝,20連勝毎にボーナスを与え" + _ru(), "Your winning streak has reached " + areaArenaWin(gArea ) + " matchs now. Keep the audience excited. You get nice bonus at every 5th and 20th wins in a row.")
		goto *label_3785
	}
	if ( chatval == 24 ) {
		goto *chat_quest
	}
	if ( chatval == 25 ) {
		gosub *chara_adjustInv
		ti = stat
		item_copy deliver(1), ti
		iNum(ti) = 1
		ci = ti
		rc = tc
		gosub *label_3936
		rq = deliver
		iNum(deliver(1))--
		txt -1, lang(itemname(deliver(1), 1) + "を手渡した。", "You hand over " + itemname(deliver(1), 1) + ".")
		val = 3
		gosub *label_0821
		gosub *label_3986
		gosub *label_1681
		goto *label_3785
	}
	if ( chatval == 26 ) {
		gosub *chara_adjustInv
		ti = stat
		item_copy supply, ti
		iNum(ti) = 1
		cbitmod CHARA_BIT_POISON_FLAG, tc, TRUE
		ci = ti
		rc = tc
		gosub *label_3936
		iNum(supply)--
		txt -1, lang(itemname(supply, 1) + "を手渡した。", "You hand over " + itemname(supply, 1) + ".")
		val = 3
		gosub *label_0821
		gosub *label_3986
		gosub *label_1681
		goto *label_3785
	}
	if ( chatval == 30 ) {
		csctrl = 3
		goto *label_3825
	}
	if ( chatval == 31 ) {
		listmax = 0
		if ( cId(tc) == CREATURE_ID_YOUNGER_SISTER2 ) {
			buff = lang("本気" + _ka(3) + "、" + _onii(cSex(CHARA_PLAYER)) + "ちゃん？", "Are you sure this is what you want, " + _onii(cSex(CHARA_PLAYER)) + "chan?")
		}
		else {
			buff = lang(_rob(2), "Oh crap. Another bandit trying to spoil my business! Form up, mercenaries.")
		}
		list(0, listmax) = 1
		listn(0, listmax) = lang("神に祈れ", "Pray to your God.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = lang("いや、冗談です", "W-Wait! I was just kidding.")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( chatval != 1 ) {
			buff = lang("冷やかし" + _ka(1), "You kidding? ")
			goto *label_3785
		}
		if ( cId(tc) == CREATURE_ID_YOUNGER_SISTER2 ) {
			evadd 101, tc, 1
		}
		gohostile
		goto *label_3835
	}
	if ( chatval == 32 ) {
		listmax = 0
		p = itemfind(0, 284)
		if ( p == (-1) ) {
			p = itemfind(0, 283)
		}
		iNum(p)--
		if ( iParam1(p) == 0 ) {
			buff = lang("む…中身が空っぽ" + _dana(2), "Hmm! It's empty!")
			list(0, listmax) = 0
			listn(0, listmax) = lang("しまった…", "Oops...!")
			listmax++
			chatesc = 1
			gosub *label_3836
			modkarma 0, -5
		}
		else {
			buff = lang("わざわざ落し物を届けてくれた" + _noka() + _kimi(3) + "は市民の模範" + _da() + _thanks(), "How nice of you to take the trouble to bring it. You're a model citizen indeed!")
			list(0, listmax) = 0
			listn(0, listmax) = lang("当然のことだ", "It's nothing.")
			listmax++
			chatesc = 1
			gosub *label_3836
			modkarma 0, 5
		}
		gosub *label_1681
		buff = ""
		goto *label_3785
	}
	if ( chatval == 33 ) {
		allyctrl = 0
		gosub *label_2611
		if ( stat != (-1) ) {
			rc = stat
			if ( cExist(rc) == CHAR_STATE_ALIVE & ocPetJobSkill(rc) == 0 ) {
				buff = lang("そいつは呼び戻す必要はないよう" + _da(), "Huh? You don't need to do that.")
				goto *label_3785
			}
			listmax = 0
			buff = lang("そいつを呼び戻すには、" + thousandsep(str(calcresurrectvalue(rc))) + strgold + "必要" + _da(), "Alright. We had taken good care of your pet. It will cost you " + calcresurrectvalue(rc) + " gold pieces.")
			if ( cGold(CHARA_PLAYER) >= calcresurrectvalue(rc) | ncgGoldOverflow > 0 ) {
				list(0, listmax) = 1
				listn(0, listmax) = lang("呼び戻す", "I'll pay.")
				listmax++
			}
			list(0, listmax) = 0
			listn(0, listmax) = lang("やめる", "Never mind.")
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( chatval == 1 ) {
				snd SOUNDLIST_PAYGOLD1
				cGold(CHARA_PLAYER) -= calcresurrectvalue(rc)
				gosub *label_0422
				if ( cExist(rc) == CHAR_STATE_ALLY_DEAD ) {
					ctalk rc, 1284, tc, rc
				}
				else {
					ctalk rc, 1283, tc, rc
				}
				buff = lang("(バーテンが店の奥から" + name(rc) + "を連れてきた)" + _dozo(), "(" + name(tc) + " brings " + name(rc) + " from the stable.) There you go.")
				if ( cExist(rc) == CHAR_STATE_ALIVE ) {
					cType(rc) = 0
					ocPetJobSkill(rc) = 0
					snd SOUNDLIST_PRAY1
					tcprev = tc
					telex = cX(CHARA_PLAYER)
					teley = cY(CHARA_PLAYER)
					tc = rc
					efid = SKILL_SPACT_SHADOW_STEP
					gosub *effect_SWEND1
				}
				else {
					gosub *label_1716
				}
			}
			else {
				buff = lang("冷やかし" + _ka(1), "You kidding? ")
			}
		}
		else {
			buff = lang("冷やかし" + _ka(1), "You kidding? ")
		}
		goto *label_3785
	}
	if ( chatval == 34 ) {
		if ( ocPetRidingIdx(tc) != 0 | ocPetBeingRiddenIdx(tc) != 0 ) {
			txt -1, lang("騎乗中のペットは街に待機させられない。", "Pets currently riding cannot wait at the town.")
			goto *label_3785
		}
		listmax = 0
		buff = lang("(あなたは、" + name(tc) + "に街で待っているように指示した)", "(You order " + name(tc) + " to wait at the town.)")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		mapChara(cX(tc), cY(tc)) = 0
		cExist(tc) = CHAR_STATE_ALLY_WAIT
		cType(tc) = 0
		goto *label_3835
	}
	if ( chatval == 35 ) {
		if ( ocPetRidingIdx(tc) != 0 | ocPetBeingRiddenIdx(tc) != 0 ) {
			txt -1, lang("騎乗中のペットとは縁を切れない。", "You cannot abandon pets currently riding.")
			goto *label_3785
		}
		listmax = 0
		buff = lang("(" + name(tc) + "は悲しそうな目であなたを見ている。本当に縁を切る？)", "(" + name(tc) + " looks at you sadly. Really abandon " + him(tc) + "? )")
		list(0, listmax) = 1
		listn(0, listmax) = lang("切る", "Yes.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = lang("やめる", "No.")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( chatval == 1 ) {
			throwsstpevent "AbandonPet", tc, "", 0
			ctalk tc, 1317, 0, tc
			txt -1, lang("" + name(tc) + "と別れた…", "You abandoned " + name(tc) + "...")
			mapChara(cX(tc), cY(tc)) = 0
			resetcai tc
			del_chara tc
			goto *label_3835
		}
		buff = ""
		goto *label_3785
	}
	if ( chatval == 36 | chatval == 57 ) {
		dim_buf(51) = limitmax(cFame(CHARA_PLAYER) / EXT_EQUIP_SLOTS, 22)
		repeat 10 + dim_buf(51)
			if ( get_freechara() == (-1) ) {
				continue
			}
			dim_buf(cnt) = 0
			flt difficulty() / 2 + 5
			fixlv = FIX_QUALITY_GOOD
			if ( ogTitleDisorderlyCrowd == 2 & chatval == 36 ) {
				flt difficulty() / 2 + 10
				if ( rnd(5) == 0 ) {
					fixlv = FIX_QUALITY_GREAT
				}
			}
			if ( chatval == 36 ) {
				fltn "man"
			}
			else {
				fltn "horse"
			}
			nomagicdevice = 1
			noenchant = 1
			noencpfix = 1
			nc_skipflag = 1
			nc_shopflag = 1
			characreate -1, CREATURE_ID_BUG, -3, 0
			nc_shopflag = 0
			if ( stat == 0 ) {
				continue
			}
			if ( cLevel(rc) == 0 ) {
				chara_vanquish rc
				continue
			}
			dim_buf(cnt) = rc
			cExist(rc) = CHAR_STATE_TEMP
			cRole(rc) = ROLE_CITIZEN
		loop
		txtnew
		txt -1, lang("どのNPCを購入する？", "Who do you want to NPC?")
		allyctrl = 1
		gosub *label_5026
		if ( stat != (-1) ) {
			wc = stat
			listmax = 0
			buff = lang("そう" + _dana() + "" + cnName(wc) + "を" + thousandsep(str(calcslavevalue(wc))) + strgold + "でどう" + _da(1), "Okay. Let me check the stable....How about " + cnven(cnName(wc)) + " for " + calcslavevalue(wc) + " gold pieces. I'd say it's quite a bargain!")
			if ( cGold(CHARA_PLAYER) >= calcslavevalue(wc) | ncgGoldOverflow > 0 ) {
				list(0, listmax) = 1
				listn(0, listmax) = lang("買い取る", "I'll pay.")
				listmax++
			}
			list(0, listmax) = 0
			listn(0, listmax) = lang("やめる", "Never mind.")
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( chatval == 1 ) {
				txt -1, lang(cnName(wc) + "を買い取った。", "You buy " + cnven(cnName(wc)) + ".")
				snd SOUNDLIST_PAYGOLD1
				cGold(CHARA_PLAYER) -= calcslavevalue(wc)
				gosub *label_0422
				rc = wc
				cExist(rc) = CHAR_STATE_ALIVE
				wc = tc
				tc = CHARA_PLAYER
				cc = rc
				efid = SKILL_SPACT_SHADOW_STEP
				gosub *label_3383
				tc = wc
				if ( findfaction(rc, "family", "man") ) {
					ogPurchasedSlaveCount++
				}
				if ( gArea  == MAX_AREA_OLD ) {
					addfaction rc, "whole"
					cnName(rc) = lang("娼婦", "whole") + cnName(rc)
					ocAISpecialAction1(rc) = 0
					cAiCalm(rc) = 5
				}
				gosub *cm_race_loop_WHILE1
				buff = lang(_thanks(2), "Thanks!")
			}
			else {
				buff = lang("冷やかし" + _ka(1), "You kidding? ")
			}
		}
		else {
			buff = lang("冷やかし" + _ka(1), "You kidding? ")
		}
		repeat 245
			if ( cExist(cnt) == CHAR_STATE_TEMP ) {
				chara_vanquish cnt
			}
		loop
		goto *label_3785
	}
	if ( chatval == 37 ) {
		allyctrl = 1
		gosub *label_2611
		if ( stat != (-1) ) {
			rc = stat
			listmax = 0
			buff = lang("なかなかの身体つき" + _dana() + thousandsep(str(calcslavevalue(rc) * 2 / 3)) + strgold + "でどう" + _da(1), "Let me see....Hmmm, this one got a nice figure. I'll give you " + calcslavevalue(rc) * 2 / 3 + " gold pieces.")
			list(0, listmax) = 1
			listn(0, listmax) = lang("売る", "Deal.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("やめる", "No way.")
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( chatval == 1 ) {
				throwsstpevent "SaleSlave", rc, "", calcslavevalue(rc) * 2 / 3
				ctalk rc, 1319, 0, rc
				txt -1, lang(cnName(rc) + "を売り飛ばした。", "You sell off " + cnven(cnName(rc)) + ".")
				snd SOUNDLIST_GETGOLD1
				se_moneymod 0, calcslavevalue(rc) * 2 / 3
				if ( cExist(rc) == CHAR_STATE_ALIVE ) {
					mapChara(cX(rc), cY(rc)) = 0
				}
				if ( cbit(CHARA_BIT_BODYGUARD, rc) == TRUE ) {
					evadd EVENT_CLIENT_DEAD, cId(rc)
				}
				resetcai rc
				del_chara rc
				buff = lang(_thanks(2), "Thanks!")
			}
			else {
				buff = lang("冷やかし" + _ka(1), "You kidding? ")
			}
		}
		else {
			buff = lang("冷やかし" + _ka(1), "You kidding? ")
		}
		goto *label_3785
	}
	if ( chatval == 38 ) {
		if ( cImpression(tc) < 200 ) {
			ctalk tc, 1017, 0, tc
			if ( stat == 0 ) {
				buff = lang("(" + name(tc) + "はやんわりと断った)", "(" + name(tc) + " gently refuses your proposal. )")
			}
			throwsstpevent "RefuseMarriage", tc, "", 0
			goto *label_3785
		}
		cbitmod CHARA_BIT_MARRIED, tc, TRUE
		listmax = 0
		ctalk tc, 1001, 0, tc
		if ( stat == 0 ) {
			buff = lang("はい…喜んで。", "With preasure.")
		}
		throwsstpevent "Marriage", tc, "", 0
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		marry = tc
		evadd EVENT_MARRY
		goto *label_3835
	}
	if ( chatval == 39 ) {
		if ( gArea  == AREA_SHELTER ) {
			listmax = 0
			ctalk tc, 1003, 0, tc
			if ( stat == 0 ) {
				buff = lang("こんな場所では嫌よ", "Not here!")
			}
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3835
		}
		listmax = 0
		ctalk tc, 1002, 0, tc
		if ( stat == 0 ) {
			buff = lang("いやん、あなたったら…", "*blush*")
		}
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		cbitmod CHARA_BIT_MAKE_GENE, tc, TRUE
		if ( gWizard == 0 ) {
			gSleepGene = tc
		}
		goto *label_3835
	}
	if ( chatval == 43 ) {
		listmax = 0
		buff = lang("悪天候時はシェルターを無料で開放している" + _nda() + "すみやかに避難して" + _kure(), "The shelter is free to use for anyone. Here, come in.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		gReturnArea = gArea , gLevel , cX(CHARA_PLAYER), cY(CHARA_PLAYER)
		gTeleportArea = AREA_SHELTER
		gTeleportLevel = 1
		levelexitby = MAP_EXIT_TELEPORT
		chatteleport = 1
		snd SOUNDLIST_EXITMAP1
		goto *label_3835
	}
	if ( chatval == 44 ) {
		listmax = 0
		buff = lang("(" + name(tc) + "は悲しそうな目であなたを見ている。本当に縁を切る？)", "(" + name(tc) + " looks at you sadly. Really dismiss " + him(tc) + "? )")
		list(0, listmax) = 1
		listn(0, listmax) = lang("切る", "Yes.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = lang("やめる", "No.")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( chatval == 1 ) {
			ctalk tc, 1317, 0, tc
			txt -1, lang("" + name(tc) + "を解雇した… ", "You dismiss " + name(tc) + ".")
			chara_vanquish tc
			calccosthire
			goto *label_3835
		}
		buff = ""
		goto *label_3785
	}
	if ( chatval == 45 ) {
		repeat
			promptmax = 0
			promptl(0, promptmax) = "別の名前を考えてくれ", "null", "" + promptmax
			promptmax++
			repeat 3
				mdatan(0) = random_title()
				if ( rnd(50) == 0 ) {
					if ( rnd(2) ) {
						mdatan(0) = cnName(CHARA_PLAYER)
					}
					else {
						mdatan(0) = cnAka(CHARA_PLAYER)
					}
				}
				if ( gArea  == AREA_HOME ) {
					if ( jp ) {
						s = "の家", "邸", "城", "ハーレム", "の巣窟", "ハウス", "ホーム", "の住処", "宅", "の隠れ家", "ドーム"
						if ( rnd(5) ) {
							mdatan(0) += s(rnd(11))
						}
					}
					else {
						s = "Home", "Mansion", "Shack", "Nest", "Base", "Hideout", "Dome", "Hut", "Cabin", "Hovel", "Shed"
						if ( rnd(3) ) {
							mdatan(0) += " " + s(rnd(11))
						}
					}
					mati = "家"
					if ( rnd(200) == 0 ) {
						mdatan(0) = lang("わが家", "Your Home")
					}
				}
				if ( areaId(gArea ) == AREA_DUNGEON ) {
					if ( jp ) {
						s = "の街", "都市", "城", "ハーレム", "の巣窟", "シティ", "タウン", "の住処", "基地", "の世界", "ドーム"
						if ( rnd(5) ) {
							mdatan(0) += s(rnd(11))
						}
					}
					else {
						s = "Home", "Mansion", "Shack", "Nest", "Base", "Hideout", "Dome", "Hut", "Cabin", "Hovel", "Shed"
						if ( rnd(3) ) {
							mdatan(0) += " " + s(rnd(11))
						}
					}
					mati = "街"
					if ( rnd(200) == 0 ) {
						mdatan(0) = lang("ダンジョン", "dungeon")
					}
				}
				promptl(0, promptmax) = mdatan(0), "null", "" + promptmax
				promptmax++
			loop
			promptl(0, promptmax) = "やっぱり自分で決める", "null", "" + promptmax
			promptmax++
			val = promptx, prompty, 400, 1
			gosub *prompt_key
			if ( rtval != (-1) & rtval != 0 ) {
				mdatan(0) = promptl(0, rtval)
				if ( rtval == 4 ) {
					txtnew
					txt -1, lang("この" + mati + "の名前は？", "What is the name of this facility?")
					val = (windoww - 514) / 2 + inf_screenx, winposy(90), 30, 0, 0
					inputlog = ""
					gosub *prompt_word
					mdatan(0) = inputlog
				}
				break
			}
			snd SOUNDLIST_DICE
		loop
		screenupdate = -1
		gosub *screen_refreshFull
		talkref = 1
		ctalk tc, 1100, 0, tc
		if ( stat == 0 ) {
			buff = lang("そう" + _dana() + "これからこの" + mati + "の名前は" + mdatan(0) + _da(), "Hey, I've come up a good idea! \"" + mdatan(0) + "\", doesn't it sound so charming?")
		}
		goto *label_3785
	}
	if ( chatval == 46 ) {
		if ( cKarma(CHARA_PLAYER) >= (-30) ) {
			buff = lang("その程度の罪なら自分でなんとかしなさい。", "You karma isn't that low. Come back after you have committed more crimes!")
			goto *label_3785
		}
		listmax = 0
		buff = lang("免罪符を希望する" + _noka(1) + thousandsep(str(calcguiltvalue())) + strgold + "かかるけどいいの" + _kana(1), "In the authority of all the saints, I will grant you an indulgence, for money of course. The price is " + thousandsep(str(calcguiltvalue())) + " gold pieces.")
		if ( cGold(CHARA_PLAYER) >= calcguiltvalue() | ncgGoldOverflow > 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("買う", "Deal.")
			listmax++
		}
		list(0, listmax) = 0
		listn(0, listmax) = lang("やめる", "The price is too high.")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( chatval == 1 ) {
			snd SOUNDLIST_PAYGOLD1
			cGold(CHARA_PLAYER) -= calcguiltvalue()
			gosub *label_0422
			modkarma 0, -cKarma(CHARA_PLAYER)
			buff = lang(_thanks(2), "Thanks!")
		}
		else {
			buff = lang("冷やかし" + _ka(1), "You kidding? ")
		}
		goto *label_3785
	}
	if ( chatval == 47 ) {
		tcchat = tc
		allyctrl = 4
		gosub *label_2611
		if ( stat != (-1) ) {
			rc = stat
			listmax = 0
			buff = lang("1,000 goldかかるけどいい" + _ka(1), "1,000 gold pieces.")
			if ( cGold(CHARA_PLAYER) >= 1000 | ncgGoldOverflow > 0 ) {
				list(0, listmax) = 1
				listn(0, listmax) = lang("調査する", "Okay.")
				listmax++
			}
			list(0, listmax) = 0
			listn(0, listmax) = lang("やめる", "No way!")
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( chatval == 1 ) {
				snd SOUNDLIST_PAYGOLD1
				cGold(CHARA_PLAYER) -= 1000
				gosub *label_0422
				cc = rc
				csctrl = 4
				throwsstpevent "InvestNPC", cc, "", 0
				snd SOUNDLIST_POP2
				gosub *label_2879
				cc = CHARA_PLAYER
				gosub *chat_refresh
				buff = ""
			}
			else {
				buff = lang("冷やかし" + _ka(1), "You kidding? ")
			}
		}
		else {
			buff = lang("冷やかし" + _ka(1), "You kidding? ")
		}
		tc = tcchat
		goto *label_3785
	}
	if ( chatval == 48 ) {
		if ( cbit(CHARA_BIT_SHUT_UP, tc) == FALSE ) {
			cbitmod CHARA_BIT_SHUT_UP, tc, TRUE
			buff = "(" + lang(name(tc) + "はしゅんとなった…", name(tc) + " stops talking...") + ")"
		}
		else {
			buff = "(" + lang(name(tc) + "はあなたに抱きついた", name(tc) + " hugs you.") + ")"
			cbitmod CHARA_BIT_SHUT_UP, tc, FALSE
		}
		chatid = -1
		goto *label_3785
	}
	if ( chatval == 50 ) {
		buff = lang(_ore(3) + "の剣が必要な" + _noka(1) + "そう" + _dana(3) + "、" + thousandsep(str(calchireadv(tc))) + strgold + "払うならば、7日間護衛を引き受け" + _ru(), "I will take the job for " + calchireadv(tc) + " gold pieces, for seven day.")
		if ( cRole(tc) == ROLE_ADVENTURER ) {
			ctalk tc, 1010, 0, tc
			if ( stat == 0 ) {
				buff = lang(_ore(3) + "の剣が必要な" + _noka(1) + "そう" + _dana(3) + "、" + thousandsep(str(calchireadv(tc))) + strgold + "払うならば、7日間護衛を引き受け" + _ru(), "I will take the job for " + calchireadv(tc) + " gold pieces, for seven day.")
			}
		}
		if ( cGold(CHARA_PLAYER) >= calchireadv(tc) | ncgGoldOverflow > 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("頼む", "Sounds fair enough.")
			listmax++
		}
		list(0, listmax) = 0
		listn(0, listmax) = lang("やめる", "Some other time.")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( chatval == 1 ) {
			snd SOUNDLIST_PAYGOLD1
			cGold(CHARA_PLAYER) -= calchireadv(tc)
			gosub *label_0422
			cRelation(tc) = RELATION_ALLY
			cbitmod CHARA_BIT_HIRED, tc, TRUE
			cHireDate(tc) = getgametime() + 24 * 7
			cFriendship(tc)++
			leaveparty ocdata, tc
			snd SOUNDLIST_PRAY1
			txtef COLOR_YELLOW
			txt -1, lang(name(tc) + "を雇った。", "You hired " + name(tc) + ".")
			buff = lang(_thanks(2), "Thanks!")
			if ( cRole(tc) == ROLE_ADVENTURER ) {
				ctalk tc, 1011, 0, tc
				if ( stat == 0 ) {
					buff = lang(_thanks(2), "Thanks!")
				}
			}
		}
		else {
			buff = lang("冷やかし" + _ka(1), "You kidding? ")
			if ( cRole(tc) == ROLE_ADVENTURER ) {
				ctalk tc, 1012, 0, tc
				if ( stat == 0 ) {
					buff = lang("冷やかし" + _ka(1), "You kidding? ")
				}
			}
		}
		goto *label_3785
	}
	if ( chatval == 51 ) {
		if ( cLevel(CHARA_PLAYER) * 3 / 2 + 10 < cLevel(tc) ) {
			buff = lang(_kimi(3) + "の仲間になれと？あまりにも力の差がありすぎる" + _na(), "Huh? You are no match for me.")
			if ( cRole(tc) == ROLE_ADVENTURER ) {
				ctalk tc, 1014, 0, tc
				if ( stat == 0 ) {
					buff = lang(_kimi(3) + "の仲間になれと？あまりにも力の差がありすぎる" + _na(), "Huh? You are no match for me.")
				}
			}
			goto *label_3785
		}
		if ( cImpression(tc) >= 200 & cFriendship(tc) > 2 ) {
			listmax = 0
			buff = lang(_kimi(3) + "となら上手くやっていけそう" + _da() + _yoro(2), "Sure, I guess you and I can make a good team.")
			if ( cRole(tc) == ROLE_ADVENTURER ) {
				ctalk tc, 1013, 0, tc
				if ( stat == 0 ) {
					buff = lang(_kimi(3) + "となら上手くやっていけそう" + _da() + _yoro(2), "Sure, I guess you and I can make a good team.")
				}
			}
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			f = get_freeally()
			if ( f == 0 ) {
				buff = lang("これ以上仲間を連れて行けないよう" + _da() + "人数を調整してまた来て" + _kure(), "It seems your party is already full. Come see me again when you're ready.")
				if ( cRole(tc) == ROLE_ADVENTURER ) {
					ctalk tc, 1015, 0, tc
					if ( stat == 0 ) {
						buff = lang("これ以上仲間を連れて行けないよう" + _da() + "人数を調整してまた来て" + _kure(), "It seems your party is already full. Come see me again when you're ready.")
					}
				}
				goto *label_3785
			}
			rmfaction tc, "formerpet"
			rc = tc
			leaveparty ocdata, rc
			gosub *cm_race_loop_WHILE1
			cRole(rc) = ROLE_NONE
			cType(rc) = 0
			cImpression(rc) = 100
			rc = oc
			gosub *label_3917
			goto *label_3835
		}
		buff = lang(_kimi(3) + "の仲間になれと？悪い" + _ga(3) + "お断り" + _da(), "Huh? What made you think I'd want to join you? I don't even know you well.")
		if ( cRole(tc) == ROLE_ADVENTURER ) {
			ctalk tc, 1016, 0, tc
			if ( stat == 0 ) {
				buff = lang(_kimi(3) + "の仲間になれと？悪い" + _ga(3) + "お断り" + _da(), "Huh? What made you think I'd want to join you? I don't even know you well.")
			}
		}
		goto *label_3785
	}
	if ( chatval == 52 ) {
		listmax = 0
		buff = lang("ほほう、モンスターの顔をした人間か。見世物としてなかなかいけそうだ。金貨50000枚で買い取ろう。", "Look what we have! A woman who got a monster's face. It'll be a good show. Wanna sell me for 50000 gold coins?")
		list(0, listmax) = 1
		listn(0, listmax) = lang("売る", "Sure, take her.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = lang("やめる", "You cold bastard.")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( chatval == 1 ) {
			txt -1, lang("パエルの母親を売った…", "You sell Pael's mom...")
			modkarma 0, -20
			snd SOUNDLIST_GETGOLD1
			se_moneymod 0, 50000
			sqMother = 1002
			rc = findchara(CREATURE_ID_PAELS_MOM_LILY)
			cAiCalm(rc) = 3
			cRelation(rc) = RELATION_NEUTRAL
			cXorg(rc) = 48
			cYorg(rc) = 18
			cell_movechara rc, 48, 18
			buff = lang(_thanks(2), "Thanks!")
		}
		else {
			buff = lang("冷やかし" + _ka(1), "You kidding? ")
		}
		goto *label_3785
	}
	if ( chatval == 53 ) {
		listmax = 0
		buff = lang("ここからふもとに下りるのは不便だから、ボランティアで帰還サービスをやってい" + _ru() + _kimi(3) + "も帰還サービスを希望" + _kana(), "I'm practicing a spell of return. Would you like to take my service?")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		gosub *com_return
		goto *label_3835
	}
	if ( chatval == 54 ) {
		reloadcost = 0
		repeat 16
			if ( cExist(cnt) != CHAR_STATE_ALIVE ) {
				continue
			}
			reloadcost += calccostreload(cnt)
		loop
		if ( reloadcost == 0 ) {
			buff = lang("充填する必要はないみたい" + _da(), "Reload what? You don't have any ammo in your inventory.")
			goto *label_3785
		}
		buff = lang("そう" + _dana(3) + "、全ての矢弾を補充すると" + thousandsep(str(reloadcost)) + strgold + _da(), "Sure, let me check what type of ammos you need....Okay, reloading all of your ammos will cost " + reloadcost + " gold pieces.")
		if ( cGold(CHARA_PLAYER) >= reloadcost | ncgGoldOverflow > 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("頼む", "Alright.")
			listmax++
		}
		list(0, listmax) = 0
		listn(0, listmax) = lang("やめる", "Another time.")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( chatval == 1 ) {
			snd SOUNDLIST_PAYGOLD1
			cGold(CHARA_PLAYER) -= reloadcost
			gosub *label_0422
			repeat 16
				if ( cExist(cnt) != CHAR_STATE_ALIVE ) {
					continue
				}
				p = calccostreload(cnt, 1)
			loop
			buff = lang(_thanks(2), "Thanks!")
		}
		else {
			buff = lang("冷やかし" + _ka(1), "You kidding? ")
		}
		goto *label_3785
	}
	if ( chatval == 55 ) {
		screenupdate = -1
		gosub *screen_draw
		invctrl = 0
		gosub *com_reserve
		buff = ""
		goto *label_3785
	}
	if ( chatval == 56 ) {
		list(0, listmax) = 1
		listn(0, listmax) = lang("はじめる", "Let's do it.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = lang("やめる", "W-wai.t..")
		listmax++
		ctalk tc, 1004, 0, tc
		if ( stat == 0 ) {
			if ( petcheck(tc) ) {
				buff = lang("いやん…♪", "*blush*")
			}
			else {
				buff = lang("なかなかの身体つき" + _dana() + "よし、買" + _u(2), "You are...quite attractive. I'll buy you.")
			}
		}
		gosub *label_3836
		if ( chatval != 1 ) {
			ctalk tc, 1006, 0, tc
			if ( stat == 0 ) {
				buff = lang("冷やかし" + _ka(1), "You kidding? ")
			}
			goto *label_3785
		}
		listmax = 0
		ctalk tc, 1005, 0, tc
		if ( stat == 0 ) {
			buff = lang("いく" + _yo(2), "Okay, no turning back now!")
		}
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = lang("うふふ", "Come on!")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		gosub *label_3302
		goto *label_3835
	}
	if ( chatval == 58 ) {
		if ( gTimeStopTime == 0 ) {
			evadd EVENT_VISITOR
		}
		goto *label_3835
	}
	if ( chatval == 59 ) {
		gGuest--
		listmax = 0
		ctalk tc, 1101, 0, tc
		if ( stat == 0 ) {
			buff = lang("追い返す" + _yo(), "Alright.")
		}
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		buff = ""
		goto *label_3785
	}
	if ( chatval == 60 ) {
		sexvalue = limitintmax(double(sCHR(tc)) * 25 + 100 + cFame(CHARA_PLAYER) / 10)
		if ( cGold(CHARA_PLAYER) >= sexvalue | ncgGoldOverflow > 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("はじめる", "Let's do it.")
			listmax++
		}
		list(0, listmax) = 0
		listn(0, listmax) = lang("やめる", "W-wai.t..")
		listmax++
		ctalk tc, 1110, 0, tc
		if ( stat == 0 ) {
			buff = lang("そう" + _dana() + "金貨" + sexvalue + "枚を前払いで" + _kure(), "Okay sweetie, I need " + sexvalue + " gold pieces in front.")
		}
		gosub *label_3836
		if ( chatval != 1 ) {
			buff = lang("冷やかし" + _ka(1), "You kidding? ")
			goto *label_3785
		}
		snd SOUNDLIST_PAYGOLD1
		cGold(cc) -= sexvalue
		gosub *label_0422
		se_moneymod tc, sexvalue
		listmax = 0
		buff = lang("いく" + _yo(2), "Okay, no turning back now!")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = lang("うふふ", "Come on!")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		cc = tc
		tc = CHARA_PLAYER
		gosub *label_3302
		cc = CHARA_PLAYER
		goto *label_3835
	}
	if ( chatval == 61 ) {
		if ( ncgBoughtFairyResort ) {
			if ( gArea  == AREA_NT_SOUTH_BORDER ) {
				p = 45, 48, 0
			}
			if ( gArea  == AREA_ST_NORTH_BORDER ) {
				p = 43, 48, 0
			}
			if ( gArea  == AREA_TW_NORTH_BORDER ) {
				p = 43, 45, 0
			}
		}
		else {
			if ( gArea  == AREA_NT_SOUTH_BORDER ) {
				p = 45, 0, 0
			}
			if ( gArea  == AREA_ST_NORTH_BORDER ) {
				p = 43, 0, 0
			}
			if ( gArea  == AREA_TW_NORTH_BORDER ) {
				p = 43, 45, 0
			}
		}
		repeat 10
			if ( p(cnt) == 0 ) {
				list(0, listmax) = 0
				listn(0, listmax) = lang("やめる", "Never mind!")
				listmax++
				break
			}
			list(0, listmax) = p(cnt)
			listn(0, listmax) = mapname(p(cnt))
			listmax++
		loop
		buff = lang("どこへ行く" + _nda2(1), "Where are you going?")
		gosub *label_3836
		if ( chatval <= 0 ) {
			buff = lang("冷やかし" + _ka(1), "You kidding? ")
			goto *label_3785
		}
		if ( chatval == 45 ) {
			areaX(45) = 41
			areaY(45) = 8
			initializesouthtyristowns
		}
		gTeleportArea = areaParent(chatval)
		gTeleportLevel = 1
		levelexitby = MAP_EXIT_NORMAL
		gWorldRenew = TRUE
		gWorld = areaParent(chatval)
		gWorldX = areaX(chatval), areaY(chatval)
		fixtransfermap = 1
		chatteleport = 1
		goto *label_3835
	}
	if ( chatval == 62 ) {
		if ( cGold(CHARA_PLAYER) < 10000000 & ncgGoldOverflow == 0 ) {
			buff = strnogold
			goto *label_3785
		}
		snd SOUNDLIST_PAYGOLD1
		cGold(CHARA_PLAYER) -= 10000000
		gosub *label_0422
		ncgBoughtFairyResort = 1
		newtitle TITLE_FAIRY_CROSSING_NEW_HORIZONS
		buff = lang(_thanks(2), "Thanks!")
		goto *label_3785
	}
	if ( chatval == 63 ) {
		if ( cbit(CHARA_BIT_PCC, tc) == TRUE ) {
			snd SOUNDLIST_FAIL1
			txt -1, lang("着替えさせているペットは自宅警備員にできない。", "Pets whose clothes has been changed cannot become a sentry.")
			buff = ""
			goto *label_3785
		}
		if ( ocPetRidingIdx(tc) != 0 | ocPetBeingRiddenIdx(tc) != 0 ) {
			snd SOUNDLIST_FAIL1
			txt -1, lang("騎乗中のペットは自宅警備員にできない。", "Pets currently riding cannot become a sentry.")
			buff = ""
			goto *label_3785
		}
		if ( cType(tc) != 0 | ocPetJobSkill(tc) != 0 ) {
			snd SOUNDLIST_FAIL1
			txt -1, lang("仕事を任せているペットは自宅警備員にできない。", "Pets having a job here cannot become a sentry.")
			buff = ""
			goto *label_3785
		}
		if ( cAiSub(tc) == 101 ) {
			snd SOUNDLIST_FAIL1
			txt -1, lang("カスタムAI使用中のペットは自宅警備員にできない。", "Pets that use Custom AI cannot become a sentry.")
			buff = ""
			goto *label_3785
		}
		inv_getheader tc
		f = get_freechara()
		if ( f == (-1) ) {
			snd SOUNDLIST_FAIL1
			txt -1, lang("これ以上自宅警備員を増やすわけにはいかない。", "Can not add any more sentries.")
			buff = ""
			goto *label_3785
		}
		ctalk tc, 1313, tc, tc
		txt -1, lang(name(tc) + "を自宅警備員に任命した。", name(tc) + " was appointed as a sentry.")
		f = get_freechara()
		cRelation(tc) = RELATION_NEUTRAL
		cOrgRelation(tc) = RELATION_NEUTRAL
		cRole(tc) = ROLE_PET_SENTRY
		cXorg(tc) = cX(tc)
		cYorg(tc) = cY(tc)
		cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
		cbitmod CHARA_BIT_LEASHED, tc, FALSE
		if ( custom_isgodservant(tc) ) {
			oggodservantscount++
		}
		if ( oggodservantscount > 2 ) {
			oggodservantscount = 2
		}
		if ( cId(tc) == CREATURE_ID_GOD_OF_WISHING ) {
			ogdata(70)++
		}
		if ( ogdata(70) > 1 ) {
			ogdata(70) = 1
		}
		resetcai tc
		relocate_chara tc, f
		snd SOUNDLIST_PRAY1
		goto *label_3835
	}
	if ( chatval == 300 ) {
		if ( cbit(CHARA_BIT_PCC, tc) == TRUE ) {
			snd SOUNDLIST_FAIL1
			txt -1, lang("着替えさせているペットはメイドにできない。", "Pets whose clothes has been changed cannot become a sentry.")
			buff = ""
			goto *label_3785
		}
		if ( ocPetRidingIdx(tc) != 0 | ocPetBeingRiddenIdx(tc) != 0 ) {
			snd SOUNDLIST_FAIL1
			txt -1, lang("騎乗中のペットはメイドにできない。", "Pets currently riding cannot become a sentry.")
			buff = ""
			goto *label_3785
		}
		if ( cType(tc) != 0 | ocPetJobSkill(tc) != 0 ) {
			snd SOUNDLIST_FAIL1
			txt -1, lang("仕事を任せているペットはメイドにできない。", "Pets having a job here cannot become a sentry.")
			buff = ""
			goto *label_3785
		}
		if ( cAiSub(tc) == 101 ) {
			snd SOUNDLIST_FAIL1
			txt -1, lang("カスタムAI使用中のペットはメイドにできない。", "Pets that use Custom AI cannot become a sentry.")
			buff = ""
			goto *label_3785
		}
		inv_getheader tc
		f = get_freechara()
		if ( f == (-1) ) {
			snd SOUNDLIST_FAIL1
			txt -1, lang("これ以上メイドを増やすわけにはいかない。", "Can not add any more sentries.")
			buff = ""
			goto *label_3785
		}
		ctalk tc, 1102, tc, tc
		txt -1, lang(name(tc) + "をメイドに任命した。", name(tc) + " was appointed as a maid.")
		f = get_freechara()
		cRelation(tc) = RELATION_NEUTRAL
		cOrgRelation(tc) = RELATION_NEUTRAL
		cRole(tc) = ROLE_PET_MAID
		cXorg(tc) = cX(tc)
		cYorg(tc) = cY(tc)
		cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
		cbitmod CHARA_BIT_LEASHED, tc, FALSE
		if ( custom_isgodservant(tc) ) {
			oggodservantscount++
		}
		if ( oggodservantscount > 2 ) {
			oggodservantscount = 2
		}
		if ( cId(tc) == CREATURE_ID_GOD_OF_WISHING ) {
			ogdata(70)++
		}
		if ( ogdata(70) > 1 ) {
			ogdata(70) = 1
		}
		resetcai tc
		relocate_chara tc, f
		snd SOUNDLIST_PRAY1
		goto *label_3835
	}
	if ( chatval == 301 ) {
		listmax = 0
		sexvalue = limitmax(1000 + cFame(CHARA_PLAYER) / 5, 100000)
		if ( gettrait(0, 194) < 0 ) {
			sexvalue *= 5
		}
		buff = lang("帰還サービスを利用するなら、" + thousandsep(str(sexvalue)) + strgold + "かかるけどいい" + _ka(1), "" + thousandsep(str(sexvalue)) + "gold pieces.")
		if ( cGold(CHARA_PLAYER) >= sexvalue | ncgGoldOverflow > 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("利用する", "Okay.")
			listmax++
		}
		list(0, listmax) = 0
		listn(0, listmax) = lang("やめる", "No way!")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( chatval == 1 ) {
			snd SOUNDLIST_PAYGOLD1
			cGold(CHARA_PLAYER) -= sexvalue
			gosub *label_0422
			efstatus = 2
			gosub *com_return
			goto *label_3835
		}
		else {
			buff = lang("冷やかし" + _ka(1), "You kidding? ")
		}
		goto *label_3785
	}
	if ( chatval == 302 ) {
		if ( cbit(CHARA_BIT_PCC, tc) == TRUE ) {
			snd SOUNDLIST_FAIL1
			txt -1, lang("着替えさせているペットは店番にできない。", "Pets whose clothes has been changed cannot ShopKeeper.")
			buff = ""
			goto *label_3785
		}
		if ( ocPetRidingIdx(tc) != 0 | ocPetBeingRiddenIdx(tc) != 0 ) {
			snd SOUNDLIST_FAIL1
			txt -1, lang("騎乗中のペットは店番にできない。", "Pets currently riding cannot ShopKeeper.")
			buff = ""
			goto *label_3785
		}
		if ( cType(tc) != 0 | ocPetJobSkill(tc) != 0 ) {
			snd SOUNDLIST_FAIL1
			txt -1, lang("仕事を任せているペットは店番にできない。", "Pets having a job here cannot ShopKeeper.")
			buff = ""
			goto *label_3785
		}
		if ( cAiSub(tc) == 101 ) {
			snd SOUNDLIST_FAIL1
			txt -1, lang("カスタムAI使用中のペットは店番にできない。", "Pets that use Custom AI cannot ShopKeeper.")
			buff = ""
			goto *label_3785
		}
		inv_getheader tc
		f = get_freechara()
		if ( f == (-1) ) {
			snd SOUNDLIST_FAIL1
			txt -1, lang("これ以上店番を増やすわけにはいかない。", "Can not add any more sentries.")
			buff = ""
			goto *label_3785
		}
		nc_intb_001 = 0
		txt -1, lang("どの店を任せる？ ", "Which store do you want? ")
		promptl(0, 0) = lang("武具店", "armory"), "null", "0"
		promptl(0, 1) = lang("雑貨屋", "general store"), "null", "1"
		promptl(0, 2) = lang("魔法店", "magic store"), "null", "2"
		promptl(0, 3) = lang("何でも屋", "goods store"), "null", "3"
		promptl(0, 4) = lang("ブラックマーケット", "blackmarket"), "null", "4"
		promptl(0, 5) = lang("おみやげ屋", "the souvenir vendor"), "null", "5"
		promptl(0, 6) = lang("パン屋", "the souvenir vendor"), "null", "6"
		promptl(0, 7) = lang("食料品店", "the souvenir vendor"), "null", "7"
		promptl(0, 8) = lang("釣具店", "fishing vendor"), "null", "8"
		promptl(0, 9) = lang("家具店", "fishing vendor"), "null", "9"
		promptl(0, 10) = lang("魔法書作家", "the spell writer"), "null", "10"
		promptl(0, 11) = lang("盗賊店", "the fence"), "null", "11"
		promptl(0, 12) = lang("娼婦ギルド店", "prostitute guild shop"), "null", "24"
		promptmax = 13
		if ( ogTitleJunkie == 2 ) {
			promptl(0, promptmax) = lang("素材専門店", "material store"), "null", "12"
			promptmax++
			promptl(0, promptmax) = lang("魔法書専門店", "spellbook store"), "null", "13"
			promptmax++
			promptl(0, promptmax) = lang("媚薬専門店", "aphrodisiac store"), "null", "14"
			promptmax++
			promptl(0, promptmax) = lang("同人誌専門店", "doujinshi store"), "null", "15"
			promptmax++
		}
		if ( ogTitleGanesa == 2 ) {
			promptl(0, promptmax) = lang("奴隷商人", "slave master"), "null", "16"
			promptmax++
			promptl(0, promptmax) = lang("情報屋", "informer"), "null", "17"
			promptmax++
			promptl(0, promptmax) = lang("魔術士", "wizard"), "null", "18"
			promptmax++
			promptl(0, promptmax) = lang("アリーナマスター", "arena master"), "null", "19"
			promptmax++
			promptl(0, promptmax) = lang("ペットアリーナ", "pet arena master"), "null", "20"
			promptmax++
			promptl(0, promptmax) = lang("バーテンダー", "bartender"), "null", "21"
			promptmax++
			promptl(0, promptmax) = lang("癒し手", "healer"), "null", "22"
			promptmax++
		}
		if ( ncgHerbMerchant == 1000 ) {
			promptl(0, promptmax) = lang("ハーブ店", "herb merchant"), "null", "23"
			promptmax++
		}
		val = promptx, prompty, 240 + promptmax / 16 * 240, 1
		gosub *label_3157
		nc_strb_001 = ""
		if ( rtval == (-1) ) {
			buff = ""
			goto *label_3785
		}
		if ( rtval == 0 ) {
			cRole(tc) = ROLE_SHOP_ARMOR
			nc_strb_001 = lang("武具店", "armory")
		}
		if ( rtval == 1 ) {
			cRole(tc) = ROLE_SHOP_GENERAL
			nc_strb_001 = lang("雑貨屋", "general store")
		}
		if ( rtval == 2 ) {
			cRole(tc) = ROLE_SHOP_MAGIC
			nc_strb_001 = lang("魔法店", "magic store")
		}
		if ( rtval == 3 ) {
			cRole(tc) = ROLE_SHOP_GOODS
			nc_strb_001 = lang("何でも屋", "goods store")
		}
		if ( rtval == 4 ) {
			cRole(tc) = ROLE_SHOP_BLACKMARKET
			nc_strb_001 = lang("ブラックマーケット", "blackmarket")
		}
		if ( rtval == 5 ) {
			cRole(tc) = ROLE_SHOP_MOUNTAIN2
			nc_strb_001 = lang("おみやげ屋", "the souvenir vendor")
		}
		if ( rtval == 6 ) {
			cRole(tc) = ROLE_SHOP_BAKERY
			nc_strb_001 = lang("パン屋", "the souvenir vendor")
		}
		if ( rtval == 7 ) {
			cRole(tc) = ROLE_SHOP_FOOD
			nc_strb_001 = lang("食料品店", "the souvenir vendor")
		}
		if ( rtval == 8 ) {
			cRole(tc) = ROLE_SHOP_FISH
			nc_strb_001 = lang("釣具店", "fishing vendor")
		}
		if ( rtval == 9 ) {
			cRole(tc) = ROLE_SHOP_OFFICE
			nc_strb_001 = lang("家具店", "fishing vendor")
		}
		if ( rtval == 10 ) {
			if ( guildcheck(0) != "mage" | gRankGuild / 100 != 1 ) {
				snd SOUNDLIST_FAIL1
				txt -1, lang("魔術師ギルドの頂点に立つ必要がある。", "Must be at the top of the mage guild.")
				buff = ""
				goto *label_3785
			}
			cRole(tc) = ROLE_SHOP_BOOK_RESERVE
			nc_strb_001 = lang("魔法書作家", "the spell writer")
		}
		if ( rtval == 11 ) {
			if ( guildcheck(0) != "thieve" | gRankGuild / 100 != 1 ) {
				snd SOUNDLIST_FAIL1
				txt -1, lang("盗賊ギルドの頂点に立つ必要がある。", "Must be at the top of the thieve guild.")
				buff = ""
				goto *label_3785
			}
			cRole(tc) = ROLE_SHOP_THIEF
			nc_strb_001 = lang("盗賊店", "the fence")
		}
		if ( rtval == 12 ) {
			cRole(tc) = ROLE_SHOP_MATERIAL
			nc_strb_001 = lang("素材専門店", "material store")
		}
		if ( rtval == 13 ) {
			cRole(tc) = ROLE_SHOP_SPELLBOOK
			nc_strb_001 = lang("魔法書専門店", "spellbook store")
		}
		if ( rtval == 14 ) {
			cRole(tc) = ROLE_SHOP_APHRODISIAC
			nc_strb_001 = lang("媚薬専門店", "aphrodisiac store")
		}
		if ( rtval == 15 ) {
			cRole(tc) = ROLE_SHOP_DOUJINSHI
			nc_strb_001 = lang("同人誌専門店", "doujinshi store")
		}
		if ( rtval == 16 ) {
			cRole(tc) = ROLE_SLAVER
			nc_strb_001 = lang("奴隷商人", "slave master")
		}
		if ( rtval == 17 ) {
			cRole(tc) = ROLE_INFORMER
			nc_strb_001 = lang("情報屋", "informer")
		}
		if ( rtval == 18 ) {
			cRole(tc) = ROLE_IDENTIFIER
			nc_strb_001 = lang("魔術士", "wizard")
		}
		if ( rtval == 19 ) {
			cRole(tc) = ROLE_ARENA_MASTER
			nc_strb_001 = lang("アリーナマスター", "arena master")
		}
		if ( rtval == 20 ) {
			cRole(tc) = ROLE_PET_ARENA_MASTER
			nc_strb_001 = lang("ペットアリーナ", "pet arena master")
		}
		if ( rtval == 21 ) {
			cRole(tc) = ROLE_BARTENDER
			nc_strb_001 = lang("バーテンダー", "bartender")
		}
		if ( rtval == 22 ) {
			cRole(tc) = ROLE_HEALER
			nc_strb_001 = lang("癒し手", "healer")
		}
		if ( rtval == 23 ) {
			cRole(tc) = ROLE_SHOP_HERB_MERCHANT
			nc_strb_001 = lang("ハーブ店", "herb merchant")
		}
		if ( rtval == 24 ) {
			if ( guildcheck(0) != "prostitute" | gRankGuild / 100 != 1 ) {
				snd SOUNDLIST_FAIL1
				txt -1, lang("娼婦ギルドの頂点に立つ必要がある。", "Must be at the top of the prostitute guild.")
				buff = ""
				goto *label_3785
			}
			cRole(tc) = ROLE_SHOP_PROSTITUTE_GUILD
			nc_strb_001 = lang("娼婦ギルド店", "prostitute guild shop")
		}
		addfaction tc, "petshop"
		cRoleShopLv(tc) = sCHR(tc) * 2 + sTrade(tc) * 4 + sInvest(tc) * 4
		ctalk tc, 1130, tc, tc
		txt -1, lang(name(tc) + "を" + nc_strb_001 + "に任命した。", name(tc) + " was appointed as a " + promptl(0, rtval) + ".")
		f = get_freechara()
		cRelation(tc) = RELATION_NEUTRAL
		cOrgRelation(tc) = RELATION_NEUTRAL
		cXorg(tc) = cX(tc)
		cYorg(tc) = cY(tc)
		cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
		cbitmod CHARA_BIT_LEASHED, tc, FALSE
		if ( custom_isgodservant(tc) ) {
			oggodservantscount++
		}
		if ( oggodservantscount > 2 ) {
			oggodservantscount = 2
		}
		if ( cId(tc) == CREATURE_ID_GOD_OF_WISHING ) {
			ogdata(70)++
		}
		if ( ogdata(70) > 1 ) {
			ogdata(70) = 1
		}
		resetcai tc
		relocate_chara tc, f
		snd SOUNDLIST_PRAY1
		goto *label_3835
	}
	if ( chatval == 303 ) {
		screenupdate = -1
		gosub *screen_draw
		invctrl = 0
		gosub *label_2711
		buff = ""
		goto *label_3785
	}
	if ( chatval == 304 ) {
		plat = 20 + ncgdata(110) * 20
		listmax = 0
		buff = lang("職業の技能を学びたいの" + _ka() + plat + "プラチナ硬貨で行う" + _yo(), "cost " + plat + "platinum pieces.")
		if ( cPlat(CHARA_PLAYER) >= plat ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("プラチナ硬貨を支払う", "Pay plat.")
			listmax++
		}
		list(0, listmax) = 0
		listn(0, listmax) = lang("今日はやめとく", "Not today.")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( chatval == 1 ) {
			allyctrl = 6
			gosub *label_2611
			if ( stat != (-1) ) {
				cc = stat
				nc_intb_001 = stat
				cPlat(CHARA_PLAYER) -= plat
				snd SOUNDLIST_PAYGOLD1
				nc_intb_002 = 2
				nc_resettrait nc_intb_001
				snd SOUNDLIST_BOOK1
				gosub *label_0647
				snd SOUNDLIST_PRAY1
				txtef COLOR_GREEN
				txt -1, lang(name(cc) + "は新たな職業技能を手に入れた！", "")
				if ( cc == CHARA_PLAYER ) {
					nc_setjobskill
				}
				ncgdata(110) = limitmax(ncgdata(110) + 1, 14)
				autosave = 1 * (gArea  != AREA_SHOW_HOUSE)
				if ( cfg_noautosave > 2 & gettrait(0, 190) == 0 ) {
					autosave = 0
				}
			}
		}
	}
	if ( chatval == 310 ) {
		if ( iParam1(locvar_mapitemfind_citemno) == 2000 * (iLevel(locvar_mapitemfind_citemno) + 1) ) {
			buff = lang("……ん？このハンマーはもう転生できるまで鍛えあがってるみたいね。", "It looks like this hammer has already been forged to the point where it can be reincarnated.")
			list(0, listmax) = 0
			listn(0, listmax) = lang("がーん", "Oops")
			listmax++
			chatesc = 1
			gosub *label_3836
		}
		else {
			if ( cPlat(CHARA_PLAYER) < plat ) {
				buff = lang("……って、プラチナ硬貨が足りないみたいよ。", "They're running low on platinum coins.")
				list(0, listmax) = 0
				listn(0, listmax) = lang("がーん", "Oops")
				listmax++
				chatesc = 1
				gosub *label_3836
			}
			else {
				if ( customitemfind(0, "blacksmith hammer") >= 0 ) {
					snd SOUNDLIST_PAYGOLD1
					cPlat(CHARA_PLAYER) -= plat
					buff = lang("よーし、それじゃあ行くわよー！＊トンテンカーン＊", "*tink* *tink* *tink*")
					list(0, listmax) = 0
					listn(0, listmax) = lang("わくわく♪", "Well...")
					listmax++
					gosub *label_3836
					iParam1(locvar_mapitemfind_citemno) += limit(15 + 5 * iLevel(locvar_mapitemfind_citemno), 20, 100)
					iParam2(locvar_mapitemfind_citemno) = 0
					iParam3(locvar_mapitemfind_citemno) = 0
					if ( iParam1(locvar_mapitemfind_citemno) >= 2000 * (iLevel(locvar_mapitemfind_citemno) + 1) ) {
						iParam1(locvar_mapitemfind_citemno) = 2000 * (iLevel(locvar_mapitemfind_citemno) + 1)
					}
					if ( iParam1(locvar_mapitemfind_citemno) > ncgHammerMaxLevel ) {
						ncgHammerMaxLevel = iParam1(locvar_mapitemfind_citemno)
					}
					txtef COLOR_GREEN
					snd SOUNDLIST_BUILD1
					snd SOUNDLIST_DING3
					txt -1, lang("あなたのハンマーは鍛えられた。", "Your Hammer Lv increases.")
					txt -1, " (Lv:" + iParam1(locvar_mapitemfind_citemno) + " Exp:" + fixtxt("" + double(iParam2(locvar_mapitemfind_citemno) * 100) / double(calcexpalive(iParam1(locvar_mapitemfind_citemno))), 6) + "%) "
					buff = lang("一丁上がり！またあたしの技術が欲しかったらいつでもどーぞ！それじゃあね！", "That's it! If you ever want my skills again, just let me know! See you later!")
					list(0, listmax) = 0
					listn(0, listmax) = lang("ありがとう", "Thank you.")
					listmax++
					chatesc = 1
					gosub *label_3836
				}
				else {
					buff = lang("……って、あなたハンマーを持ってないじゃない。", "You don't have the hammer.")
					list(0, listmax) = 0
					listn(0, listmax) = lang("がーん", "Oops")
					listmax++
					chatesc = 1
					gosub *label_3836
				}
			}
		}
	}
	if ( chatval == 311 ) {
		invsubroutine = 1
		invctrl = INVCTRL_MATERIAL_ENCHANT, 0
		snd SOUNDLIST_INV
		gosub *label_2974
		f = stat
		if ( stat == 0 ) {
			listmax = 0
			buff = lang("あら、やめるの？まぁあたしの技術が欲しかったらいつでもどーぞ。", "If you want my skills, you are always welcome to use them.")
			list(0, listmax) = 0
			listn(0, listmax) = strbye
			listmax++
			chatesc = 1
			gosub *label_3836
		}
		else {
			listmax = 0
			buff = lang("さてと、価格は1,000,000プラチナ硬貨よ。", "cost 1,000,000 platinum pieces.")
			if ( cPlat(CHARA_PLAYER) >= 1000000 ) {
				list(0, listmax) = 1
				listn(0, listmax) = lang("エンチャントする", "Lets Enchantment!")
				listmax++
			}
			list(0, listmax) = 0
			listn(0, listmax) = lang("今日はやめとく", "Not today.")
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( chatval == 1 ) {
				cPlat(CHARA_PLAYER) -= 1000000
				buff = lang("よーし、それじゃあ行くわよー！＊トンテンカーン＊", "*tink* *tink* *tink*")
				list(0, listmax) = 0
				listn(0, listmax) = lang("わくわく♪", "Well...")
				listmax++
				chatesc = 1
				gosub *label_3836
				txtef COLOR_GREEN
				snd SOUNDLIST_BUILD1
				snd SOUNDLIST_DING3
				txt -1, lang(itemname(ci, 1) + "は新しいエンチャントを獲得した。", itemname(ci, 1) + "Has won a new enchantment.")
				add_bigench 0
				bigbuf = check_bigench(ci)
				nc_bufs = ""
				if ( bigbuf == 1 ) {
					nc_bufs = lang("それは運動を阻害しない", "It does not inhibit movement.")
				}
				if ( bigbuf == 2 ) {
					nc_bufs = lang("それは属性追加ダメージを強化する", "It enhances attribute extra damage.") + "(×" + strf("%.1f", (0.0 + inv(38, ci)) / 10 + 1.0) + ")"
				}
				if ( bigbuf == 3 ) {
					nc_bufs = lang("それはエンチャント封印に耐性をもつ", "It reduces effects of enchantment sealing.")
				}
				if ( bigbuf == 4 ) {
					nc_bufs = lang("それは攻撃対象を過剰回復させる", "It over-recovers the target.") + "(" + inv(38, ci) + "%)"
				}
				if ( bigbuf == 5 ) {
					nc_bufs = lang("それは信仰の恩恵を増幅させる", "It amplifies the benefits of religion.") + "(×" + (inv(38, ci) + 1) + ")"
				}
				if ( bigbuf == 6 ) {
					nc_bufs = lang("それは全ての能力値を維持する", "It maintains all stats.")
				}
				if ( bigbuf == 7 ) {
					nc_bufs = lang("それはマナの消費を軽減する", "It reduces mana consumption.") + "(" + inv(38, ci) + "%)"
				}
				if ( bigbuf == 8 ) {
					nc_bufs = lang("それは消費したマナを生命力に還元する", "It returns mana consumed to hp.") + "(" + inv(38, ci) + "%)"
				}
				if ( bigbuf == 9 ) {
					nc_bufs = lang("それは稀に攻撃対象のエンチャントを封印する", "It seals up the target enchantment.") + "(" + inv(38, ci) + "%)"
				}
				if ( bigbuf == 10 ) {
					nc_bufs = lang("それは稀に攻撃対象のバフを除去する", "It removes target buffs.") + "(" + inv(38, ci) + "%)"
				}
				if ( bigbuf >= 10000 ) {
					nc_bufs = lang("それは" + skillname(bigbuf \ 10000) + "を少しずつ成長させる", "It grows " + skillname(bigbuf \ 10000) + " little by little") + "(×" + inv(38, ci) + ")"
				}
				txtef COLOR_RED
				txt -1, "《" + nc_bufs + "》"
				buff = lang("一丁上がり！またあたしの技術が欲しかったらいつでもどーぞ！それじゃあね！", "That's it! If you ever want my skills again, just let me know! See you later!")
				list(0, listmax) = 0
				listn(0, listmax) = lang("ありがとう", "Thank you.")
				listmax++
				chatesc = 1
				autosave = 1 * (gArea  != AREA_SHOW_HOUSE)
				if ( cfg_noautosave > 2 & gettrait(0, 190) == 0 ) {
					autosave = 0
				}
				gosub *label_3836
			}
			else {
				buff = lang("あら、やめるの？まぁあたしの技術が欲しかったらいつでもどーぞ。", "If you want my skills, you are always welcome to use them.")
				list(0, listmax) = 0
				listn(0, listmax) = strbye
				listmax++
				chatesc = 1
				gosub *label_3836
			}
		}
	}
	if ( chatval == 312 ) {
		invsubroutine = 1
		invctrl = INVCTRL_MATERIAL_ENCHANT, 8
		snd SOUNDLIST_INV
		gosub *label_2974
		f = stat
		if ( stat == 0 ) {
		}
		else {
			txt -1, lang(itemname(ci, 1) + "の新しいグラフィック番号を選択してください。(0でデフォルトに戻します)", "Choose a new graphic number for " + itemname(ci, 1) + ".(Return to default with 0)")
			inputlog = ""
			val = (windoww - 514) / 2 + inf_screenx, winposy(90), 30, 0, 0
			gosub *prompt_word
			name_page = int(inputlog)
			if ( name_page == 0 ) {
				iPic(ci) = ipicref(iID(ci))
				txt -1, lang(itemname(ci, 1) + "は元の姿に戻った。", itemname(ci, 1) + "returns to its original form.")
			}
			else {
				if ( name_page < 0 ) {
					name_page = -name_page
					iPic(ci) = name_page
					txt -1, lang(itemname(ci, 1) + "の姿が変わった。", itemname(ci, 1) + "changed form.")
				}
				else {
					if ( name_page > 32 ) {
						txt -1, lang("その番号には対応していない。", itemname(ci, 1) + "dont changed form.")
					}
					else {
						iPic(ci) = name_page + 33
						txt -1, lang(itemname(ci, 1) + "の姿が変わった。", itemname(ci, 1) + "changed form.")
					}
				}
				snd SOUNDLIST_BUILD1
			}
			if ( refitem(iID(ci), DBSPEC_TYPE, ci) < FILTER_ITEM_MIN & iID(ci) != ITEM_ID_CARNEADES_PLANK ) {
				txt -1, lang("装備品はカスタムネーム機能を使用できる。", "Equipment items can use the custom name function.")
				gosub *nc_cname
			}
			snd SOUNDLIST_BUILD1
		}
	}
	if ( chatval == 320 ) {
		buff = lang("特別な訓練を行うには100000" + strplat + "かかるけどいい" + _kana(1), "Learning Special Train will cost you 100000 platinum pieces.")
		if ( cPlat(CHARA_PLAYER) >= 100000 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("訓練を行う", "Teach me the train.")
			listmax++
		}
		list(0, listmax) = 0
		listn(0, listmax) = lang("訓練しない", "Not today.")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( chatval == 1 ) {
			snd SOUNDLIST_PAYGOLD1
			cPlat(CHARA_PLAYER) -= 100000
			txtef COLOR_GREEN
			snd SOUNDLIST_DING3
			txt -1, lang("あなたの全ての能力の潜在能力が大幅に上昇した。", name(tc) + your(tc) + " potential of every attribute expands.")
			repeat 10, 10
				modgrowth2 0, cnt, 30
			loop
			modgrowth2 0, 2, 75
			modgrowth2 0, 3, 75
			buff = lang("よし、これで訓練は終わり" + _da() + "かなり潜在能力が伸びた" + _yo(2), "Marverous! The training is now complete. I think you've improved some potential.")
		}
		else {
			buff = lang("冷やかし" + _ka(1), "You kidding? ")
		}
		list(0, listmax) = 0
		listn(0, listmax) = strbye
		listmax++
		chatesc = 1
		gosub *label_3836
		goto *label_3835
	}
	if ( chatval == 64 ) {
		f = get_freeally()
		if ( f == 0 ) {
			buff = lang("(これ以上仲間を連れていけない。)", "(Your party is already full.)")
			goto *label_3785
		}
		cRole(tc) = ROLE_NONE
		rmfaction tc, "petshop"
		rc = tc
		gosub *cm_race_loop_WHILE1
		if ( stat != (-1) ) {
			if ( custom_isgodservant(rc) ) {
				oggodservantscount--
			}
			if ( cId(tc) == CREATURE_ID_GOD_OF_WISHING ) {
				ogdata(70)--
			}
		}
		if ( oggodservantscount < 0 ) {
			oggodservantscount = 0
		}
		if ( ogdata(70) < 0 ) {
			ogdata(70) = 0
		}
		goto *label_3835
	}
	if ( chatval == 100 ) {
		listmax = 0
		ctalk tc, 1027, tc, tc
		if ( stat == 0 ) {
			buff = lang("どこにいればいい" + _kana(1), "I should stand where?")
		}
		list(0, listmax) = 1
		listn(0, listmax) = lang("適当にぶらぶらしてて", "Walk freely.")
		listmax++
		list(0, listmax) = 2
		listn(0, listmax) = lang("この周辺にいて", "Walk around here.")
		listmax++
		list(0, listmax) = 3
		listn(0, listmax) = lang("ここから動かないでいて", "Don't move here.")
		listmax++
		list(0, listmax) = 4
		listn(0, listmax) = lang("付いてきて", "Follow me.")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( chatval == 1 ) {
			ctalk tc, 1023, tc, tc
			if ( stat == 0 ) {
				buff = lang("分かった" + _yo() + "好きにしてる" + _yo(), "Ok. I'll walk freely."), "", "", "", "", "", "", "", ""
			}
			ocAiCalm(tc) = cAiCalm(tc)
			cAiCalm(tc) = 1
		}
		else {
			if ( chatval == 2 ) {
				ctalk tc, 1024, tc, tc
				if ( stat == 0 ) {
					buff = lang("分かった" + _yo() + "これからはこの辺にいる" + _yo(), "Ok. I'll walk around here."), "", "", "", "", "", "", "", ""
				}
				ocAiCalm(tc) = cAiCalm(tc)
				cAiCalm(tc) = 2
				cXorg(tc) = cX(tc)
				cYorg(tc) = cY(tc)
			}
			else {
				if ( chatval == 3 ) {
					ctalk tc, 1025, tc, tc
					if ( stat == 0 ) {
						buff = lang("分かった" + _yo() + "これからはここにいる" + _yo(), "Ok. I won't move here."), "", "", "", "", "", "", "", ""
					}
					ocAiCalm(tc) = cAiCalm(tc)
					cAiCalm(tc) = 3
					cXorg(tc) = cX(tc)
					cYorg(tc) = cY(tc)
				}
				else {
					if ( chatval == 4 ) {
						ctalk tc, 1026, tc, tc
						if ( stat == 0 ) {
							buff = lang("分かった" + _yo() + _kimi(3) + "の近くにいるようにする" + _yo(), "Ok. I'll always follow you."), "", "", "", "", "", "", "", ""
						}
						ocAiCalm(tc) = cAiCalm(tc)
						cAiCalm(tc) = 4
					}
					else {
						buff = ""
						goto *label_3785
					}
				}
			}
		}
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		gosub *label_3836
		buff = ""
		goto *label_3785
	}
	if ( chatval == 65 ) {
		listmax = 0
		buff = lang("(本当に" + name(tc) + "を旅に出す？)", "(Are you sure you want to send " + name(tc) + " off to a trip?)")
		list(0, listmax) = 1
		listn(0, listmax) = lang("出す", "Yes.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = lang("やめる", "No.")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( chatval == 1 ) {
			if ( cbit(CHARA_BIT_PCC, tc) == TRUE ) {
				snd SOUNDLIST_FAIL1
				txt -1, lang("着替えさせているペットは旅に出せない。", "Pets that have changed thier clothes cannot travel.")
				buff = ""
				goto *label_3785
			}
			if ( ocPetRidingIdx(tc) != 0 | ocPetBeingRiddenIdx(tc) != 0 ) {
				snd SOUNDLIST_FAIL1
				txt -1, lang("騎乗中のペットは旅に出せない。", "Pets currently riding cannot travel.")
				buff = ""
				goto *label_3785
			}
			if ( cAiSub(tc) == 101 ) {
				snd SOUNDLIST_FAIL1
				txt -1, lang("カスタムAI使用中のペットは旅に出せない。", "Pets that use Custom AI cannot travel.")
				buff = ""
				goto *label_3785
			}
			txt -1, lang(name(tc) + "を旅に出した！", name(tc) + " went on a journey!")
			repeat 50
				rc = rnd(39) + 16
				if ( ocFormerPet(rc) == 20000 ) {
					continue
				}
				if ( ocAdvJourneyTurns(rc) ) {
					if ( rnd(cImpression(rc) / 100 + 1) == 0 ) {
						ocAdvJourneyTurns(rc)--
					}
					continue
				}
				else {
					break
				}
			loop
			leaveparty ocdata, rc
			addnews 5, rc
			del_chara rc
			cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
			cbitmod CHARA_BIT_LEASHED, tc, FALSE
			resetcai tc
			relocate_chara tc, rc
			cRelation(rc) = RELATION_NEUTRAL
			cOrgRelation(rc) = RELATION_NEUTRAL
			cAiInt(rc) = 100
			cExist(rc) = CHAR_STATE_ADV
			cnAka(rc) = random_title()
			cRole(rc) = ROLE_ADVENTURER
			cFame(rc) = limit(cLevel(rc) * cLevel(rc) * 30 + rndex(cLevel(rc) * 200 + 100) + rnd(500), 1, 1000000)
			rmfaction rc, "pet"
			rmfaction rc, "align"
			addfaction rc, "align,neutral"
			addfaction rc, "formerpet"
			mapChara(cX(rc), cY(rc)) = 0
			snd SOUNDLIST_PRAY1
			ogTimesSentPets++
			gosub *label_2665
			goto *label_3835
		}
		buff = ""
		goto *label_3785
	}
	if ( chatval == 66 ) {
		if ( cKarma(CHARA_PLAYER) < (-30) ) {
			if ( cbit(CHARA_BIT_INCOGNITO, CHARA_PLAYER) == FALSE ) {
				listmax = 0
				buff = lang(_kimi(3) + "のような犯罪者の街に住むなんてごめん" + _da(), "It's criminals like you living in this town that disgusts me.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
			}
			else {
				listmax = 0
				buff = lang("変装していても分かる" + _yo() + _kimi(3) + "のような犯罪者の街に住むなんてごめん" + _da(), "I know who are you even under the disguise. It's criminals like you living in this town that disgusts me.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
			}
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			buff = ""
			goto *label_3785
		}
		if ( cFame(CHARA_PLAYER) < 20000 ) {
			listmax = 0
			buff = lang(cnAka(CHARA_PLAYER) + "？ …聞いたことない" + _na() + "どこの馬の骨とも分からない人の街に住むなんてごめん" + _da(), cnAka(CHARA_PLAYER) + "? ... Never heard of it. And I wouldn't want to live in a town I have doubts on and know practically nothing about.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			buff = ""
			goto *label_3785
		}
		if ( cId(tc) == CREATURE_ID_SHOPKEEPER ) {
			if ( ogDungeonStayersTotal <= 5 ) {
				listmax = 0
				buff = lang("住人はどのくらいいる" + _noka(1) + " …なに、" + ogDungeonStayersTotal + "人？それじゃ商売にならない" + _yo(), "How many people live there? ...Really, only " + ogDungeonStayersTotal + "? Then I won't be able to set up a profitable business there.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3835
					}
				}
				buff = ""
				goto *label_3785
			}
		}
		f = get_freeally()
		if ( f == 0 ) {
			buff = lang("案内してもらいたい" + _ga(3) + "仲間が多すぎるよう" + _da() + "人数を調整してまた来て" + _kure(), "It seems your party is already full. Come see me again when you're ready.")
			goto *label_3785
		}
		buff = lang("ちょうど住むところを探していた" + _nda() + "その街まで連れて行ってくれる" + _ka(1), "I was just looking for a place to live. Will you take me to the city?")
		list(0, listmax) = 1
		listn(0, listmax) = lang("いい", "Yes.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = lang("だめ", "No.")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( chatval == 1 ) {
			cRelation(tc) = RELATION_ALLY
			txtef COLOR_YELLOW
			txt -1, lang(name(tc) + "を街まで連れて行くことにした。", "Decided to take " + name(tc) + " to the city.")
			rc = tc
			gosub *label_3911
			cbitmod CHARA_BIT_GUARD_TEMP, rc, TRUE
			r1 = rc
			gosub *charaRefresh
			goto *label_3835
		}
		else {
			buff = lang("冷やかし" + _ka(1), "You kidding? ")
		}
		goto *label_3785
	}
	if ( chatval == 67 ) {
		ogdata(gLevel ) = 0
		arinamas = 0
		bugu = 0
		zakka = 0
		nandemo = 0
		yado = 0
		syokuryo = 0
		panya = 0
		turi = 0
		blackm = 0
		mahouten = 0
		kagu = 0
		mahousho = 0
		repeat 245 - 57, 57
			if ( cExist(cnt) != CHAR_STATE_DEAD ) {
				if ( cOrgRelation(cnt) == RELATION_NEUTRAL ) {
					if ( cRole(cnt) != ROLE_NONE ) {
						if ( cId(cnt) != CREATURE_ID_MAID ) {
							if ( cRole(cnt) != ROLE_PET_SENTRY & cRole(tc) != ROLE_PET_MAID ) {
								if ( cRole(cnt) != ROLE_MAYOR ) {
									ogdata(gLevel )++
								}
							}
						}
					}
				}
				if ( cRole(cnt) == ROLE_ARENA_MASTER ) {
					arinamas++
				}
				if ( cRole(cnt) == ROLE_SHOP_ARMOR ) {
					bugu++
				}
				if ( cRole(cnt) == ROLE_SHOP_GENERAL ) {
					zakka++
				}
				if ( cRole(cnt) == ROLE_SHOP_GOODS ) {
					nandemo++
				}
				if ( cRole(cnt) == ROLE_SHOP_INN ) {
					yado++
				}
				if ( cRole(cnt) == ROLE_SHOP_FOOD ) {
					syokuryo++
				}
				if ( cRole(cnt) == ROLE_SHOP_BAKERY ) {
					panya++
				}
				if ( cRole(cnt) == ROLE_SHOP_FISH ) {
					turi++
				}
				if ( cRole(cnt) == ROLE_SHOP_BLACKMARKET ) {
					blackm++
				}
				if ( cRole(cnt) == ROLE_SHOP_MAGIC ) {
					mahouten++
				}
				if ( cRole(cnt) == ROLE_SHOP_OFFICE ) {
					kagu++
				}
				if ( cRole(cnt) == ROLE_SHOP_BOOK_RESERVE ) {
					mahousho++
				}
			}
		loop
		f = get_freechara()
		if ( f == (-1) ) {
			buff = lang("こんなところ人が多すぎて住みたくない" + _na(), "I don't want to live in a place that is already way too crowded.")
			goto *label_3785
		}
		if ( ogdata(gLevel ) > 70 ) {
			buff = lang("こんなところ人が多すぎて住みたくない" + _na(), "I don't want to live in a place that is already way too crowded.")
			goto *label_3785
		}
		if ( ogdata(gLevel ) == 0 ) {
			wakatta = lang("どうやら" + _ore(3) + "が最初の住人のよう" + _dana(), "Apparently I will the first to live here.")
		}
		if ( ogdata(gLevel ) > 0 & ogdata(gLevel ) <= 5 ) {
			wakatta = lang("ほとんど人がいないよう" + _dana(), "There's almost nobody here.")
		}
		if ( ogdata(gLevel ) > 5 & ogdata(gLevel ) <= 10 ) {
			wakatta = lang("あまり人が多くないよう" + _dana(), "There doesn't seem to be many people around here.")
		}
		if ( ogdata(gLevel ) > 10 & ogdata(gLevel ) <= 15 ) {
			wakatta = lang("これからの発展に期待できそう" + _dana(), "I should be able to expand the town further from here on.")
		}
		if ( ogdata(gLevel ) > 15 & ogdata(gLevel ) <= 20 ) {
			wakatta = lang("小さい街" + _dana(), "It's a small town.")
		}
		if ( ogdata(gLevel ) > 20 & ogdata(gLevel ) <= 25 ) {
			wakatta = lang("なかなか悪くなさそうな街" + _dana(), "It's not a bad town.")
		}
		if ( ogdata(gLevel ) > 25 & ogdata(gLevel ) <= 30 ) {
			wakatta = lang("それなりに人の多い街" + _dana(), "There's a quite a lot of people in this town.")
		}
		if ( ogdata(gLevel ) > 30 & ogdata(gLevel ) <= 35 ) {
			wakatta = lang("思ったよりも賑やかな街" + _dana(), "It's a more lively town than I first thought.")
		}
		if ( ogdata(gLevel ) > 35 & ogdata(gLevel ) <= 40 ) {
			wakatta = lang("かなり活気のある街" + _dana(), "It's quite a lively town.")
		}
		if ( ogdata(gLevel ) > 40 & ogdata(gLevel ) <= 45 ) {
			wakatta = lang("とても大きな街" + _dana(), "It is a very big town.")
		}
		if ( ogdata(gLevel ) > 45 & ogdata(gLevel ) <= 50 ) {
			wakatta = lang("こんなに立派な街だとは思わなかった" + _yo(), "This is a much grander town than I first envisioned.")
		}
		if ( ogdata(gLevel ) > 50 ) {
			wakatta = lang("これ以上ないくらい素晴らしい街" + _dana(), "This is one of the best towns around.")
		}
		buff = lang(wakatta + _ore(3) + "は何をしたらいい" + _kana(1), "Alright, what should I do?")
		if ( cId(tc) == CREATURE_ID_ARENA_MASTER ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("アリーナマスター", "Arena Master.")
			listmax++
		}
		if ( cId(tc) == CREATURE_ID_GUARD | cId(tc) == CREATURE_ID_GUARD2 ) {
			list(0, listmax) = 2
			listn(0, listmax) = lang("ガード", "A guard.")
			listmax++
		}
		if ( cId(tc) == CREATURE_ID_SHOPKEEPER ) {
			list(0, listmax) = 3
			listn(0, listmax) = lang("武具店", "A blacksmith.")
			listmax++
			list(0, listmax) = 4
			listn(0, listmax) = lang("雑貨屋", "A general vendor.")
			listmax++
			list(0, listmax) = 5
			listn(0, listmax) = lang("何でも屋", "A goods vendor.")
			listmax++
			list(0, listmax) = 6
			listn(0, listmax) = lang("宿屋", "A innkeeper.")
			listmax++
			list(0, listmax) = 7
			listn(0, listmax) = lang("食品店", "A food vendor.")
			listmax++
			list(0, listmax) = 8
			listn(0, listmax) = lang("パン屋", "A baker.")
			listmax++
			list(0, listmax) = 9
			listn(0, listmax) = lang("釣具店", "A fishing vendor.")
			listmax++
			list(0, listmax) = 24
			listn(0, listmax) = lang("家具屋", "A furniture vendor.")
			listmax++
			if ( cKarma(CHARA_PLAYER) < 0 ) {
				list(0, listmax) = 10
				listn(0, listmax) = lang("ブラックマーケット", "A blackmarket vendor.")
				listmax++
				list(0, listmax) = 11
				listn(0, listmax) = lang("奴隷商人", "A slave master.")
				listmax++
			}
		}
		if ( cId(tc) == CREATURE_ID_CLEANER ) {
			list(0, listmax) = 12
			listn(0, listmax) = lang("清掃員", "A cleaner.")
			listmax++
		}
		if ( cId(tc) == CREATURE_ID_BARTENDER ) {
			list(0, listmax) = 13
			listn(0, listmax) = lang("バーテンダー", "A bartender.")
			listmax++
		}
		if ( cId(tc) == CREATURE_ID_HEALER ) {
			list(0, listmax) = 14
			listn(0, listmax) = lang("癒し手", "A healer.")
			listmax++
		}
		if ( cId(tc) == CREATURE_ID_INFORMER ) {
			list(0, listmax) = 15
			listn(0, listmax) = lang("情報屋", "A informer.")
			listmax++
		}
		if ( cId(tc) == CREATURE_ID_WIZARD ) {
			list(0, listmax) = 16
			listn(0, listmax) = lang("鑑定屋", "A appraiser.")
			listmax++
			list(0, listmax) = 17
			listn(0, listmax) = lang("魔法店", "A magic vendor.")
			listmax++
			if ( guildcheck(0) == "mage" & gRankGuild / 100 == 1 ) {
				list(0, listmax) = 25
				listn(0, listmax) = lang("魔法書作家", "A spell writer.")
				listmax++
			}
		}
		if ( cId(tc) == CREATURE_ID_SISTER ) {
			list(0, listmax) = 18
			listn(0, listmax) = lang("シスター", "A sister.")
			listmax++
		}
		if ( cId(tc) == CREATURE_ID_BARD ) {
			list(0, listmax) = 19
			listn(0, listmax) = lang("吟遊詩人", "A bard.")
			listmax++
		}
		if ( cId(tc) == CREATURE_ID_SAILOR ) {
			list(0, listmax) = 20
			listn(0, listmax) = lang("水夫", "A sailor.")
			listmax++
		}
		if ( cId(tc) == CREATURE_ID_CAPTAIN ) {
			list(0, listmax) = 21
			listn(0, listmax) = lang("船長", "A captain.")
			listmax++
		}
		if ( cId(tc) == CREATURE_ID_YOUNGER_SISTER ) {
			list(0, listmax) = 23
			listn(0, listmax) = lang("妹", "A younger sister.")
			listmax++
		}
		list(0, listmax) = 22
		listn(0, listmax) = lang("市民", "A citizen.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = lang("もう少し考える", "Give me some time to think about it.")
		listmax++
		chatesc = 1
		gosub *label_3836
		f = get_freechara()
		if ( chatval == 1 ) {
			if ( arinamas >= 1 ) {
				buff = lang("アリーナマスターはひとりで十分" + _daro(), "There can be only one Arena Master.")
				goto *label_3785
			}
			else {
				buff = lang("分かった" + _yo() + "これから" + _ore(3) + "はアリーナマスターをやる" + _yo(), "Ok. I will be an Arena Master from now on.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				txt -1, lang(name(tc) + "をアリーナマスターに任命した。", name(tc) + " appointed Arena Master.")
				cRelation(tc) = RELATION_NEUTRAL
				cOrgRelation(tc) = RELATION_NEUTRAL
				cRole(tc) = ROLE_ARENA_MASTER
				cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
				cbitmod CHARA_BIT_LEASHED, tc, FALSE
				cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
				cXorg(tc) = cX(tc)
				cYorg(tc) = cY(tc)
				relocate_chara tc, f
				snd SOUNDLIST_PRAY1
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3833
					}
				}
				goto *label_3833
			}
		}
		if ( chatval == 2 ) {
			buff = lang("分かった" + _yo() + "これから" + _ore(3) + "はガードをやる" + _yo(), "Ok. I will be a guard from now on.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			txt -1, lang(name(tc) + "をガードに任命した。", name(tc) + " appointed guard.")
			cRelation(tc) = RELATION_NEUTRAL
			cOrgRelation(tc) = RELATION_NEUTRAL
			cRole(tc) = ROLE_GUARD
			cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
			cbitmod CHARA_BIT_LEASHED, tc, FALSE
			cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
			cXorg(tc) = cX(tc)
			cYorg(tc) = cY(tc)
			relocate_chara tc, f
			snd SOUNDLIST_PRAY1
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3833
				}
			}
			goto *label_3833
		}
		if ( chatval == 3 ) {
			if ( bugu >= 1 ) {
				buff = lang("もう同業者がいるじゃない" + _ka() + "それじゃ商売にならない" + _yo(), "You already have someone else who set up shop. I won't be able to do this business.")
				goto *label_3785
			}
			else {
				buff = lang("分かった" + _yo() + "これから" + _ore(3) + "は武具店をやる" + _yo(), "Ok. I will be a blacksmith from now on.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				txt -1, lang(name(tc) + "を武具店に任命した。", name(tc) + " appointed blacksmith.")
				cRelation(tc) = RELATION_NEUTRAL
				cOrgRelation(tc) = RELATION_NEUTRAL
				cRole(tc) = ROLE_SHOP_ARMOR
				cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
				cbitmod CHARA_BIT_LEASHED, tc, FALSE
				cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
				cXorg(tc) = cX(tc)
				cYorg(tc) = cY(tc)
				cnName(tc) = lang("武具店の" + cnName(tc), cnName(tc) + " of blacksmith")
				snarmor cnName(tc)
				relocate_chara tc, f
				snd SOUNDLIST_PRAY1
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3833
					}
				}
				goto *label_3833
			}
		}
		if ( chatval == 4 ) {
			if ( zakka >= 1 ) {
				buff = lang("もう同業者がいるじゃない" + _ka() + "それじゃ商売にならない" + _yo(), "You already have someone else who set up shop. I won't be able to do this business.")
				goto *label_3785
			}
			else {
				buff = lang("分かった" + _yo() + "これから" + _ore(3) + "は雑貨屋をやる" + _yo(), "Ok. I will be a general vendor from now on.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				txt -1, lang(name(tc) + "を雑貨屋に任命した。", name(tc) + " appointed general vendor.")
				cRelation(tc) = RELATION_NEUTRAL
				cOrgRelation(tc) = RELATION_NEUTRAL
				cRole(tc) = ROLE_SHOP_GENERAL
				cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
				cbitmod CHARA_BIT_LEASHED, tc, FALSE
				cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
				cXorg(tc) = cX(tc)
				cYorg(tc) = cY(tc)
				sngeneral cnName(tc)
				relocate_chara tc, f
				snd SOUNDLIST_PRAY1
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3833
					}
				}
				goto *label_3833
			}
		}
		if ( chatval == 5 ) {
			if ( nandemo >= 1 ) {
				buff = lang("もう同業者がいるじゃない" + _ka() + "それじゃ商売にならない" + _yo(), "You already have someone else who set up shop. I won't be able to do this business.")
				goto *label_3785
			}
			else {
				buff = lang("分かった" + _yo() + "これから" + _ore(3) + "は何でも屋をやる" + _yo(), "Ok. I will be a goods vendor from now on.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				txt -1, lang(name(tc) + "を何でも屋に任命した。", name(tc) + " appointed goods vendor.")
				cRelation(tc) = RELATION_NEUTRAL
				cOrgRelation(tc) = RELATION_NEUTRAL
				cRole(tc) = ROLE_SHOP_GOODS
				cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
				cbitmod CHARA_BIT_LEASHED, tc, FALSE
				cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
				cXorg(tc) = cX(tc)
				cYorg(tc) = cY(tc)
				sngoods cnName(tc)
				relocate_chara tc, f
				snd SOUNDLIST_PRAY1
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3833
					}
				}
				goto *label_3833
			}
		}
		if ( chatval == 6 ) {
			if ( yado >= 1 ) {
				buff = lang("もう同業者がいるじゃない" + _ka() + "それじゃ商売にならない" + _yo(), "You already have someone else who set up shop. I won't be able to do this business.")
				goto *label_3785
			}
			else {
				buff = lang("分かった" + _yo() + "これから" + _ore(3) + "は宿屋をやる" + _yo(), "Ok. I will be an innkeeper from now on.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				txt -1, lang(name(tc) + "を宿屋に任命した。", name(tc) + " appointed innkeeper.")
				cRelation(tc) = RELATION_NEUTRAL
				cOrgRelation(tc) = RELATION_NEUTRAL
				cRole(tc) = ROLE_SHOP_INN
				cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
				cbitmod CHARA_BIT_LEASHED, tc, FALSE
				cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
				cXorg(tc) = cX(tc)
				cYorg(tc) = cY(tc)
				sninn cnName(tc)
				relocate_chara tc, f
				snd SOUNDLIST_PRAY1
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3833
					}
				}
				goto *label_3833
			}
		}
		if ( chatval == 7 ) {
			if ( syokuryo >= 1 ) {
				buff = lang("もう同業者がいるじゃない" + _ka() + "それじゃ商売にならない" + _yo(), "You already have someone else who set up shop. I won't be able to do this business.")
				goto *label_3785
			}
			else {
				buff = lang("分かった" + _yo() + "これから" + _ore(3) + "は食品店をやる" + _yo(), "Ok. I will be a food vendor from now on.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				txt -1, lang(name(tc) + "を食品店に任命した。", name(tc) + " appointed food vendor.")
				cRelation(tc) = RELATION_NEUTRAL
				cOrgRelation(tc) = RELATION_NEUTRAL
				cRole(tc) = ROLE_SHOP_FOOD
				cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
				cbitmod CHARA_BIT_LEASHED, tc, FALSE
				cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
				cXorg(tc) = cX(tc)
				cYorg(tc) = cY(tc)
				snfood cnName(tc)
				relocate_chara tc, f
				snd SOUNDLIST_PRAY1
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3833
					}
				}
				goto *label_3833
			}
		}
		if ( chatval == 8 ) {
			if ( panya >= 1 ) {
				buff = lang("もう同業者がいるじゃない" + _ka() + "それじゃ商売にならない" + _yo(), "You already have someone else who set up shop. I won't be able to do this business.")
				goto *label_3785
			}
			else {
				buff = lang("分かった" + _yo() + "これから" + _ore(3) + "はパン屋をやる" + _yo(), "Ok. I will be a baker from now on.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				txt -1, lang(name(tc) + "をパン屋に任命した。", name(tc) + " appointed baker.")
				cRelation(tc) = RELATION_NEUTRAL
				cOrgRelation(tc) = RELATION_NEUTRAL
				cRole(tc) = ROLE_SHOP_BAKERY
				cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
				cbitmod CHARA_BIT_LEASHED, tc, FALSE
				cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
				cXorg(tc) = cX(tc)
				cYorg(tc) = cY(tc)
				snbakery cnName(tc)
				relocate_chara tc, f
				snd SOUNDLIST_PRAY1
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3833
					}
				}
				goto *label_3833
			}
		}
		if ( chatval == 9 ) {
			if ( turi >= 1 ) {
				buff = lang("もう同業者がいるじゃない" + _ka() + "それじゃ商売にならない" + _yo(), "You already have someone else who set up shop. I won't be able to do this business.")
				goto *label_3785
			}
			else {
				buff = lang("分かった" + _yo() + "これから" + _ore(3) + "は釣具店をやる" + _yo(), "Ok. I will be a fishing vendor from now on.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				txt -1, lang(name(tc) + "を釣具店に任命した。", name(tc) + " appointed fishing vendor.")
				cRelation(tc) = RELATION_NEUTRAL
				cOrgRelation(tc) = RELATION_NEUTRAL
				cRole(tc) = ROLE_SHOP_FISH
				cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
				cbitmod CHARA_BIT_LEASHED, tc, FALSE
				cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
				cXorg(tc) = cX(tc)
				cYorg(tc) = cY(tc)
				snfish cnName(tc)
				relocate_chara tc, f
				snd SOUNDLIST_PRAY1
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3833
					}
				}
				goto *label_3833
			}
		}
		if ( chatval == 10 ) {
			if ( blackm >= 1 ) {
				buff = lang("もう同業者がいるじゃない" + _ka() + "それじゃ商売にならない" + _yo(), "You already have someone else who set up shop. I won't be able to do this business.")
				goto *label_3785
			}
			else {
				buff = lang("分かった" + _yo() + "これから" + _ore(3) + "はブラックマーケットをやる" + _yo(), "Ok. I will be a blackmarket vendor from now on.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				txt -1, lang(name(tc) + "をブラックマーケットに任命した。", name(tc) + " appointed blackmarket vendor.")
				cRelation(tc) = RELATION_NEUTRAL
				cOrgRelation(tc) = RELATION_NEUTRAL
				cRole(tc) = ROLE_SHOP_BLACKMARKET
				cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
				cbitmod CHARA_BIT_LEASHED, tc, FALSE
				cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
				cXorg(tc) = cX(tc)
				cYorg(tc) = cY(tc)
				snblack cnName(tc)
				relocate_chara tc, f
				snd SOUNDLIST_PRAY1
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3833
					}
				}
				goto *label_3833
			}
		}
		if ( chatval == 11 ) {
			buff = lang("分かった" + _yo() + "これから" + _ore(3) + "は奴隷商人をやる" + _yo(), "Ok. I will be a slave master from now on.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			txt -1, lang(name(tc) + "を奴隷商人に任命した。", name(tc) + " appointed slave master.")
			cRelation(tc) = RELATION_NEUTRAL
			cOrgRelation(tc) = RELATION_NEUTRAL
			cRole(tc) = ROLE_SLAVER
			cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
			cbitmod CHARA_BIT_LEASHED, tc, FALSE
			cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
			cXorg(tc) = cX(tc)
			cYorg(tc) = cY(tc)
			namae = refchara(cId(tc), DBSPEC_CHARA_NAME_ORG, 1) + "の"
			if ( instr(cnName(tc), 0, namae) != (-1) ) {
				delstr cnName(tc), namae
			}
			cnName(tc) = lang("奴隷商人の" + cnName(tc), sncnv(cnName(tc)) + " the slave master")
			relocate_chara tc, f
			snd SOUNDLIST_PRAY1
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3833
				}
			}
			goto *label_3833
		}
		if ( chatval == 12 ) {
			buff = lang("分かった" + _yo() + "これから" + _ore(3) + "は清掃員をやる" + _yo(), "Ok. I will be a cleaner from now on.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			txt -1, lang(name(tc) + "を清掃員に任命した。", name(tc) + " appointed cleaner.")
			cRelation(tc) = RELATION_NEUTRAL
			cOrgRelation(tc) = RELATION_NEUTRAL
			cRole(tc) = ROLE_SPECIAL
			cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
			cbitmod CHARA_BIT_LEASHED, tc, FALSE
			cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
			cXorg(tc) = cX(tc)
			cYorg(tc) = cY(tc)
			relocate_chara tc, f
			snd SOUNDLIST_PRAY1
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3833
				}
			}
			goto *label_3833
		}
		if ( chatval == 13 ) {
			buff = lang("分かった" + _yo() + "これから" + _ore(3) + "はバーテンダーをやる" + _yo(), "Ok. I will be a bartender from now on.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			txt -1, lang(name(tc) + "をバーテンダーに任命した。", name(tc) + " appointed bartender.")
			cRelation(tc) = RELATION_NEUTRAL
			cOrgRelation(tc) = RELATION_NEUTRAL
			cRole(tc) = ROLE_BARTENDER
			cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
			cbitmod CHARA_BIT_LEASHED, tc, FALSE
			cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
			cXorg(tc) = cX(tc)
			cYorg(tc) = cY(tc)
			relocate_chara tc, f
			snd SOUNDLIST_PRAY1
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3833
				}
			}
			goto *label_3833
		}
		if ( chatval == 14 ) {
			buff = lang("分かった" + _yo() + "これから" + _ore(3) + "は癒し手をやる" + _yo(), "Ok. I will be a healer from now on.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			txt -1, lang(name(tc) + "を癒し手に任命した。", name(tc) + " appointed healer.")
			cRelation(tc) = RELATION_NEUTRAL
			cOrgRelation(tc) = RELATION_NEUTRAL
			cRole(tc) = ROLE_HEALER
			cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
			cbitmod CHARA_BIT_LEASHED, tc, FALSE
			cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
			cXorg(tc) = cX(tc)
			cYorg(tc) = cY(tc)
			relocate_chara tc, f
			snd SOUNDLIST_PRAY1
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3833
				}
			}
			goto *label_3833
		}
		if ( chatval == 15 ) {
			buff = lang("分かった" + _yo() + "これから" + _ore(3) + "は情報屋をやる" + _yo(), "Ok. I will be a informer from now on.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			txt -1, lang(name(tc) + "を情報屋に任命した。", name(tc) + " appointed informer.")
			cRelation(tc) = RELATION_NEUTRAL
			cOrgRelation(tc) = RELATION_NEUTRAL
			cRole(tc) = ROLE_INFORMER
			cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
			cbitmod CHARA_BIT_LEASHED, tc, FALSE
			cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
			cXorg(tc) = cX(tc)
			cYorg(tc) = cY(tc)
			relocate_chara tc, f
			snd SOUNDLIST_PRAY1
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3833
				}
			}
			goto *label_3833
		}
		if ( chatval == 16 ) {
			buff = lang("分かった" + _yo() + "これから" + _ore(3) + "は鑑定屋をやる" + _yo(), "Ok. I will be an appraiser from now on.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			txt -1, lang(name(tc) + "を鑑定屋に任命した。", name(tc) + " appointed appraiser.")
			cRelation(tc) = RELATION_NEUTRAL
			cOrgRelation(tc) = RELATION_NEUTRAL
			cRole(tc) = ROLE_IDENTIFIER
			cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
			cbitmod CHARA_BIT_LEASHED, tc, FALSE
			cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
			cXorg(tc) = cX(tc)
			cYorg(tc) = cY(tc)
			relocate_chara tc, f
			snd SOUNDLIST_PRAY1
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3833
				}
			}
			goto *label_3833
		}
		if ( chatval == 17 ) {
			if ( mahouten >= 1 ) {
				buff = lang("もう同業者がいるじゃない" + _ka() + "それじゃ商売にならない" + _yo(), "You already have someone else who set up shop. I won't be able to do this business.")
				goto *label_3785
			}
			else {
				buff = lang("分かった" + _yo() + "これから" + _ore(3) + "は魔法店をやる" + _yo(), "Ok. I will be an magic vendor from now on.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				txt -1, lang(name(tc) + "を魔法店に任命した。", name(tc) + " appointed magic vendor.")
				cRelation(tc) = RELATION_NEUTRAL
				cOrgRelation(tc) = RELATION_NEUTRAL
				cRole(tc) = ROLE_SHOP_MAGIC
				cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
				cbitmod CHARA_BIT_LEASHED, tc, FALSE
				cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
				cXorg(tc) = cX(tc)
				cYorg(tc) = cY(tc)
				snmagic cnName(tc)
				relocate_chara tc, f
				snd SOUNDLIST_PRAY1
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3833
					}
				}
				goto *label_3833
			}
		}
		if ( chatval == 18 ) {
			buff = lang("分かった" + _yo() + "これから" + _ore(3) + "はシスターをやる" + _yo(), "Ok. I will be a sister from now on.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			txt -1, lang(name(tc) + "をシスターに任命した。", name(tc) + " appointed sister.")
			cRelation(tc) = RELATION_NEUTRAL
			cOrgRelation(tc) = RELATION_NEUTRAL
			cRole(tc) = ROLE_SISTER
			cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
			cbitmod CHARA_BIT_LEASHED, tc, FALSE
			cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
			cXorg(tc) = cX(tc)
			cYorg(tc) = cY(tc)
			relocate_chara tc, f
			snd SOUNDLIST_PRAY1
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3833
				}
			}
			goto *label_3833
		}
		if ( chatval == 19 ) {
			buff = lang("分かった" + _yo() + "これから" + _ore(3) + "は吟遊詩人をやる" + _yo(), "Ok. I will be a bard from now on.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			txt -1, lang(name(tc) + "を吟遊詩人に任命した。", name(tc) + " appointed bard.")
			cRelation(tc) = RELATION_NEUTRAL
			cOrgRelation(tc) = RELATION_NEUTRAL
			cRole(tc) = ROLE_SPECIAL
			cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
			cbitmod CHARA_BIT_LEASHED, tc, FALSE
			cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
			cXorg(tc) = cX(tc)
			cYorg(tc) = cY(tc)
			relocate_chara tc, f
			snd SOUNDLIST_PRAY1
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3833
				}
			}
			goto *label_3833
		}
		if ( chatval == 20 ) {
			buff = lang("分かった" + _yo() + "これから" + _ore(3) + "は水夫をやる" + _yo(), "Ok. I will be a sailor from now on.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			txt -1, lang(name(tc) + "を水夫に任命した。", name(tc) + " appointed sailor.")
			cRelation(tc) = RELATION_NEUTRAL
			cOrgRelation(tc) = RELATION_NEUTRAL
			cRole(tc) = ROLE_CITIZEN
			cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
			cbitmod CHARA_BIT_LEASHED, tc, FALSE
			cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
			cXorg(tc) = cX(tc)
			cYorg(tc) = cY(tc)
			relocate_chara tc, f
			snd SOUNDLIST_PRAY1
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3833
				}
			}
			goto *label_3833
		}
		if ( chatval == 21 ) {
			buff = lang("分かった" + _yo() + "これから" + _ore(3) + "は船長をやる" + _yo(), "Ok. I will be a captain from now on.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			txt -1, lang(name(tc) + "を船長に任命した。", name(tc) + " appointed captain.")
			cRelation(tc) = RELATION_NEUTRAL
			cOrgRelation(tc) = RELATION_NEUTRAL
			cRole(tc) = ROLE_CITIZEN
			cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
			cbitmod CHARA_BIT_LEASHED, tc, FALSE
			cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
			cXorg(tc) = cX(tc)
			cYorg(tc) = cY(tc)
			relocate_chara tc, f
			snd SOUNDLIST_PRAY1
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3833
				}
			}
			goto *label_3833
		}
		if ( chatval == 23 ) {
			buff = lang("分かった" + _yo(3) + "、" + _onii(cSex(CHARA_PLAYER)) + "ちゃん！これからも" + _ore(3) + "は妹をやる" + _yo(), "Ok, " + _onii(cSex(CHARA_PLAYER)) + "chan! I will be a younger sister as I am.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			txt -1, lang(name(tc) + "を妹に任命した。", name(tc) + " appointed younger sister.")
			cRelation(tc) = RELATION_NEUTRAL
			cOrgRelation(tc) = RELATION_NEUTRAL
			cRole(tc) = ROLE_CITIZEN
			cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
			cbitmod CHARA_BIT_LEASHED, tc, FALSE
			cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
			cXorg(tc) = cX(tc)
			cYorg(tc) = cY(tc)
			relocate_chara tc, f
			snd SOUNDLIST_PRAY1
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3833
				}
			}
			goto *label_3833
		}
		if ( chatval == 24 ) {
			if ( kagu >= 2 ) {
				buff = lang("もう同業者が2人もいるじゃない" + _ka() + "それじゃ商売にならない" + _yo(), "You already have someone else who set up shop. I won't be able to do this business.")
				goto *label_3785
			}
			else {
				buff = lang("分かった" + _yo() + "これから" + _ore(3) + "は家具屋をやる" + _yo(), "Ok. I will be a furniture vendor from now on.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				txt -1, lang(name(tc) + "を家具屋に任命した。", name(tc) + " appointed furniture vendor.")
				cRelation(tc) = RELATION_NEUTRAL
				cOrgRelation(tc) = RELATION_NEUTRAL
				cRole(tc) = ROLE_SHOP_OFFICE
				cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
				cbitmod CHARA_BIT_LEASHED, tc, FALSE
				cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
				cXorg(tc) = cX(tc)
				cYorg(tc) = cY(tc)
				cnName(tc) = lang("家具屋の" + cnName(tc), sncnv(cnName(tc)) + " the furniture vendor")
				relocate_chara tc, f
				snd SOUNDLIST_PRAY1
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3833
					}
				}
				goto *label_3833
			}
		}
		if ( chatval == 25 ) {
			if ( mahousho >= 1 ) {
				buff = lang("もう同業者がいるじゃない" + _ka() + "それじゃ商売にならない" + _yo(), "You already have someone else who set up shop. I won't be able to do this business.")
				goto *label_3785
			}
			else {
				buff = lang("分かった" + _yo() + "これから" + _ore(3) + "は魔法書作家をやる" + _yo(), "Ok. I will be a spell writer from now on.")
				tc = tc * (0 == 0) + (0 != 0) * 0
				list(0, listmax) = 0
				listn(0, listmax) = strmore
				listmax++
				chatesc = 1
				gosub *label_3836
				txt -1, lang(name(tc) + "を魔法書作家に任命した。", name(tc) + " appointed spell writer.")
				cRelation(tc) = RELATION_NEUTRAL
				cOrgRelation(tc) = RELATION_NEUTRAL
				cRole(tc) = ROLE_SHOP_BOOK_RESERVE
				cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
				cbitmod CHARA_BIT_LEASHED, tc, FALSE
				cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
				cXorg(tc) = cX(tc)
				cYorg(tc) = cY(tc)
				cnName(tc) = lang("魔法書作家の" + cnName(tc), sncnv(cnName(tc)) + " the spell writer")
				relocate_chara tc, f
				snd SOUNDLIST_PRAY1
				if ( scenemode ) {
					if ( scene_cut == 1 ) {
						goto *label_3833
					}
				}
				goto *label_3833
			}
		}
		if ( chatval == 22 ) {
			buff = lang("分かった" + _yo() + "これから" + _ore(3) + "は市民をやる" + _yo(), "Ok. I will be a citizen from now on.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			txt -1, lang(name(tc) + "を市民に任命した。", name(tc) + " appointed citizen.")
			cRelation(tc) = RELATION_NEUTRAL
			cOrgRelation(tc) = RELATION_NEUTRAL
			cRole(tc) = ROLE_CITIZEN
			cbitmod CHARA_BIT_STETHOSCOPE, tc, FALSE
			cbitmod CHARA_BIT_LEASHED, tc, FALSE
			cbitmod CHARA_BIT_GUARD_TEMP, tc, FALSE
			cXorg(tc) = cX(tc)
			cYorg(tc) = cY(tc)
			namae = refchara(cId(tc), DBSPEC_CHARA_NAME_ORG, 1) + "の"
			if ( instr(cnName(tc), 0, namae) != (-1) ) {
				delstr cnName(tc), namae
			}
			cnName(tc) = lang("市民の" + cnName(tc), sncnv(cnName(tc)) + " the citizen")
			cId(tc) = CREATURE_ID_CITIZEN2
			relocate_chara tc, f
			snd SOUNDLIST_PRAY1
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3833
				}
			}
			goto *label_3833
		}
		if ( chatval == 0 ) {
			buff = lang("分かった" + _yo() + "それじゃ決まったら教えて" + _kure(), "Ok. Let me know when you decide.")
			goto *label_3785
		}
	}
	if ( chatval == 68 ) {
		listmax = 0
		buff = lang("(" + name(tc) + "は悲しそうな目であなたを見ている。本当に街を追い出す？)", "(" + name(tc) + " looks at you sadly. Really dismiss " + him(tc) + "? )")
		list(0, listmax) = 1
		listn(0, listmax) = lang("追い出す", "Yes.")
		listmax++
		list(0, listmax) = 0
		listn(0, listmax) = lang("やめる", "No.")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( chatval == 1 ) {
			ctalk tc, 1317, 0, tc
			if ( stat == 0 ) {
				buff = lang(_ore(3) + "の何がいけなかった" + _noka(2), "Why not?!")
			}
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			ctalk tc, 1318, 0, tc
			if ( stat == 0 ) {
				txt -1, lang(name(tc) + "は火をかぶった！", name(tc) + " attempted self-immolation!")
			}
			addmef cX(CHARA_PLAYER), cY(CHARA_PLAYER), MEF_TYPE_FIRE, xy2pic(24, 0), rnd(15) + 25, 100, CHARA_PLAYER
			mapitem_fire cX(tc), cY(tc)
			dmghp tc, 999999, DAMAGE_FROM_FIRE
			chara_vanquish tc
			goto *label_3833
		}
		buff = ""
		goto *label_3785
	}
	if ( chatval == 69 ) {
		f = get_freeally()
		if ( f == 0 ) {
			listmax = 0
			buff = lang("仲間が多すぎる" + _na() + _kimi(3) + "はこれ以上養えない" + _yo(), "There are too many allies. There is no room to care for more.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			goto *label_3785
		}
		listmax = 0
		ctalk tc, 1018, 0, tc
		if ( stat == 0 ) {
			buff = lang("いやん、あなたったら…", "*blush*")
		}
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		ogMakeChildPartner = tc
		cbitmod CHARA_BIT_MAKE_GENE, tc, TRUE
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		goto *label_3835
	}
	if ( chatval == 70 ) {
		if ( areaCanSave(gArea ) == 1 ) {
			kaiso = lang("地上1階だけ", "only 1st floor above ground")
		}
		else {
			kaiso = lang("地下" + (areaCanSave(gArea ) - 1) + "階まで", "up to " + (areaCanSave(gArea ) - 1) + " basements levels")
		}
		listmax = 0
		buff = lang("現在は" + kaiso + "使用可能" + _da() + "この階には" + ogdata(gLevel ) + "人の住人がいる" + _na() + "街全体では" + ogDungeonStayersTotal + "人が生活している" + _nda(), "Currently it is possible to use " + kaiso + ". There are " + ogdata(gLevel ) + " inhabitants on this floor. " + ogDungeonStayersTotal + " people live in the entire city.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		buff = ""
		goto *label_3785
	}
	if ( chatval == 71 ) {
		if ( ogDungeonEventFlag != 0 ) {
			snd SOUNDLIST_FAIL1
			txt -1, lang("ダンジョン内イベント進行中はメイド長を変更できない。", "Can not change head maid while a dungeon event is in progress.")
			buff = ""
			goto *label_3785
		}
		repeat 245 - 57, 57
			if ( cId(cnt) == CREATURE_ID_MAID ) {
				cQuality(cnt) = FIX_QUALITY_GOOD
				if ( instr(cnName(cnt), 0, lang("メイド長", "the head maid")) != (-1) ) {
					sreplace cnName(cnt), cnName(cnt), lang("メイド長", "the head maid"), lang("メイド", "the maid")
				}
			}
		loop
		cQuality(tc) = FIX_QUALITY_UNIQUE
		ogHeadMaidFloor = gLevel 
		listmax = 0
		buff = lang("分かった" + _yo() + "これからは" + _ore(3) + "がメイド長をやる" + _yo(), "Understood. From now on I will be acting as your head maid.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		txt -1, lang(name(tc) + "をメイド長に任命した。", name(tc) + " appointed head maid.")
		if ( instr(cnName(tc), 0, lang("メイド", "the maid")) != (-1) ) {
			sreplace cnName(tc), cnName(tc), lang("メイド", "the maid"), lang("メイド長", "the head maid")
		}
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
		buff = ""
		goto *label_3785
	}
	if ( chatval == 72 ) {
		goto *label_3828
	}
	if ( chatval == 78 ) {
		if ( cKarma(CHARA_PLAYER) < (-30) ) {
			listmax = 0
			buff = lang("まずはその罪をなんとかしないと、犯罪者の街なんて誰も来てくれない" + _yo(), "No one wants to come to a city of criminals.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			goto *label_3785
		}
		if ( cFame(CHARA_PLAYER) < 20000 ) {
			listmax = 0
			buff = lang("もっと有名にならないと、誰も来てくれない" + _yo(), "If you don't get more fame, no one will come to you.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			goto *label_3785
		}
		if ( getgametime() <= ncgImmigrantVisitPeriod ) {
			listmax = 0
			buff = lang("今は移住希望者はいない" + _yo(), "There's no one who wants to move here right now.")
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			goto *label_3785
		}
		f = get_freechara()
		if ( f == (-1) ) {
			txt -1, lang("人が多すぎて、これ以上移住者を増やせない" + _yo(), "There are too many people and we can't have more immigrants.")
			goto *chat_event_SWEND1
		}
		listmax = 0
		buff = lang("ちょうど今、移住希望者がいる" + _yo() + "経費で100,000 goldかかるけど、いい" + _kana(), "Just now, there's a prospective immigrant. It's going to cost 100,000 gold for expenses?")
		if ( cGold(CHARA_PLAYER) >= 100000 | ncgGoldOverflow > 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("払う", "Pay.")
			listmax++
		}
		list(0, listmax) = 0
		listn(0, listmax) = lang("やめる", "Now not.")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( chatval == 1 ) {
			f = get_freeally()
			if ( f == 0 ) {
				buff = lang("仲間が多すぎる" + _yo() + "人数を調整してまた来て" + _kure(), "It seems your party is already full. Come see me again when you're ready.")
				goto *label_3785
			}
			snd SOUNDLIST_PAYGOLD1
			cGold(CHARA_PLAYER) -= 100000
			gosub *label_0422
			ncgImmigrantVisitPeriod = getgametime() + 8640
			listmax = 0
			buff = lang("まかせて" + _yo() + "その人を連れてくるから、案内は任せた" + _yo(), "I'll take care of it right away! I'll leave you to guide that man."), "", "", "", "", "", "", "", ""
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			charakind = rnd(19)
			flt
			novoidlv = 1
			if ( charakind == 0 ) {
				characreate -1, CREATURE_ID_ARENA_MASTER, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			if ( charakind == 1 ) {
				characreate -1, CREATURE_ID_GUARD, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			if ( charakind == 2 ) {
				characreate -1, CREATURE_ID_GUARD2, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			if ( charakind == 3 ) {
				characreate -1, CREATURE_ID_SHOPKEEPER, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			if ( charakind == 4 ) {
				characreate -1, CREATURE_ID_CLEANER, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			if ( charakind == 5 ) {
				characreate -1, CREATURE_ID_BARTENDER, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			if ( charakind == 6 ) {
				characreate -1, CREATURE_ID_HEALER, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			if ( charakind == 7 ) {
				characreate -1, CREATURE_ID_INFORMER, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			if ( charakind == 8 ) {
				characreate -1, CREATURE_ID_WIZARD, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			if ( charakind == 9 ) {
				characreate -1, CREATURE_ID_SISTER, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			if ( charakind == 10 ) {
				characreate -1, CREATURE_ID_BARD, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			if ( charakind == 11 ) {
				characreate -1, CREATURE_ID_CITIZEN2, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			if ( charakind == 12 ) {
				characreate -1, CREATURE_ID_CITIZEN2, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			if ( charakind == 13 ) {
				characreate -1, CREATURE_ID_CITIZEN, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			if ( charakind == 14 ) {
				characreate -1, CREATURE_ID_CITIZEN, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			if ( charakind == 15 ) {
				characreate -1, CREATURE_ID_SAILOR, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			if ( charakind == 16 ) {
				characreate -1, CREATURE_ID_SAILOR, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			if ( charakind == 17 ) {
				characreate -1, CREATURE_ID_CAPTAIN, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			if ( charakind == 18 ) {
				characreate -1, CREATURE_ID_YOUNGER_SISTER, cX(CHARA_PLAYER), cY(CHARA_PLAYER)
			}
			cRelation(rc) = RELATION_NEUTRAL
			cOrgRelation(rc) = RELATION_NEUTRAL
			cRole(rc) = 10000
			cRelation(rc) = RELATION_ALLY
			gosub *label_3911
			cbitmod CHARA_BIT_GUARD_TEMP, rc, TRUE
			r1 = rc
			gosub *charaRefresh
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			buff = ""
			goto *label_3785
		}
		else {
			ctalk tc, 1133, tc, tc
			if ( stat == 0 ) {
				buff = lang("冷やかし" + _ka(1), "You kidding? ")
			}
		}
		goto *label_3785
	}
	if ( chatval == 151 ) {
		goto *label_3830
	}
	if ( chatval == 152 ) {
		goto *label_3832
	}
	if ( chatval == 73 ) {
		allyctrl = 2
		gosub *label_2694
		if ( stat != (-1) ) {
			rc = stat
			if ( cExist(rc) == CHAR_STATE_ALIVE ) {
				buff = lang("生きてる" + _daro(), "Huh? You don't need to do that.")
				goto *label_3785
			}
			listmax = 0
			resurrectvalue = calcresurrectvalue(rc) * 13 / 10
			buff = lang("復活させるには、" + thousandsep(str(resurrectvalue)) + strgold + "必要" + _da(), "Alright. We had taken good care of your pet. It will cost you " + resurrectvalue + " gold pieces.")
			if ( cGold(CHARA_PLAYER) >= resurrectvalue | ncgGoldOverflow > 0 ) {
				list(0, listmax) = 1
				listn(0, listmax) = lang("復活させる", "I'll pay.")
				listmax++
			}
			list(0, listmax) = 0
			listn(0, listmax) = lang("やめる", "Never mind.")
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( chatval == 1 ) {
				snd SOUNDLIST_PAYGOLD1
				cGold(CHARA_PLAYER) -= resurrectvalue
				gosub *label_0422
				buff = lang("治療が完了し" + _ta(), "Done treatment. Take care!")
				gosub *label_1716
				cHP(rc) = cMHP(rc)
				cMP(rc) = cMMP(rc)
				cSP(rc) = cMSP(rc)
			}
			else {
				buff = lang("冷やかし" + _ka(1), "You kidding? ")
			}
		}
		else {
			buff = lang("冷やかし" + _ka(1), "You kidding? ")
		}
		goto *label_3785
	}
	if ( chatval == 74 ) {
		goto *label_4556
	}
	if ( chatval == 76 ) {
		listmax = 0
		ctalk tc, 1131, tc, tc
		if ( stat == 0 ) {
			buff = lang("100,000 goldで招待状を送る" + _noka(1), "Shall I send letters of invitation? It will cost 100,000 gold pieces.")
		}
		if ( cGold(CHARA_PLAYER) >= 100000 | ncgGoldOverflow > 0 ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("送る", "Send.")
			listmax++
		}
		list(0, listmax) = 0
		listn(0, listmax) = lang("やめる", "Now not.")
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( chatval == 1 ) {
			snd SOUNDLIST_PAYGOLD1
			cGold(CHARA_PLAYER) -= 100000
			gosub *label_0422
			cRoleRestock(tc) = getgametime() + 3 * 24
			listmax = 0
			ctalk tc, 1132, tc, tc
			if ( stat == 0 ) {
				buff = lang("まかせて" + _yo(), "I'll take care of it right away!"), "", "", "", "", "", "", "", ""
			}
			tc = tc * (0 == 0) + (0 != 0) * 0
			list(0, listmax) = 0
			listn(0, listmax) = strmore
			listmax++
			chatesc = 1
			gosub *label_3836
			if ( scenemode ) {
				if ( scene_cut == 1 ) {
					goto *label_3835
				}
			}
			buff = ""
			goto *label_3785
		}
		else {
			ctalk tc, 1133, tc, tc
			if ( stat == 0 ) {
				buff = lang("冷やかし" + _ka(1), "You kidding? ")
			}
		}
		goto *label_3785
	}
	if ( chatval == 101 ) {
		gosub *label_4981
		buff = lang("お目当ての情報は見つかった" + _kana(), "Done?")
		goto *label_3785
	}
	if ( chatval == 77 ) {
		listmax = 0
		if ( inv_getfreeid(CHARA_PLAYER) == (-1) ) {
			txt -1, lang("所持品が一杯で受け取れなかった…", "Your inventory is full...")
			goto *label_3785
		}
		listmax = 0
		ctalk tc, 1155, 0, tc
		if ( stat == 0 ) {
			ctalk tc, 1001, 0, tc
			if ( stat == 0 ) {
				buff = lang("はい…喜んで。", "With preasure.")
			}
		}
		flt
		if ( finditemid("jewel of love") ) {
			inititemid = stat
			itemcreate CHARA_PLAYER, ITEM_ID_CARNEADES_PLANK, -1, -1, 0
			if ( stat != 0 ) {
				iSubName(ci) = cId(tc)
				if ( iSubName(ci) == 343 ) {
					iCNpcId(ci) = cUNID(tc)
					ICNpcSerialNo(ci) = createserialno(userdatan(0, cUNID(tc)))
				}
				iStatus(ci) = ITEM_STATUS_NORMAL
				iKnown(ci) = ITEM_KNOWN_FULL
				item_stack CHARA_PLAYER, ci, 1
			}
			ocOOMSEKumiromiExpNextLevel(tc) = getgametime() + 8640
			snd SOUNDLIST_PRAY1
			txtef COLOR_YELLOW
			txt -1, lang(name(tc) + "に" + itemname(ci, 1) + "をもらった！", "You receive " + itemname(ci, 1) + "!")
			ncgLoveJewels += 1
			if ( ogTitleFaunus == 0 ) {
				if ( ncgLoveJewels >= 1000 ) {
					f = 1
					ogTitleFaunus = 1
				}
			}
			if ( f == 1 ) {
				snd SOUNDLIST_WRITE1
				txtef COLOR_GREEN
				txt -1, lang("新しい称号を獲得した！", "Earned a new title!")
			}
		}
		goto *label_3785
	}
	if ( chatval >= 10000 & chatval < 20000 ) {
		clientguide
		rc = rtval(chatval - 10000)
		s = direction2(0, rc)
		p = dist(cX(CHARA_PLAYER), cY(CHARA_PLAYER), cX(rc), cY(rc))
		repeat 1
			if ( rc == tc ) {
				s = lang("冷やかし" + _ka(1), "You kidding? ")
				break
			}
			if ( cExist(rc) != CHAR_STATE_ALIVE ) {
				s = lang("奴なら今は死んでいる" + _yo(2), "Oh forget it, dead for now.")
				break
			}
			if ( p < 6 ) {
				s = lang(cnName(rc) + "ならすぐ近くにいる" + _yo() + s + "の方を向いてごらん。", "Oh look carefully before asking, just turn " + s + ".")
				break
			}
			if ( p < 12 ) {
				s = lang("ちょっと前に" + s + "の方で見かけた" + _yo(), "I saw " + cnName(rc) + " just a minute ago. Try " + s + ".")
				break
			}
			if ( p < 20 ) {
				s = lang(cnName(rc) + "なら" + s + "の方角にいる" + _yo(), "Walk to " + s + " for a while, you'll find " + cnName(rc) + ".")
				break
			}
			if ( p < 35 ) {
				s = lang(cnName(rc) + "に会いたいのなら、" + s + "にかなり歩く必要があ" + _ru(), "If you want to meet " + cnName(rc) + ", you have to considerably walk to " + s + ".")
				break
			}
			s = lang(cnName(rc) + _ka(3) + "、ここから" + s + "の物凄く離れた場所にいるはず" + _da(), "You need to walk long way to " + s + " to meet " + cnName(rc) + ".")
			break
		loop
		if ( rc != tc & cExist(rc) == CHAR_STATE_ALIVE ) {
			s += lang(cnName(rc) + "の所まで案内してあげよう" + _ka(3) + "？", "May I guide you to" + cnName(rc) + "?")
			buff = s
			list(0, listmax) = 1
			listn(0, listmax) = lang("はい", "Yes.")
			listmax++
			list(0, listmax) = 0
			listn(0, listmax) = lang("いいえ", "No.")
			listmax++
			chatesc = 0
			gosub *label_3836
			if ( chatval == 1 ) {
				tc = rc
				cc = CHARA_PLAYER
				efid = SKILL_SPACT_SHADOW_STEP
				gosub *label_3383
				if ( cExist(CHARA_PLAYER) == CHAR_STATE_ALIVE ) {
					gosub *chat
				}
				if ( chatteleport == 1 ) {
					chatteleport = 0
					goto *map_exit
				}
				goto *label_4158
			}
		}
		else {
			buff = s
			goto *label_3785
		}
	}
	if ( chatval == 20000 ) {
		allyctrl = 0
		gosub *label_2694
		rc = stat
		if ( rc != (-1) ) {
			s = direction2(0, rc)
			p = dist(cX(CHARA_PLAYER), cY(CHARA_PLAYER), cX(rc), cY(rc))
			repeat 1
				if ( rc == tc ) {
					s = lang("冷やかし" + _ka(1), "You kidding? ")
					break
				}
				if ( cExist(rc) != CHAR_STATE_ALIVE ) {
					s = lang("奴なら今は死んでいる" + _yo(2), "Oh forget it, dead for now.")
					break
				}
				if ( cRelation(rc) < RELATION_NEUTRAL ) {
					s = lang("そこには案内できない" + _yo(2), "Cant it.")
					break
				}
				if ( p < 6 ) {
					s = lang(cnName(rc) + "ならすぐ近くにいる" + _yo() + s + "の方を向いてごらん。", "Oh look carefully before asking, just turn " + s + ".")
					break
				}
				if ( p < 12 ) {
					s = lang("ちょっと前に" + s + "の方で見かけた" + _yo(), "I saw " + cnName(rc) + " just a minute ago. Try " + s + ".")
					break
				}
				if ( p < 20 ) {
					s = lang(cnName(rc) + "なら" + s + "の方角にいる" + _yo(), "Walk to " + s + " for a while, you'll find " + cnName(rc) + ".")
					break
				}
				if ( p < 35 ) {
					s = lang(cnName(rc) + "に会いたいのなら、" + s + "にかなり歩く必要があ" + _ru(), "If you want to meet " + cnName(rc) + ", you have to considerably walk to " + s + ".")
					break
				}
				s = lang(cnName(rc) + _ka(3) + "、ここから" + s + "の物凄く離れた場所にいるはず" + _da(), "You need to walk long way to " + s + " to meet " + cnName(rc) + ".")
				break
			loop
			if ( rc != tc & cExist(rc) == CHAR_STATE_ALIVE & cRelation(rc) >= RELATION_NEUTRAL ) {
				listmax = 0
				s += lang(cnName(rc) + "の所まで案内してあげよう" + _ka(3) + "？", "May I guide you to" + cnName(rc) + "?")
				buff = s
				list(0, listmax) = 1
				listn(0, listmax) = lang("はい", "Yes.")
				listmax++
				list(0, listmax) = 0
				listn(0, listmax) = lang("いいえ", "No.")
				listmax++
				chatesc = 0
				gosub *label_3836
				if ( chatval == 1 ) {
					tc = rc
					cc = CHARA_PLAYER
					efid = SKILL_SPACT_SHADOW_STEP
					gosub *label_3383
					if ( cExist(CHARA_PLAYER) == CHAR_STATE_ALIVE ) {
						gosub *chat
					}
					if ( chatteleport == 1 ) {
						chatteleport = 0
						goto *map_exit
					}
					goto *label_4158
				}
			}
			else {
				buff = s
				goto *label_3785
			}
		}
		else {
			s = lang("冷やかし" + _ka(1), "You kidding? ")
			buff = s
			goto *label_3785
		}
	}
	if ( evid() == 11 ) {
		levelexitby = MAP_EXIT_NORMAL
		chatteleport = 1
		snd SOUNDLIST_EXITMAP1
	}
	goto *label_3835

*chat_quest
	if ( qStatus(rq) == QUEST_STATE_ONGOING ) {
		buff = lang("頼んでいた依頼は順調" + _kana(1), "What about my contract? Is everything alright? ")
		goto *label_3785
	}
	if ( qExist(rq) == QUEST_TYPE_PARTY ) {
		if ( qParam1(rq) > 6000 ) {
			qParam1(rq) = 6000
		}
	}
	if ( qExist(rq) == QUEST_TYPE_HARVEST ) {
		if ( qParam1(rq) > 200000 ) {
			qParam1(rq) = 200000
		}
	}
	val = 1
	gosub *label_0821
	listmax = 0
	list(0, listmax) = 1
	listn(0, listmax) = lang("受諾する", "I will take the job.")
	listmax++
	list(0, listmax) = 0
	listn(0, listmax) = lang("やめる", "Not now.")
	listmax++
	chatesc = 1
	gosub *label_3836
	if ( chatval == 1 ) {
		p = 0
		repeat gClient
			if ( qExist(cnt) == QUEST_TYPE_NONE ) {
				continue
			}
			if ( qStatus(cnt) != QUEST_STATE_NONE ) {
				p++
			}
		loop
		if ( p >= 5 ) {
			buff = lang("未完了の依頼が多すぎじゃない" + _kana(1) + "この仕事は、安心してまかせられない" + _yo(), "Hey, you've got quite a few unfinished contracts. See me again when you have finished them.")
			goto *label_3785
		}
		repeat 5
			p = gdata(GDATA_QUEST_POOL + cnt)
			f = 0
			repeat 5
				if ( gdata(GDATA_QUEST_POOL + cnt) == p ) {
					f++
				}
			loop
			if ( qStatus(p) == QUEST_STATE_NONE | f > 1 ) {
				gdata(GDATA_QUEST_POOL + cnt) = rq
				break
			}
		loop
		if ( qExist(rq) == QUEST_TYPE_DELIVER ) {
			if ( inv_getfreeid(CHARA_PLAYER) == (-1) ) {
				buff = lang("どうやらバックパックが一杯のよう" + _da() + "持ち物を整理してまた来て" + _kure(), "It seems your backpack is already full. Come see me again when you're ready.")
				goto *label_3785
			}
		}
		if ( qExist(rq) == QUEST_TYPE_ESCORT ) {
			f = get_freeally()
			if ( f == 0 ) {
				buff = lang("これ以上仲間を連れて行けないよう" + _da() + "人数を調整してまた来て" + _kure(), "It seems your party is already full. Come see me again when you're ready.")
				goto *label_3785
			}
			repeat
				if ( cnt == 99 ) {
					dbid = 35
				}
				else {
					dbid = 0
				}
				flt qLevel(rq) + cnt, FIX_QUALITY_BAD
				fltn "man"
				characreate MAX_CHARA_NC, dbid, -3, 0
				f = stat
				if ( f == 1 ) {
					repeat 16
						if ( cExist(cnt) == CHAR_STATE_DEAD ) {
							continue
						}
						if ( cId(cnt) == cId(rc) ) {
							if ( cbit(CHARA_BIT_BODYGUARD, cnt) == TRUE ) {
								f = 0
								break
							}
						}
					loop
				}
				if ( f == 1 ) {
					break
				}
			loop
			rc = MAX_CHARA_NC
			gosub *label_3911
			cbitmod CHARA_BIT_BODYGUARD, rc, TRUE
			qParam2(rq) = cId(rc)
		}
		qStatus(rq) = QUEST_STATE_ONGOING
		if ( qDeadline(rq) == (-1) ) {
			goto *label_3824
		}
		buff = lang(_thanks() + "期待してい" + _ru(), "Thanks. I'm counting on you.")
		if ( qExist(rq) == QUEST_TYPE_DELIVER ) {
			qQuestTarget(qdata((10 /*!!!@[QDATA_DEST_CLIENT @@@ QDATA_ENCOUNTER]@!!! */), rq))++
			flt
			itemcreate CHARA_PLAYER, qDestItem(rq), cX(CHARA_PLAYER), cY(CHARA_PLAYER), 0
			txt -1, lang(itemname(ci, 1) + "をバックパックに入れた。", "You put " + itemname(ci, 1) + " in your backpack.")
			snd SOUNDLIST_INV
			gosub *label_1681
			buff = lang("これが依頼の品物" + _da() + "期限には十分気をつけて" + _kure(), "Here's the package. Be aware of the deadline. I don't want to report you to the guards.")
		}
	}
	else {
		buff = lang("冷やかし" + _ka(1), "You kidding? ")
	}
	goto *label_3785

*label_3824
	if ( qExist(rq) == QUEST_TYPE_HUNT | qExist(rq) == QUEST_TYPE_HUNTEX ) {
		listmax = 0
		buff = lang("では、早速案内するので、モンスターを一匹残らず退治して" + _kure(), "Great! I'll guide you to the place, kill them all!")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
	}
	if ( qExist(rq) == QUEST_TYPE_HARVEST ) {
		listmax = 0
		buff = lang("畑までは案内するから、しっかりと期限内に作物を納入して" + _kure(), "Fine. I'll take you to my farm.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
	}
	if ( qExist(rq) == QUEST_TYPE_PARTY ) {
		listmax = 0
		buff = lang("ついて来て" + _kure() + "パーティー会場まで案内する" + _yo(), "Alright, I'll take you to the party now.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
	}
	if ( qExist(rq) == 1020 ) {
		listmax = 0
		buff = lang("それじゃあ案内するから、貴族たちをもてなして" + _kure(), "Fine. I'll take you to meeting place.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
	}
	if ( qExist(rq) == 1021 ) {
		listmax = 0
		buff = lang("しっかりと羊たちを守って" + _kure(), "Fine. I'll take you to my farm.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		gosub *label_3836
		if ( scenemode ) {
			if ( scene_cut == 1 ) {
				goto *label_3835
			}
		}
	}
	gQuest = qExist(rq), qType(rq), rq, 1
	gReturnArea = gArea , gLevel , cX(CHARA_PLAYER), cY(CHARA_PLAYER)
	gTeleportArea = AREA_QUEST
	gTeleportLevel = 1
	levelexitby = MAP_EXIT_TELEPORT
	chatteleport = 1
	goto *label_3835

*label_3825
	tcbk = tc
	menucycle = 0
	train = 0
	gosub *label_2879

*chat_train
	gosub *chat_refresh
	if ( csskill == (-1) ) {
		goto *label_4677
	}
	listmax = 0
	if ( csctrl == 2 ) {
		if ( cPlat(CHARA_PLAYER) >= calctraincost(csskill, cc) ) {
			train = 1
			snd SOUNDLIST_PAYGOLD1
			cPlat(CHARA_PLAYER) -= calctraincost(csskill, cc)
			p(40) = 15 * (100 + calctraitgrowthrate(cc, csskill)) / 100
			modgrowth cc, csskill, limit(p(40) - sgrowth(csskill, cc) / 15, 2, p(40))
			gmode 2
			redraw 0
			gosub *los_draw
			gosub *screen_drawStatus
			gosub *label_2880
			goto *chat_train
		}
		else {
			goto *label_4677
		}
	}
	else {
		buff = lang(skillname(csskill) + "の能力を習得するには" + thousandsep(str(calclearncost(csskill, cc))) + strplat + "かかるけどいい" + _kana(1), "Learning " + skillname(csskill) + " will cost you " + calclearncost(csskill, cc) + " platinum pieces.")
		if ( cPlat(CHARA_PLAYER) >= calclearncost(csskill, cc) ) {
			list(0, listmax) = 1
			listn(0, listmax) = lang("習得する", "Teach me the skill.")
			listmax++
		}
	}
	list(0, listmax) = 0
	listn(0, listmax) = lang("やめる", "Never mind.")
	listmax++
	chatesc = 1
	gosub *label_3836
	if ( chatval == 1 ) {
		snd SOUNDLIST_PAYGOLD1
		cPlat(CHARA_PLAYER) -= calclearncost(csskill, cc)
		skillgain cc, csskill
		gLearned++
		buff = lang("可能な限りの知識は教え" + _ta() + "後は存分に訓練して" + _kure(), "I've taught you all that I know of the skill. Now develop it by yourself.")
		throwsstpevent "SkillLearned", cc, skillname(csskill), 0
	}
	else {
		buff = lang("訓練が必要なときは、声をかけて" + _kure(), "Come see me again when you need more training.")
	}
	goto *label_3785

*chat_invest
	listmax = 0
	buff = lang("投資をしてくれる" + _noka(1) + thousandsep(str(calcinvestvalue())) + strgold + "かかるけどいいの" + _kana(1), "Oh, do you want to invest in my shop? It will cost you " + calcinvestvalue() + " golds. I hope you got the money.")
	if ( cGold(CHARA_PLAYER) >= calcinvestvalue() | ncgGoldOverflow > 0 ) {
		list(0, listmax) = 1
		listn(0, listmax) = lang("投資する", "Invest")
		listmax++
	}
	list(0, listmax) = 0
	listn(0, listmax) = lang("やめる", "Reject")
	listmax++
	chatesc = 1
	gosub *label_3836
	if ( chatval == 1 ) {
		snd SOUNDLIST_PAYGOLD1
		cGold(CHARA_PLAYER) -= calcinvestvalue()
		gosub *label_0422
		gosub *label_1602
		cRoleShopLv(tc) = limitaddition(cRoleShopLv(tc), rnd(2) + 2)
		if ( gArea  == AREA_HOME ) {
			calccosthire
		}
		se_investflag = 1
		goto *chat_invest
	}
	else {
		if ( se_investflag ) {
			buff = lang(_thanks(2), "Thanks!")
		}
		else {
			buff = lang("冷やかし" + _ka(1), "You kidding? ")
		}
		se_investflag = 0
		if ( gArea  == AREA_HOME ) {
			calccosthire
		}
	}
	goto *label_3785

*label_3828
	p2 = calcinvestvalue2(cRoleShopLv(tc), 50)
	listmax = 0
	buff = lang("大口投資をしてくれる" + _noka(1) + thousandsep(str(p2)) + strgold + "かかるけどいいの" + _kana(1), "Oh, do you want to invest in my shop? It will cost you " + p2 + " golds. I hope you got the money.")
	if ( cGold(CHARA_PLAYER) >= p2 | ncgGoldOverflow > 0 ) {
		list(0, listmax) = 1
		listn(0, listmax) = lang("大口投資する", "Invest")
		listmax++
	}
	list(0, listmax) = 0
	listn(0, listmax) = lang("やめる", "Reject")
	listmax++
	chatesc = 1
	gosub *label_3836
	if ( chatval == 1 ) {
		snd SOUNDLIST_PAYGOLD1
		cGold(CHARA_PLAYER) -= p2
		gosub *label_0422
		repeat 50
			gosub *label_1602
			cRoleShopLv(tc) = limitaddition(cRoleShopLv(tc), rnd(2) + 2)
		loop
		if ( gArea  == AREA_HOME ) {
			calccosthire
		}
		se_investflag = 1
		goto *label_3828
	}
	else {
		if ( se_investflag ) {
			buff = lang(_thanks(2), "Thanks!")
		}
		else {
			buff = lang("冷やかし" + _ka(1), "You kidding? ")
		}
		se_investflag = 0
		if ( gArea  == AREA_HOME ) {
			calccosthire
		}
	}
	goto *label_3785

*label_3830
	listmax = 0
	buff = lang("全額投資をしてくれる" + _noka(1) + thousandsep(str(cGold(CHARA_PLAYER))) + strgold + "かかるけどいいの" + _kana(1), "Oh, do you want to invest in my shop? It will cost you " + cGold(CHARA_PLAYER) + " golds. I hope you got the money.")
	if ( cGold(CHARA_PLAYER) >= 1 | ncgGoldOverflow > 0 ) {
		list(0, listmax) = 1
		listn(0, listmax) = lang("全額投資する", "Invest")
		listmax++
	}
	list(0, listmax) = 0
	listn(0, listmax) = lang("やめる", "Reject")
	listmax++
	p2 = cGold(CHARA_PLAYER) / calcinvestvalue()
	chatesc = 1
	gosub *label_3836
	if ( chatval == 1 ) {
		snd SOUNDLIST_PAYGOLD1
		cGold(CHARA_PLAYER) = -1
		gosub *label_0422
		shoprankdelta = rndex2(p2) + 2 * p2
		cRoleShopLv(tc) = limitaddition(cRoleShopLv(tc), shoprankdelta)
		repeat limitmax(p2, 19) + 1
			skillexp2 SKILL_NORMAL_INVESTING, CHARA_PLAYER, limitmax(200 * p2, 20000)
		loop
		buff = lang(_thanks(2), "Thanks!")
	}
	else {
		buff = lang("冷やかし" + _ka(1), "You kidding? ")
	}
	if ( gArea  == AREA_HOME ) {
		calccosthire
	}
	goto *label_3785

*label_3832
	if ( cFame(CHARA_PLAYER) < cAi(tc) * 50000 ) {
		listmax = 0
		buff = lang("もっと有名にならないと、拡張してもお客が来てくれない" + _yo(), "If you don't get more fame, customers won't wear your clothes when you expand.")
		tc = tc * (0 == 0) + (0 != 0) * 0
		list(0, listmax) = 0
		listn(0, listmax) = strmore
		listmax++
		chatesc = 1
		goto *label_3785
	}
	listmax = 0
	buff = lang("店の拡張には" + (cAi(tc) + 1) * 100 + "I" + strgold + "かかるけどいいの" + _kana(1), "Oh, do you want to invest in my shop? It will cost you " + (cAi(tc) + 1) * 100 + "I" + " golds. I hope you got the money.")
	if ( ncgGoldOverflow > (cAi(tc) + 1) * 100 ) {
		list(0, listmax) = 1
		listn(0, listmax) = lang("投資する", "Invest")
		listmax++
	}
	list(0, listmax) = 0
	listn(0, listmax) = lang("やめる", "Reject")
	listmax++
	chatesc = 1
	gosub *label_3836
	if ( chatval == 1 ) {
		snd SOUNDLIST_PAYGOLD1
		ncgGoldOverflow -= (cAi(tc) + 1) * 100
		gosub *label_0422
		cRoleShopLv(tc) = 100
		cAi(tc) += 1
		skillexp2 SKILL_NORMAL_INVESTING, CHARA_PLAYER, 5000 * cAi(tc)
		buff = lang(_thanks(2), "Thanks!")
	}
	else {
		buff = lang("冷やかし" + _ka(1), "You kidding? ")
	}
	goto *label_3785

*label_3833
	ogdata(gLevel ) = 0
	repeat 245 - 57, 57
		if ( cExist(cnt) != CHAR_STATE_DEAD ) {
			if ( cOrgRelation(cnt) == RELATION_NEUTRAL ) {
				if ( cRole(cnt) != ROLE_NONE ) {
					if ( cId(cnt) != CREATURE_ID_MAID ) {
						if ( cRole(cnt) != ROLE_PET_SENTRY & cRole(tc) != ROLE_PET_MAID ) {
							if ( cRole(cnt) != ROLE_MAYOR ) {
								ogdata(gLevel )++
							}
						}
					}
				}
			}
		}
	loop
	ogDungeonStayersTotal = ogDungeonStayers0F + ogDungeonStayers1F + ogDungeonStayers2F + ogDungeonStayers3F + ogDungeonStayers4F + ogDungeonStayers5F + ogDungeonStayers6F + ogDungeonStayers7F + ogDungeonStayers8F + ogDungeonStayers9F
	if ( ogDungeonStayersTotal > ogDungeonStayersGreatest ) {
		ogDungeonStayersGreatest = ogDungeonStayersTotal
	}
	if ( ogDungeonStayersGreatest > 30 ) {
		areaCanSave(gArea ) = 2
	}
	if ( ogDungeonStayersGreatest > 60 ) {
		areaCanSave(gArea ) = 3
	}
	if ( ogDungeonStayersGreatest > 90 ) {
		areaCanSave(gArea ) = 4
	}
	if ( ogDungeonStayersGreatest > 120 ) {
		areaCanSave(gArea ) = 5
	}
	if ( ogDungeonStayersGreatest > 150 ) {
		areaCanSave(gArea ) = 6
	}
	if ( areaCanSave(gArea ) != 1 ) {
		if ( areaCanSave(gArea ) > ogDungeonBuiltFloors ) {
			ogDungeonBuiltFloors = areaCanSave(gArea )
			snd SOUNDLIST_BUILD1
			txt -1, lang("住人が増えたので地下" + (areaCanSave(gArea ) - 1) + "階まで使えるようになった！", "Since total number of residents has increased, it is now possible to go down " + (areaCanSave(gArea ) - 1) + " floors underground!")
		}
	}
	gosub *label_2665
	goto *label_3835

*label_3835
	questteleport = 0
	if ( scenemode == FALSE ) {
		screenupdate = -1
		gosub *screen_draw
	}
	return

*label_3836
	cs_bk = -1
	key_list = key_enter
	repeat listmax
		key_list(cnt) = key_select(cnt)
		keyrange++
	loop
	keyrange = listmax
	key = ""
	objprm 0, ""
	keylog = ""
	if ( cfg_putgrass == 1 ) {
		repeat listmax
			sreplace listn(0, cnt), listn(0, cnt), "…", "ｗｗｗ"
		loop
	}
	if ( cfg_putgrass == 2 ) {
		repeat promptmax
			sreplace listn(0, cnt), listn(0, cnt), "…", "ｗｗｗｗｗｗ"
			sreplace listn(0, cnt), listn(0, cnt), "、", "ｗｗｗ"
			sreplace listn(0, cnt), listn(0, cnt), "。", "ｗｗｗ"
			sreplace listn(0, cnt), listn(0, cnt), "！", "ｗｗｗ！"
			sreplace listn(0, cnt), listn(0, cnt), "？", "ｗｗｗ？"
		loop
	}
	gosub *label_3844

*label_3840
	gosub *label_3846
	font lang(cfg_font1, cfg_font2), 14 - en * 2, 0
	cs_listbk
	repeat keyrange
		if ( cs == cnt ) {
			color 100, 160, 250
		}
		else {
			color 255, 255, 255
		}
		noteget s, cnt
		if ( cnt < 7 ) {
			x = wx + 136
			y = wy + wh - 56 - limitmax(keyrange, 7) * 19 + cnt * 19 + 2
		}
		else {
			x = wx + 366
			y = wy + wh - 56 - limitmax(keyrange, 7) * 19 + (cnt - 7) * 19 + 2
		}
		display_key x, y, cnt
		cs_list listn(0, cnt), x + 30, y, 18, 4, 0
	loop
	cs_bk = cs
	redraw 1
	await cfg_wait1
	key_check
	cursor_check
	stick a, 128
	if ( a == 128 ) {
		if ( scenemode ) {
			scene_cut = 1
			goto *label_3843
		}
	}
	p = -1
	repeat keyrange
		if ( key == key_select(cnt) ) {
			p = list(0, cnt)
			break
		}
	loop
	if ( p != (-1) ) {
		chatval = p
		goto *label_3843
	}
	if ( key == key_pageup ) {
		if ( keyrange >= 7 ) {
			if ( cs < 7 ) {
				cs += 7
				if ( cs >= keyrange ) {
					cs = keyrange - 1
				}
			}
			else {
				cs -= 7
				if ( cs < 0 ) {
					cs += 7
					if ( cs >= keyrange ) {
						cs = keyrange - 1
					}
				}
			}
			goto *label_3840
		}
	}
	if ( key == key_pagedown ) {
		if ( keyrange >= 7 ) {
			if ( cs < 7 ) {
				cs += 7
				if ( cs >= keyrange ) {
					cs = keyrange - 1
				}
			}
			else {
				cs -= 7
				if ( cs < 0 ) {
					cs += 7
					if ( cs >= keyrange ) {
						cs = keyrange - 1
					}
				}
			}
			goto *label_3840
		}
	}
	if ( key == key_cancel ) {
		if ( chatesc == 1 ) {
			chatval = -1
			goto *label_3843
		}
	}
	goto *label_3840

*label_3843
	snd SOUNDLIST_MORE1
	cs = 0
	listmax = 0
	return

*label_3844
	if ( scenemode == FALSE ) {
		screenupdate = -1
		gosub *screen_draw
		cs = 0
	}
	if ( nightfall ) {
		gosub *sleep_draw_init
		gosub *label_3309
	}
	misakuraconvert buff
	notesel buff
	split buff, "#n#"
	gyousu = stat
	if ( gyousu > 1 ) {
		sdim nline, 300, gyousu
		split buff, "#n#", nline
		buff = ""
		repeat gyousu
			talk_conv nline(cnt), 56 - en * 3
			matubi = strmid(nline(cnt), -1, 2)
			if ( matubi == "\n" ) {
				nline(cnt) = strtrim(nline(cnt), 2, 10)
				nline(cnt) = strtrim(nline(cnt), 2, 13)
			}
			noteadd nline(cnt)
		loop
	}
	else {
		talk_conv buff, 56 - en * 3
	}
	chatpicload_ed = 0
	redraw 0
	wx = (windoww - 600) / 2 + inf_screenx
	wy = winposy(380)
	ww = 600
	wh = 380
	gmode 6, , , 80
	pos wx + 4, wy - 16
	gcopy BUFFER_PIC, 0, 0, 600, 380

*label_3846
	redraw 0
	gmode 2
	pos wx, wy - 20
	gcopy BUFFER_PIC, 0, 0, 600, 380
	if ( cPortrait(tc) >= 0 | scenemode ) {
		p = cSex(tc) * 64 + cPortrait(tc)
		if ( scenemode ) {
			p = int(actor(1, rc))
		}
		pos wx + 42, wy + 42
		exist exedir + "user\\graphic\\user_npcface" + p + ".bmp"
		if ( strsize != (-1) ) {
			if ( chatpicload_ed == 0 ) {
				gsel 32
				pos 0, 0
				picload_ exedir + "user\\graphic\\user_npcface" + p + ".bmp", 1
				gsel BUFFER_SCREEN
				chatpicload_ed = 1
			}
			pos wx + 42, wy + 42
			gzoom 80, 112, 32, 0, 0, 80, 112
		}
		else {
			if ( ex_userface == 1 ) {
				gzoom 80, 112, 4, p \ 16 * 80, p / 16 * 112, 80, 112
			}
			else {
				gzoom 80, 112, 4, p \ 16 * 48, p / 16 * 72, 48, 72
			}
		}
	}
	else {
		s = exedir + "user\\graphic\\face" + abs(cPortrait(tc) + 1) + ".bmp"
		exist s
		if ( strsize == (-1) | cPortrait(tc) == (-1) ) {
			flag = 0
			if ( cPortrait(tc) == (-1) ) {
				if ( cId(tc) == CREATURE_ID_USER ) {
					if ( userdata2(0, cUNID(tc)) ) {
						pos wx + 42, wy + 42
						gzoom 80, 112, 100, cUNID(tc) \ 16 * 80, cUNID(tc) / 16 * 112, 80, 112
						flag = 1
					}
				}
			}
			if ( flag == 0 ) {
				transmissivity = 0
				if ( cId(tc) == CREATURE_ID_USER ) {
					if ( userdata2(1, cUNID(tc)) ) {
						transmissivity = userdata2(1, cUNID(tc))
					}
				}
				if ( ocChipTransparency(tc) ) {
					transmissivity = ocChipTransparency(tc)
				}
				p = getcharapic(tc)
				p(1) = getcharacolor(tc)
				chara_preparepic p, p(1)
				pos wx + 82, wy + 125 - chipc(CHIPC_F, p)
				gmode 4, chipc(CHIPC_WIDTH, p), chipc(CHIPC_HEIGHT, p), 256 - transmissivity
				color 0, 0, 0
				grotate BUFFER_CHR, 0, 960, 0, chipc(CHIPC_WIDTH, p) * 2, chipc(CHIPC_HEIGHT, p) * 2
			}
		}
		else {
			if ( chatpicload_ed == 0 ) {
				gsel BUFFER_BUF
				pos 0, 0
				picload_ s, 1
				gsel BUFFER_SCREEN
				chatpicload_ed = 1
			}
			pos wx + 42, wy + 42
			gzoom 80, 112, 4, 0, 0, 80, 112
		}
	}
	gmode 2
	font lang(cfg_font1, cfg_font2), 10 - en * 2, 0
	color 0, 0, 0
	display_topic lang("友好", "Impress"), wx + 28, wy + 170
	display_topic lang("興味", "Attract"), wx + 28, wy + 215
	font lang(cfg_font1, cfg_font2), 12 + sizefix - en * 2, 1
	color 20, 10, 5
	if ( cnAka(tc) == "" ) {
		s = cnName(tc) + " "
	}
	else {
		s = lang(cnAka(tc) + " " + cnName(tc) + " ", cnName(tc) + " of " + cnAka(tc) + " ")
	}
	if ( cSex(tc) == 0 ) {
		s += cnven(strmale)
	}
	else {
		s += cnven(strfemale)
	}
	s += " " + calcage(tc) + lang("歳", " years")
	if ( cnAka(tc) != "" ) {
		s += lang(" 名声 ", " Fame: ") + cFame(tc)
	}
	if ( cRole(tc) >= (1000 /*!!!@[ROLE_SHOP_MIN @@@ ROLE_SHOP_WEAPON]@!!! */) & cRole(tc) < (2000 /*!!!@[ROLE_GUEST_BEGGAR @@@ ROLE_GUEST_MIN]@!!! */) | cRole(tc) == ROLE_GUEST_MERCHANT | cRole(tc) == ROLE_SHOP_MATERIAL | cRole(tc) == ROLE_SHOP_SPELLBOOK | cRole(tc) == ROLE_SHOP_APHRODISIAC | cRole(tc) == ROLE_SHOP_DOUJINSHI | cRole(tc) == ROLE_SHOP_UNKNOWN3104 | cRole(tc) == ROLE_SHOP_HERB_MERCHANT | cRole(tc) == ROLE_SHOP_PROSTITUTE_GUILD | cRole(tc) == ROLE_SHOP_BLACKSMITH_GUILD | cRole(tc) == ROLE_SHOP_MYSTERIOUS_PRODUCER | cRole(tc) == ROLE_SHOP_FAIRY | cRole(tc) == ROLE_SHOP_MORPHY ) {
		if ( cAi(tc) > 0 ) {
			s += lang(" 店の規模:", " Shop Rank:") + short_show(cRoleShopLv(tc)) + "(" + cnvfix(cAi(tc)) + ")"
		}
		else {
			s += lang(" 店の規模:", " Shop Rank:") + cRoleShopLv(tc)
		}
	}
	if ( gGodDetect ) {
		s += " (" + godname(godcheck(tc)) + ")"
	}
	if ( scenemode ) {
		s = actor(0, rc)
	}
	pos wx + 120, wy + 16
	mes s
	if ( cRole(tc) >= (1000 /*!!!@[ROLE_SHOP_MIN @@@ ROLE_SHOP_WEAPON]@!!! */) & cRole(tc) < (2000 /*!!!@[ROLE_GUEST_BEGGAR @@@ ROLE_GUEST_MIN]@!!! */) | cRole(tc) == ROLE_GUEST_MERCHANT | cRole(tc) == ROLE_SHOP_MATERIAL | cRole(tc) == ROLE_SHOP_SPELLBOOK | cRole(tc) == ROLE_SHOP_APHRODISIAC | cRole(tc) == ROLE_SHOP_DOUJINSHI | cRole(tc) == ROLE_SHOP_UNKNOWN3104 | cRole(tc) == ROLE_SHOP_HERB_MERCHANT | cRole(tc) == ROLE_SHOP_PROSTITUTE_GUILD | cRole(tc) == ROLE_SHOP_BLACKSMITH_GUILD | cRole(tc) == ROLE_SHOP_MYSTERIOUS_PRODUCER | cRole(tc) == ROLE_SHOP_FAIRY | cRole(tc) == ROLE_SHOP_MORPHY ) {
		s = ""
		_next = cRoleRestock(tc) - gHour  - gDay  * 24 - gMonth  * 24 * 30 - gYear  * 24 * 30 * 12
		if ( _next > 0 ) {
			_h = gHour  + _next \ 24
			_d = gDay  + _next / 24
			_m = gMonth 
			if ( _h >= 24 ) {
				_h -= 24
				_d += 1
			}
			if ( _d > 30 ) {
				_d -= 30
				_m += 1
			}
			if ( _m > 12 ) {
				_m -= 12
			}
			if ( jp ) {
				s += "" + _m + "月" + _d + "日" + _h + "時"
			}
			else {
				s += "" + _m + "/" + _d + " " + _h + ":00"
			}
		}
		else {
			s += lang(" 入荷完了！", "Has restocked")
		}
		display_topic lang("次回入荷", "Restocks on"), wx + 28, wy + 260
		font lang(cfg_font1, cfg_font2), 13 - en * 2, 0
		color 20, 10, 5
		pos wx + 32, wy + 288
		mes s
	}
	font lang(cfg_font1, cfg_font2), 13 - en * 2, 0
	color 20, 10, 5
	if ( chatval(2) == 1 | cRelation(tc) == RELATION_ALLY | cRole(tc) == ROLE_PET_SENTRY | cRole(tc) == ROLE_PET_MAID | cRole(tc) == ROLE_ADVENTURER | (areaId(gArea ) == AREA_DUNGEON & cRole(tc) != ROLE_NONE) ) {
		s = _impression(implevel(cImpression(tc)))
		if ( cImpression(tc) < 150 ) {
			s(1) = "" + cImpression(tc)
		}
		else {
			s(1) = "???"
		}
		pos wx + 32, wy + 198
		mes "(" + s(1) + ")" + s
		if ( cInterest(tc) >= 0 ) {
			repeat cInterest(tc) / 5 + 1
				pos wx + 26 + cnt * 4, wy + 245
				gcopy BUFFER_INF, 16, 360, 16, 16
			loop
		}
	}
	else {
		color 0, 0, 0
		pos wx + 60, wy + 198
		mes "-"
		pos wx + 60, wy + 245
		mes "-"
	}
	font lang(cfg_font1, cfg_font2), 14 - en * 2, 0
	color 20, 10, 5
	notesel buff
	repeat noteinfo(0)
		p = cnt
		x = wx + 150
		y = wy + 43 + cnt * 19
		noteget s, p
		pos x, y
		mes s
	loop
	return

*label_3849
	flt
	itemcreate -1, ITEM_ID_SUITCASE, -1, -1, 0
	flt
	itemcreate -1, ITEM_ID_WALLET, -1, -1, 0
	repeat maxitemid
		if ( cnt == 743 ) {
			continue
		}
		f = 0
		if ( cnt != 672 ) {
			if ( itemmemory(0, cnt) ) {
				f = 1
			}
		}
		if ( 673 <= cnt & cnt <= 683 ) {
			if ( itemmemory(1, cnt) ) {
				f = 1
			}
		}
		if ( cnt == 665 ) {
			if ( npcmemory(0, CREATURE_ID_TUWEN_THE_MASTER_OF_THE_PYRAMID) ) {
				f = 1
			}
		}
		if ( cnt == 360 ) {
			if ( flagMain >= 125 ) {
				f = 1
			}
		}
		if ( cnt == 661 ) {
			if ( sqYeek >= 1000 ) {
				f = 1
			}
		}
		if ( cnt == 663 ) {
			if ( sqSilverCat >= 1000 ) {
				f = 1
			}
		}
		if ( cnt == 641 ) {
			if ( sqDog >= 1000 ) {
				f = 1
			}
		}
		if ( cnt == 666 ) {
			if ( sqVein >= 1000 ) {
				f = 1
			}
		}
		if ( cnt == 686 ) {
			if ( sqSewer >= 1000 ) {
				f = 1
			}
		}
		if ( cnt == 672 ) {
			if ( sqNuke >= 1000 ) {
				f = 1
			}
		}
		if ( cnt == 662 ) {
			if ( sqKamikaze >= 1000 ) {
				f = 1
			}
		}
		if ( cnt == 655 ) {
			if ( sqVein >= 1000 | sqWar >= 1000 | ncgQuestForMyFriends >= 1000 ) {
				f = 1
			}
		}
		if ( cnt == 639 ) {
			if ( sqMother >= 1000 | ncgQuestAwaitOnesReturn >= 1000 ) {
				f = 1
			}
		}
		if ( f ) {
			randomize gDay  + cnt
			flt difficulty() * 3 / 2, calcfixlv(FIX_QUALITY_GREAT)
			itemcreate -1, cnt, -1, -1, 0
			if ( stat == 1 ) {
				if ( iQuality(ci) < FIX_QUALITY_MIRACLE ) {
					iNum(ci) = 0
				}
				if ( cnt == 672 ) {
					iParam1(ci) = 162
				}
			}
		}
	loop
	randomize
	return

*label_3851
	if ( tc > CHARA_PLAYER ) {
		if ( cRole(tc) == ROLE_SHOP_TRADE ) {
			gosub *shop_tradePrice
		}
	}
	mode = MODELIST_SHOP
	file = "shoptmp.s2"
	ctrlfile 4
	if ( cRoleFileId(tc) == 0 ) {
		if ( cRole(tc) == ROLE_SHOP_WANDER | cRole(tc) == ROLE_GUEST_MERCHANT ) {
			cRoleFileId(tc) = 1
		}
		else {
			if ( cRole(tc) == ROLE_SHOP_ELLY ) {
				cRoleFileId(tc) = 3001
			}
			else {
				gCountShop++
				cRoleFileId(tc) = gCountShop
			}
		}
		gosub *label_0253
	}
	else {
		if ( getgametime() >= cRoleRestock(tc) ) {
			gosub *label_0253
		}
		else {
			file = "shop" + invfile + ".s2"
			ctrlfile 3
		}
	}
	invfile = cRoleFileId(tc)
	goto *label_3853

*shop
	mode = MODELIST_SHOP
	file = "shoptmp.s2"
	ctrlfile 4
	file = "shop" + invfile + ".s2"
	ctrlfile 3
	shoptrade = 0
	if ( tc > CHARA_PLAYER ) {
		if ( cRole(tc) == ROLE_SHOP_TRADE ) {
			shoptrade = 1
		}
	}
	goto *label_2974

*label_3853
	file = "shop" + invfile + ".s2"
	ctrlfile 4
	file = "shoptmp.s2"
	ctrlfile 3
	mode = MODELIST_MAIN
	return

*shop_tradePrice
	dim trate, 8
	repeat 8
		trate(cnt) = 100
	loop
	if ( gArea  == AREA_VERNIS ) {
		trate(0) = 190
		trate(1) = 70
		trate(3) = 130
		trate(2) = 85
		trate(6) = 250
		trate(7) = 160
	}
	if ( gArea  == AREA_PORT_KAPUL ) {
		trate(0) = 65
		trate(1) = 130
		trate(4) = 175
		trate(5) = 65
		trate(2) = 70
		trate(6) = 400
		trate(7) = 250
	}
	if ( gArea  == AREA_PALMIA ) {
		trate(0) = 160
		trate(2) = 75
		trate(4) = 75
		trate(1) = 175
		trate(6) = 130
		trate(7) = 80
	}
	if ( gArea  == AREA_YOWYN ) {
		trate(0) = 160
		trate(3) = 75
		trate(2) = 160
		trate(6) = 280
		trate(7) = 100
	}
	if ( gArea  == AREA_DERPHY ) {
		trate(0) = 85
		trate(3) = 70
		trate(5) = 160
		trate(2) = 190
		trate(6) = 190
		trate(7) = 90
	}
	if ( gArea  == AREA_NOYEL ) {
		trate(1) = 325
		trate(0) = 310
		trate(3) = 280
		trate(5) = 190
		trate(2) = 220
		trate(6) = 75
		trate(7) = 160
	}
	if ( gArea  == AREA_LUMIEST ) {
		trate(1) = 235
		trate(0) = 190
		trate(3) = 100
		trate(5) = 160
		trate(2) = 160
		trate(6) = 100
		trate(7) = 70
	}
	if ( gArea  == 50 ) {
		trate = 55, 100, 130, 90, 100, 65, 180, 90
	}
	if ( gArea  == 51 ) {
		trate = 80, 140, 130, 100, 115, 80, 85, 80
	}
	if ( gArea  == 52 ) {
		trate = 135, 120, 120, 100, 120, 100, 130, 100
	}
	if ( gArea  == 53 ) {
		trate = 140, 80, 100, 90, 100, 90, 130, 80
	}
	if ( gArea  == 54 ) {
		trate = 130, 90, 80, 80, 65, 120, 140, 90
	}
	randomize getgametime() / 100
	repeat 10
		trate(cnt) += rnd(15) - rnd(45)
	loop
	randomize
	return




































